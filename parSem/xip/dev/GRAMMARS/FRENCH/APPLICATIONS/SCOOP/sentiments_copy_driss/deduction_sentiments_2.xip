// deduction_sentiments_2.xip
// dépendances de sentiments, 2ème partie (de deduction_sentiments.xip), inversion de la polarité,
// coordination, coréférence et annulation de sentiments
// créé: 25.6.2007 (Sigrid Maurel)
// modifié: 3.2.2009 (Sigrid Maurel)


Déduction:

//----------------------------------------------------------------------------------------------------
// inversion de sentiments ( pas positive > négatif OU pas négatif > positive )
// pas (encore?) de re-attribution de confiance, confiance initiale gardée


//******************************************* Correction  ********************************************

// ------------------------------ inversion de polarité


//************************************** NEGAT APPRECIATION ******************************************
//====================================================================================================
//=============================================== (1) ================================================

// (ne ... pas) + verb(sentiment)

if(^SENTIMENT[!typesent:!, positive : +](#2, #1, #3, #10) &  NEGAT(#1)) 
	SENTIMENT[negative = +, positive = ~, numNeg = 1](#2, #1, #3, #10).


// Je ne te  déconseille  pas Paris.

if(^SENTIMENT[!typesent:!, negative : +, numNeg : ~1](#2, #1, #3, #10) &  NEGAT(#1)) 
	SENTIMENT[positive = +, negative = ~, numNeg = 1](#2, #1, #3, #10).

//====================================================================================================
//====================================================================================================


//====================================================================================================
//=============================================== (2) ================================================

//Lucas ne filme pas magnifiquement les paysages.	
// Je recommande de ne pas voir Paris .		

if(^SENTIMENT[!typesent:!, positive : +, numNeg : ~1](#1, #2, #3, #10) &  NEGAT(#3)  ) 
	SENTIMENT[negative = +, positive = ~, numNeg = 2](#1, #2, #3, #10).

//
if(^SENTIMENT[!typesent:!, negative : +, numNeg : ~2, numNeg : ~1](#1, #2, #3, #10) & NEGAT(#3) ) 
	SENTIMENT[positive = +, negative = ~, numNeg = 2](#1, #2, #3, #10).

//====================================================================================================
//====================================================================================================




//************************************** Fin NEGAT APPRECIATION **************************************
//****************************************************************************************************






//******************************************** NEGAT OPINION *****************************************
//****************************************************************************************************

//====================================================================================================
//=========================================== (3) ===================================================

//je ne pense pas que le film est bon.

if(^SENTIMENT[opinion : +, positive : +](#1, #2, #3, #10) & SCOPE(#5[verbop : +], #6[lemme : être]) & OBJ[spred : +](#6, #2))
	SENTIMENT[opinion = +, negative = +, positive = ~, numneg = 3](#1, #2, #3, #10).



if(^SENTIMENT[opinion : +, negative : +, numneg : ~3](#1, #2, #3, #10) & SCOPE(#5[verbop : +], #6[lemme : être]) & OBJ[spred : +](#6, #2))
	SENTIMENT[opinion = +, positive = +, negative = ~, numneg = 3](#1, #2, #3, #10).

//====================================================================================================
//=========================================== (4) ===================================================

 //il n' est pas évident que Luc aime le film .
if(^SENTIMENT[opinion : +, positive : +](#1, #2, #3, #10) & ADJMOD(#4[adjop : +], #2) & NEGAT(#4))
	SENTIMENT[opinion = +, negative = +, positive = ~, numneg = 4](#1, #2, #3, #10).

if(^SENTIMENT[opinion : +, negative : +, numneg : ~4](#1, #2, #3, #10) & ADJMOD(#4[adjop : +], #2) & NEGAT(#4))
	SENTIMENT[opinion = +, negative = ~, positive = +, numneg = 4](#1, #2, #3, #10).

//====================================================================================================
//====================================================================================================


//***************************************** Fin NEGAT OPINION ****************************************
//****************************************************************************************************


//====================================================================================================
//========================================== (5) ====================================================

//le parc est moins réussi.
if(^SENTIMENT[!typesent:!, positive : +](#1, #2, #3, #10) & VMOD(#2, #4[lemme : moins]) )
	 SENTIMENT[negative = +, positive = ~, numNeg = 5](#1, #2, #3, #10).

//le parc est moins raté.
if(^SENTIMENT[!typesent:!, negative : +, numNeg : ~5](#1, #2, #3, #10) & VMOD(#2, #4[lemme : moins]) )
	 SENTIMENT[positive = +, negative = ~, numNeg = 5](#1, #2, #3, #10).

//====================================================================================================
//====================================================================================================



//====================================================================================================
//============================================ (6) ==================================================

//Paris est une moins belle ville.
 if(^SENTIMENT[!typesent:!, positive : +](#1, #2, #3, #10) & ADJMOD(#2, #4[lemme : moins]) )
	 SENTIMENT[negative = +, positive = ~, numNeg = 6](#1, #2, #3, #10).


if(^SENTIMENT[!typesent:!, negative : +, numNeg : ~6](#1, #2, #3, #10) & ADJMOD(#2, #4[lemme : moins]) )
	 SENTIMENT[positive = +, negative = ~, numNeg = 6](#1, #2, #3, #10).

//====================================================================================================
//====================================================================================================




//====================================================================================================
//=========================================== (7) ===================================================
// Rien est bon marché.
// Rien n'est pas  bon marché.

if ( ^SENTIMENT[!typesent:!, positive:+](#8, #1, #3[lemme:rien], #10) & ( ~NEGAT(#1) | ADJMOD(#1, #5[lemme : pas])) )
SENTIMENT[negative=+, positive=~, numNeg = 7](#8, #1, #3, #10).



// numNeg: ~8 "rien n'est bon marché" dans ce cas rien n'inverse pas la polarité
// Rien est cher. 
if ( ^SENTIMENT[!typesent:!, negative:+, numNeg : ~7](#8, #1, #3[lemme:rien], #10) & ( ~NEGAT(#1) | ADJMOD(#1, #5[lemme : pas]) )  )
SENTIMENT[positive=+, negative=~, numNeg = 7](#8, #1, #3, #10).

//====================================================================================================
//====================================================================================================



//====================================================================================================
//======================================== (8) ======================================================

// Aucun est jolie.
if (  ^SENTIMENT[!typesent:!, positive:+](#8, #1, #3[lemme:aucun], #10)& ( ~NEGAT(#1) | ADJMOD(#1, #5[lemme : pas])) )
SENTIMENT[negative = +, positive = ~, numNeg = 8](#8, #1, #3, #10).

// Aucun est cher.
if ( ^SENTIMENT[!typesent:!, positive:+, numNeg : ~8](#8, #1, #3[lemme:aucun], #10) & ( ~NEGAT(#1) | ADJMOD(#1, #5[lemme : pas])))
SENTIMENT[positive = +, negative = ~, numNeg = 8](#8, #1, #3, #10).

//====================================================================================================
//====================================================================================================




//====================================================================================================
//======================================= (9) ==================================================

// En générale "à défaut de" n'introduit qu'un sentiment négatif

// Dès le départ, le mélange est intéressant à défaut d'être beau. OBJ(#6_être, #5_beau)
// Dès le départ, le mélange est intéressant à défaut de n'être pas mauvais.  OBJ(#6_être, #5_mauvais)

if ( SENTIMENT[!typesent:!, positive:+](#8, #1, #2, #10)  & PREPOBJ(#6[lemme : être], #3[lemme:"à défaut de"]) 
	& OBJ(#7[lemme : être], #1) & OBJ(#6, #5) & VMOD(#7[aux : +], #6[aux : +, inf : +]) 
	 )
SENTIMENT[negative = +, numNeg = 27](#8, #5, #2, #10).

//====================================================================================================
//====================================================================================================



//====================================================================================================
//======================================== (10) ======================================================
|NP{#5[quantNeg : +], ?*, #1}|
if ( ^SENTIMENT[!typesent:!, positive:+](#1, #2, #3, #10) )
	SENTIMENT[positive = ~, negative = +, numNeg = 11](#1, #2, #3, #10).

|NP{#5[quantNeg : +], ?*, #1}|
if ( ^SENTIMENT[!typesent:!, negative:+, numNeg : ~11](#1, #2, #3, #10)  )
	SENTIMENT[positive = +, negative = ~, numNeg = 11](#1, #2, #3, #10).

//====================================================================================================
//====================================================================================================


//====================================================================================================
//======================================== (11) ======================================================

// Aucune idée est intéressante dans ce soft...
if ( ^SENTIMENT[!typesent:!, positive:+](#8, #1, #2, #10) & DETERM[quant:+](#2, #3[lemme:aucun]) )
	SENTIMENT[positive = ~, negative = +, numNeg = 11](#8, #1, #2, #10).

// Aucune idée est ennuyante dans ce soft...
if ( ^SENTIMENT[!typesent:!, negative:+, numNeg : ~11](#8, #1, #2, #10) & DETERM[quant:+](#2, #3[lemme:aucun]) )
	SENTIMENT[positive = +, negative = ~, numNeg = 11](#8, #1, #2, #10).

//====================================================================================================
//====================================================================================================




//******************************************** NEGAT IMPRIMANTE *****************************************
//****************************************************************************************************

//====================================================================================================
//=========================================== (11) ===================================================


if(^SENTIMENT[positive : +](#5, #1[rapidite : +], #2[rapidite : -], #10) )
	SENTIMENT[positive = ~, negative = +, numNeg = 11](#5, #1, #2, #10)



if(^SENTIMENT[negative : +, numNeg : ~11](#5, #1[rapidite : +], #2[rapidite : -], #10) )	
	SENTIMENT[positive = +, negative = ~, numNeg = 11](#5, #1, #2, #10)
//====================================================================================================
//====================================================================================================

//************************************** Fin Correction ***********************************************
//*****************************************************************************************************















//*************************************** Annulation de sentiment ************************************

// dans des phrases interrogatives et subordonnées, il y a redondance ou il ne s'agit pas de "vrai" sentiment.


// -------------------------------------- Subordonnées --------------------------------------



//====================================================================================================
//====================================================================================================
// le développement de WipEout Fusion à été bouclé et c' est bien dommage .

 if( ^SENTIMENT(#1, #2, #3[lemme : ce], #10) & SENTIMENT(#1, #2, #4, #10) & SUBJ[coord : +](#5, #3) 
	& SUBJ(#5, #4)) ~.


//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================

//  ce jeu qui est une réussite .

 if( ^SENTIMENT(#1, #2, #3[lemme : qui], #10) & COREF[rel : +](#4, #3) & SENTIMENT(#1, #2, #4, #10) 
	& SUBJ(#5, #3) & SUBJ(#5, #4)) ~.


//====================================================================================================
//====================================================================================================




//====================================================================================================
//====================================================================================================

// cette diversité que j'aime car c'est une richesse.

if ( ^SENTIMENT[!sentiment:!, !typesent:!](#1, #2, #3[lemme : que], #10) & COREF[rel : +](#4[no-sents : ~], #3) 
)
SENTIMENT(#1, #2, #4, #10).


//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================

if (^SENTIMENT[!sentiment:!, !typesent:!](#3[lemme : qui], #2, #1, #10) & COREF(#4, #3) & ~SENTIMENT(#4, #2, #1, #10)) 
	 SENTIMENT(#4, #2, #1, #10).


//====================================================================================================
//====================================================================================================


//====================================================================================================
//====================================================================================================

if(	^SENTIMENT[!sentiment:!, !typesent:!](#8, #9, #2, #10)
	& OBJ[spred : +](#1, #3[sentiment : ~, adj : ~, adv : ~, verb : ~, det : ~]) 
	& SUBJ(#1[lemme : être], #2[lemme : ce])  
	& ~OBJ[spred : +](#1, #9)
)
SENTIMENT(#8, #9, #3, #10) 


//====================================================================================================
//====================================================================================================


//====================================================================================================
//====================================================================================================

//un film qui me plait.  supprimer la relation SENTIMENT(me, plait, qui)

if (^SENTIMENT(#2,#3,#1, #10) & COREF(#4, #2[rel : +]) & SENTIMENT(#4,#3,#1, #10) ) ~.

//====================================================================================================
//====================================================================================================



//------------------------------------------ Fin Subordonnées ----------------------------------------
//----------------------------------------------------------------------------------------------------








//------------------------------------------ interrogatives ------------------------------------------

//====================================================================================================
//====================================================================================================
// dans une phrase avec "si" ou "quand"
// ( Si + quand ) vous aimez le genre, vous savez ce qu' il vous reste à faire.

if ( ^SENTIMENT(#8, #1, #2, #10) & ( CONNECT(#1, #3[lemme : si]) | CONNECT(#2, #3[lemme : si]) ) ) ~.
if ( ^SENTIMENT(#8, #1, #2, #10) & ( CONNECT(#1, #3[lemme : quand]) | CONNECT(#2, #3[lemme : quand]) ) ) ~.

//====================================================================================================
//====================================================================================================


// Et c'était le bon chemin ?

| SC{?*,FV{?*, #1}}, ?*[verb : ~],#5[sent : +, question : +]|

if ( ^SENTIMENT(#8, #1, #2, #10) &   (#1 < #5)  ) ~.
//====================================================================================================
//====================================================================================================
// Et si c'était le bon chemin ?

|SC{BG{#3[lemme : si]}}, ?*, #5[sent : +, question : +]|

if ( ^SENTIMENT(#8, #1, #2, #10) &  (#1 > #3) & (#1 < #5)  ) ~.

//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================
// S'il est agréable et véritablement sympathique de se laisser emporter par l'émotion ...

if ( ^SENTIMENT(#8, #1, #2, #10) &  ( OBJ(#4, #1) | OBJ(#4, #2) )& CONNECT(#4, #3[lemme : si])  ) ~.

//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================
// dans une phrase avec "est-ce que"
// Est-ce que vous aimez le film?
// est-ce que le film vous plait ?

if ( ^SENTIMENT(#1, #2, #4, #10) 
 & ( CONNECT(#1, #3[adv:+, int : +]) | (CONNECT(#5, #3[adv:+, int : +])  & OBJ(#5, #1)) ) ) ~.
//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================

// aime-t-il ?

if ( ^SENTIMENT(#1, #2, #4, #10) & SUBJ[right : +, pron : +](#2, #1[clit : +]) ) ~.

//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================

// penses tu aimer Lisa ?
// Pouvez -vous me citer de  bons restauranrs ?
| #5[ sent : +, question : +]|
if ( ^SENTIMENT(#1, #2, #4, #10) & SUBJ[right : +, pron : +](#3, #6[clit : +]) & (#2 < #5) ) ~.

//====================================================================================================
//====================================================================================================




//====================================================================================================
//====================================================================================================


//  Si les services de la présidence confirment qu' elle est bien déposée .

if (  ^SENTIMENT(#1, #2, #4, #10) & CONNECT(#4, #5[lemme : que]) & OBJ(#6, #4) & CONNECT(#6, #7[lemme : si])  ) ~.


//====================================================================================================
//====================================================================================================




//====================================================================================================
//====================================================================================================

//suppression d'un sentiment contenu entre une intérrogation et un point d'interrogation


 |SC{BG{#3[start : +, int : +]}, ?*}, ?*, #5[ sent : +, question : +] |
  
if ( ^SENTIMENT(#1, #2, #4, #10) & (#3 < #2) & (#2 < #5) )  ~.


//==========================================================


  |SC{SC{BG{#3[start : +, int : +]}, ?*}, ?*}, ?*, #5[ sent : +, question : +] |

if ( ^SENTIMENT(#1, #2, #4, #10)  &  (#3 < #2)  &  (#2 < #5)  )  ~.


//=========================================================

// Est-ce etre " mauvais français " que de rejeter les préjugé ?
|#3adv[int : +], ?*,  #5[ sent : +, question : +]|
if ( ^SENTIMENT(#1, #2, #4, #10) & (#2 > #3 ) & (#2 < #5) ) ~.

//==========================================================

// c' est vrai , peut-être que tu aime ce partie ?
|BG{?*, #3adv[int : +]}, ?*,  #5[ sent : +, question : +]|
if ( ^SENTIMENT(#1, #2, #4, #10) & (#2 > #3 ) & (#2 < #5) ) ~.



//====================================================================================================
//====================================================================================================




//====================================================================================================
//====================================================================================================

//à quoi servirait -il d' intégrer une charte dont le contenu serait une déception ?

 |SC{BG { PP{?*, #3[ int : +]}, ?*}} , ?*, #5SENT[question : +] |
  
if ( ^SENTIMENT(#1, #2, #4, #10) & (#3 < #2) & (#2 < #5) )  ~.

//====================================================================================================
//====================================================================================================




//====================================================================================================
//====================================================================================================

//Peut-être cela vous intéressera-t-il de savoir. 
  
if ( ^SENTIMENT(#1, #2, #4, #10) & SUBJCLIT(#2, #5) )  ~.

//====================================================================================================
//====================================================================================================



//====================================================================================================
//====================================================================================================
//  L' inflation et les taux d' intérêt y sont -ils faibles ?
// SUBJCLIT(#6_sont, #7_ils)
 |#5SENT[question : +] |
  
if ( ^SENTIMENT(#1, #2, #4, #10) & SUBJ(#6, #4) & SUBJCLIT(#6, #7) & (#4 < #5) )  ~.

//====================================================================================================
//====================================================================================================






//====================================================================================================
//====================================================================================================


// la guerre, c'est affreux. ==> Supprimer SENTIMENT(c', est, affreux) et garder SENTIMENT(guerre, est, affreux) 

|SC{   NP[first : +]{?*,#4[last : +]}, ?*[PUNCT : +], NP{#3[lemme : ce]}, FV{#2}  }|
if( SENTIMENT(#1, #5, #4, #10) & ^SENTIMENT(#1, #5, #3, #10) & SUBJ(#2, #3) & SUBJ(#2, #4) ) ~.

//====================================================================================================
//====================================================================================================



//************************************** Fin Annulation ***********************************************
//*****************************************************************************************************

//====================================================================================================
//====================================================================================================
// Fin des règles.
if( #1[lemme : fin]  ) ~.

//====================================================================================================
//====================================================================================================

