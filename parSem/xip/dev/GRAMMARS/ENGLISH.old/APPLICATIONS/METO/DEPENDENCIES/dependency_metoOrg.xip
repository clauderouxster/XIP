//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//! Xerox Research Centre Europe - Grenoble Laboratory
//! --- CONTENTS ---
//!   Project    : SemEval07
//!   filename   : dependency_metoOrg.xip
//!   Date       : 2007
//!   
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

DependencyRules:



/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////
// 
// LEVEL 2: METONYMY Interpretation for ORGANISATION class
//	      - org-literal par defaut (in level 1)
//	      - org-literal "certain"
//	      - org-for-members
//	      - org-for-products
//	      - org-for-facility
//	      - object-for-name
//	      - org-for-index
//	      - org-for-event
//	      - mixed
//	      - othermet
/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////



//**********************
// ORG-LITERAL PAR DEFAUT
//**********************



// pour SemEval
|?#1[annotsupOrg]|
	if (~ORG-LIT[metosem,bydefault](#1))
	ORG-LIT[metosem=+,bydefault=+,orglit=+](#1), ORGSEMEVAL(#1).

// pour xip normal

if (ORGANISATION[long:~](#1) & ~ORG-LIT[metoxip,bydefault](#1) )
     ORG-LIT[metoxip=+,bydefault=+,orglit=+](#1).


// mixed (a enlever ou non pour process du corpus test)

// infos de Subj + Mod
//if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[o_lit],#1) & MOD[long:~,pre](#2[meto_orgmemb],#1))
//	ORG-MIXED[bydefault=~,orgmixed=+](#1) .

//if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[o_memb],#1) & MOD[long:~,pre](#2[meto_orglit],#1))
//	ORG-MIXED[bydefault=~,orgmixed=+](#1) .

// infos de Subj + Obj

//if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[o_memb],#1) & OBJ-N[long:~](#2[meto_orglit],#1))
//	ORG-MIXED[bydefault=~,orgmixed=+](#1) .

//if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[o_lit],#1) & OBJ-N[long:~](#2[vmeto_orgmemb],#1))
//	ORG-MIXED[bydefault=~,orgmixed=+](#1) .


//*******************
// ORG-LITERAL CERTAIN
//*******************


// Niveaux d'annotation :
// ORG-LIT_BYDEFAULT : baseline
// ORG-LIT	     : annotation choisie
// ORG-LIT_SURE	     : annotation choisie et considérée comme sûre.


//*** Subj (sur)

   if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[o_lit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).
   if (^ORG-LIT[bydefault,metoxip](#1) & SUBJ-N[long:~](#2[o_lit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).

 
//*** Subj Coord 

 if (^ORG-LIT[metosem,bydefault](#1) & NCOORD[long:~](#1,#3) & SUBJ-N(#2[o_lit],#3))
	ORG-LIT[bydefault=~](#1).
  
 if (^ORG-LIT[metoxip,bydefault](#1) & NCOORD[long:~](#1,#3) & SUBJ-N(#2[o_lit],#3))
	ORG-LIT[bydefault=~](#1).

     
//*** Subj FREQ (not sur)

   if (^ORG-LIT[bydefault,metosem](#1) & SUBJ-N[long:~](#2[vmeto_subj_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).
   if (^ORG-LIT[bydefault,metoxip](#1) & SUBJ-N[long:~](#2[vmeto_subj_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).
    
   
//*** Obj (sur)
 
   if (^ORG-LIT[bydefault,metosem](#1) & OBJ-N[long:~](#2[vmeto_orglit,obj],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).
   if (^ORG-LIT[bydefault,metoxip](#1) & OBJ-N[long:~](#2[vmeto_orglit,obj],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).

//Obj FREQ (sur(?))

    if (^ORG-LIT[bydefault,metosem](#1) & OBJ-N[long:~](#2[vmeto_obj_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & OBJ-N[long:~](#2[vmeto_obj_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).


//*** Prep
// against/including/from/such_as/of/by/with/like


// pas sûr (regroupement de preps sous un meme trait)
if (^ORG-LIT[bydefault,metosem](#1) & (PREP[prep_o_lit,long:~](#2,#1)))
       ORG-LIT[bydefault=~](#1).

if (^ORG-LIT[bydefault,metoxip](#1) & (PREP[prep_o_lit,long:~](#2,#1)))
       ORG-LIT[bydefault=~](#1).

// sûr

// prep of + title/prof

if (^ORG-LIT[sure:~,bydefault,metosem](#1) & (PREP[of,long:~](#2[title],#1)|PREP[of,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).

if (^ORG-LIT[sure:~,bydefault,metoxip](#1) & (PREP[of,long:~](#2[title],#1)|PREP[of,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).

// prep at + title/prof

if (^ORG-LIT[sure:~,bydefault,metosem](#1) & (PREP[atprep,long:~](#2[title],#1)|PREP[atprep,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).
if (^ORG-LIT[sure:~,bydefault,metoxip](#1) & (PREP[atprep,long:~](#2[title],#1)|PREP[atprep,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).

if (^ORG-LIT[sure:~,bydefault,metosem](#1) & (PREP[for,long:~](#2[title],#1)|PREP[for,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).
if (^ORG-LIT[sure:~,bydefault,metoxip](#1) & (PREP[for,long:~](#2[title],#1)|PREP[for,long:~](#2[prof],#1)))
       ORG-LIT[sure=+,bydefault=~](#1).


// autre

//such_as

if (^ORG-LIT[sure:~,bydefault:~,metosem](#1) & PREP[such_as,long:~](#2[meto_orglit],#1))
       ORG-LIT[sure=+](#1).
if (^ORG-LIT[sure:~,bydefault:~,metoxip](#1) & PREP[such_as,long:~](#2[meto_orglit],#1))
       ORG-LIT[sure=+](#1).

// of

if (^ORG-LIT[sure:~,bydefault:~,metosem](#1) & PREP[of,long:~](#2[meto_orglit],#1))
       ORG-LIT[sure=+](#1).
if (^ORG-LIT[sure:~,bydefault:~,metoxip](#1) & PREP[of,long:~](#2[meto_orglit],#1))
       ORG-LIT[sure=+](#1).


if (^ORG-LIT[sure:~,bydefault:~,metosem](#1) & PREP[of,long:~](#2,#1) & PERSON (#2))
       ORG-LIT[sure=+](#1).
if (^ORG-LIT[sure:~,bydefault:~,metoxip](#1) & PREP[of,long:~](#2,#1)& PERSON (#2))
       ORG-LIT[sure=+](#1).


if (^ORG-LIT[sure:~,bydefault:~,metosem](#1) & PREP[of,long:~](#2[c_person],#1))
       ORG-LIT[sure=+](#1).
if (^ORG-LIT[sure:~,bydefault:~,metoxip](#1) & PREP[of,long:~](#2[c_person],#1))
       ORG-LIT[sure=+](#1).

// with

if (^ORG-LIT[sure:~,bydefault:~,metosem](#1) & (PREP[with,long:~](#2[vmeto_orglit,orgorg],#1)|PREP[with,long:~](#2[meto_orglit],#1)|PREP[with,long:~](#2[pwith_orglit],#1)))
       ORG-LIT[sure=+](#1).
if (^ORG-LIT[sure:~,bydefault:~,metoxip](#1) &( PREP[with,long:~](#2[vmeto_orglit,orgorg],#1)|PREP[with,long:~](#2[meto_orglit],#1)|PREP[with,long:~](#2[pwith_orglit],#1)))
       ORG-LIT[sure=+](#1).

// from

if (^ORG-LIT[sure:~,metosem](#1) & (PREP[from,long:~](#2[meto_orglit],#1)|PREP[from,long:~](#2[pfrom_orglit],#1)))
      ORG-LIT[sure=+](#1).

if (^ORG-LIT[sure:~,metoxip](#1) & (PREP[from,long:~](#2[meto_orglit],#1)|PREP[from,long:~](#2[pfrom_orglit],#1)))
       ORG-LIT[sure=+](#1).

//effacement car ne marche pas si tests sur plusieurs traits:
  if (^ORG-LIT[bydefault:+](#1) &  ORG-LIT[sure:+](#1))
	~.


//*** Modpre

// pas sûr  (laisser le bydefault pour GJ?)

   if (^ORG-LIT[bydefault,metosem](#1) & MOD[pre,long:~](#2[meto_orglit:~],#1))
	ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & MOD[pre,long:~](#2[meto_orglit:~],#1))
	ORG-LIT[bydefault=~](#1).

//Modpre FREQ

   
   if (^ORG-LIT[bydefault,metosem](#1) & MOD[pre,long:~](#2[nmeto_orglit],#1))
	ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & MOD[pre,long:~](#2[nmeto_orglit],#1))
	ORG-LIT[bydefault=~](#1).

// sûr

   if (^ORG-LIT[bydefault,metosem](#1) & MOD[pre,long:~](#2[meto_orglit,onlyposses:~],#1))
	ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & MOD[pre,long:~](#2[meto_orglit,onlyposses:~],#1) )
	ORG-LIT[sure=+,bydefault=~](#1).

// avec codage plus fin

   if (^ORG-LIT[bydefault,metosem](#1) & MOD[pre,long:~](#2[mod_orglit],#1))
	ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & MOD[pre,long:~](#2[mod_orglit],#1))
	ORG-LIT[sure=+,bydefault=~](#1).


// difference de noeud (noun-NP)
//(aucun ex mais par precaution)
// que les "surs"

   if (^ORG-LIT[metosem,sure:~](#1) & MOD[long:~,pre](#2[meto_orglit,onlyposses:~],#3) & (#1:#3)) 
	 ORG-LIT[bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & MOD[long:~,pre](#2[meto_orglit,onlyposses:~],#3) & (#1:#3)) 
	 ORG-LIT[bydefault=~,sure=+](#1).


// avec coordination :
// ex : "Nissan and Honda contracts", "IBM or SAG way","Suzuki and Daihatsu offerings".
// coord avec tete du NP : NCOORD(Nissan,contract)
// donc on passe par MODPRE(contract,Honda)
// en s'assurant que le modifieur est aussi une org.


    if (^ORG-LIT[metosem,sure:~](#1) & MOD[long:~,pre](#2[meto_orglit,onlyposses:~],#3) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-LIT[sure=+,bydefault=~](#1).

    if (^ORG-LIT[metoxip,sure:~](#1) & MOD[long:~,pre](#2[meto_orglit,onlyposses:~],#3) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-LIT[sure=+,bydefault=~](#1).

//*** Posses

// pas sûr (laisser le bydefault pour GJ?)

   if (^ORG-LIT[bydefault,metosem](#1) & POSSES[long:~](#1,#2[meto_orglit:~]))
	ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[bydefault,metoxip](#1) & POSSES[long:~](#1,#2[meto_orglit:~]))
	ORG-LIT[bydefault=~](#1).

// sûr

   if (^ORG-LIT[metosem,sure:~](#1) & POSSES[long:~](#1,#2[meto_orglit]))
	ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & POSSES[long:~](#1,#2[meto_orglit]))
	ORG-LIT[sure=+,bydefault=~](#1).


// Posses avec coordination :


    if (^ORG-LIT[metosem,sure:~](#1) & POSSES[long:~](#3,#2[meto_orglit]) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-LIT[bydefault=~,sure=+](#1).

    if (^ORG-LIT[metoxip,sure:~](#1) & POSSES[long:~](#3,#2[meto_orglit]) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-LIT[bydefault=~,sure=+](#1).

// Posses FREQ (sur bydefault)

   if (^ORG-LIT[bydefault,metosem](#1) & POSSES[long:~](#1,#2[nposses_orglit]))
	ORG-LIT[bydefault=~](#1).
   if (^ORG-LIT[bydefault,metoxip](#1) & POSSES[long:~](#1,#2[nposses_orglit]))
	ORG-LIT[bydefault=~](#1).

//*** Attrib

   if (^ORG-LIT[metosem,bydefault](#1) & ATTRIB[long:~](#1,#2[meto_orglit]) )
        ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & ATTRIB[long:~](#1,#2[meto_orglit]) )
        ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[metosem,bydefault](#1) & ATTRIB[long:~](#2[meto_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & ATTRIB[long:~](#2[meto_orglit],#1) )
        ORG-LIT[sure=+,bydefault=~](#1).

// si presence lexique en complement FREQ

//have

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[lemme:have],#1) & OBJ-N(#2,#3[obj_have_orglit]))
       ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[lemme:have],#1) & OBJ-N(#2,#3[obj_have_orglit]))
       ORG-LIT[bydefault=~](#1).


//take

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[lemme:take],#1) & OBJ-N(#2,#3[obj_take_orglit]))
       ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[lemme:take],#1) & OBJ-N(#2,#3[obj_take_orglit]))
       ORG-LIT[bydefault=~](#1).


//make

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[lemme:make],#1) & OBJ-N(#2,#3[obj_make_orglit]))
       ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[lemme:make],#1) & OBJ-N(#2,#3[obj_make_orglit]))
       ORG-LIT[bydefault=~](#1).


//offer

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[lemme:offer],#1) & OBJ-N(#2,#3[obj_offer_orglit]))
       ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[lemme:offer],#1) & OBJ-N(#2,#3[obj_offer_orglit]))
       ORG-LIT[bydefault=~](#1).

// to be in FREQ

   if (^ORG-LIT[sure:~,metosem](#1) & PREP[in,long:~](#2[nprepin_be_orglit],#1))
      ORG-LIT[bydefault=~](#1).

   if (^ORG-LIT[sure:~,metoxip](#1) & PREP[in,long:~](#2[nprepin_be_orglit],#1))
      ORG-LIT[bydefault=~](#1).


//****************
// ORG-FOR-MEMBERS
//****************


//*** Subj


//Content-Experiencer-Bnf (pas sur)
   if (^ORG-LIT[metosem,bydefault](#1) & (CONTENT(#2,#1)|EXPERIENCER(#2,#1)|BNF(#2[bnf_orgmemb],#1)))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & (CONTENT(#2,#1)|EXPERIENCER(#2,#1)|BNF(#2[bnf_orgmemb],#1)))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).

//Subj normal (sur)

//essai mixed 
//   if (^ORG-LIT[metosem,sure](#1) & SUBJ-N(#2[o_memb],#1))
//	ORG-MIXED[orglit=~,orgmixed=+,bydefault=~,sure=+](#1).

//   if (^ORG-LIT[metoxip,sure](#1) & SUBJ-N(#2[o_memb],#1))
//	ORG-MIXED[orglit=~,orgmixed=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[o_memb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[o_memb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).


//Subj FREQ (pas sur)

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[vmeto_subj_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[vmeto_subj_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).


// Mauvais matching entites
// ex: .....,  France Telecom said.
// SUBJ-N_PRE(said_PL:+,Telecom)
// HEAD(Telecom,France Telecom)
// (en testant bien les offset via #1:#2)

   if (^ORG-LIT[metosem,bydefault,sure:~](#1) & HEAD[long:~](#3,#4) & (#1:#4) & SUBJ-N(#2[o_memb],#3))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip,bydefault,sure:~](#1) & HEAD[long:~](#3,#4) & (#1:#4) & SUBJ-N(#2[o_memb],#3))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).

// to be in talks

   if (^ORG-LIT[metosem,bydefault](#1) & SUBJ-N(#2[lemme:be],#1) & PREP[long:~,in](#2,#3[meto_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).
	
   if (^ORG-LIT[metoxip,bydefault](#1) & SUBJ-N(#2[lemme:be],#1) & PREP[long:~,in](#2,#3[meto_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).


// Si la relation sujet discriminante porte sur un element coordonne
// ex : Hewlett-Packard  and Groupe Bull have already signed on for the event. 
// ORGSEMEVAL(Hewlett-Packard)
// NCOORD(Hewlett-Packard,NOUN:bull)
// SUBJ-N_PRE(VERB:sign,NOUN:bull)

   if (^ORG-LIT[metosem,bydefault,sure:~](#1) & NCOORD[long:~](#1,#3) & SUBJ-N(#2[o_memb],#3))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).
   
   if (^ORG-LIT[metoxip,bydefault,sure:~](#1) & NCOORD[long:~](#1,#3) & SUBJ-N(#2[o_memb],#3))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).


// *** Obj

   if (^ORG-LIT[metosem,bydefault](#1) & OBJ-N(#2[legact,obj],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & OBJ-N(#2[legact,obj],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).


   if (^ORG-LIT[metosem,bydefault](#1) & OBJ-N(#2[vmeto_orgmemb,obj],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & OBJ-N(#2[vmeto_orgmemb,obj],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

//Obj FREQ

   if (^ORG-LIT[metosem,bydefault](#1) & OBJ-N(#2[vmeto_obj_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & OBJ-N(#2[vmeto_obj_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


// si presence lexique en complement
// ex : Hitachi have also taken the trouble

   if (^ORG-LIT[metosem,sure:~](#1) & SUBJ-N(#2,#1) & OBJ-N(#2,#3[ifcomp_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & SUBJ-N(#2,#1) & OBJ-N(#2,#3[ifcomp_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

// si presence lexique en complement FREQ

//have

   if (^ORG-LIT[metosem,sure:~](#1) & SUBJ-N(#2[lemme:have],#1) & OBJ-N(#2,#3[obj_have_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & SUBJ-N(#2[lemme:have],#1) & OBJ-N(#2,#3[obj_have_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//take

   if (^ORG-LIT[metosem,sure:~](#1) & SUBJ-N(#2[lemme:take],#1) & OBJ-N(#2,#3[obj_take_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & SUBJ-N(#2[lemme:take],#1) & OBJ-N(#2,#3[obj_take_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//make

   if (^ORG-LIT[metosem,sure:~](#1) & SUBJ-N(#2[lemme:make],#1) & OBJ-N(#2,#3[obj_make_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & SUBJ-N(#2[lemme:make],#1) & OBJ-N(#2,#3[obj_make_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//offer

   if (^ORG-LIT[metosem,sure:~](#1) & SUBJ-N(#2[lemme:offer],#1) & OBJ-N(#2,#3[obj_offer_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & SUBJ-N(#2[lemme:offer],#1) & OBJ-N(#2,#3[obj_offer_orgmemb]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).



// to be to ...= EMBED[infinit]
// Hitachi Ltd is to plug SoftBench

   if (^ORG-LIT[metosem](#1) & SUBJ-N(#2[lemme:be],#1) & EMBED[infinit](#3[vmeto_orgmemb,o_lit:~],#2) & (#2:#2))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & SUBJ-N(#2[lemme:be],#1) & EMBED[infinit](#3[vmeto_orgmemb,o_lit:~],#2) & (#2:#2))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//to start marketing 

   if (^ORG-LIT[metosem](#1) & SUBJ-N(#2[lemme:start],#1) & EMBED(#3[vmeto_orgmemb,o_lit:~],#2) & (#2:#2))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & SUBJ-N(#2[lemme:start],#1) & EMBED(#3[vmeto_orgmemb,o_lit:~],#2) & (#2:#2))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).



// *** Prep
// according_to/by/with/to/from/of

// with . pas de bydefault

   if (^ORG-LIT[metosem,sure:~](#1) & (PREP[with,long:~](#2[o_memb],#1)|PREP[with,long:~](#2[meto_orgmemb],#1)))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & (PREP[with,long:~](#2[o_memb],#1)|PREP[with,long:~](#2[meto_orgmemb],#1)))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

// CB : ajout of 

  if (^ORG-LIT[metosem](#1) & PREP[of,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,sure=+](#1).
  if (^ORG-LIT[metoxip](#1) & PREP[of,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,sure=+](#1).

// by . pas de bydefault

   if (^ORG-LIT[metosem](#1) & PREP[by,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,sure=+](#1).

   if (^ORG-LIT[metoxip](#1) & PREP[by,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,sure=+](#1).

// according_to

   if (^ORG-LIT[metosem,bydefault](#1) & PREP[according_to,long:~](#2,#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & PREP[according_to,long:~](#2,#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

// to . déjà au dessus donc ne porte plus le trait "bydefault"

   if (^ORG-LIT[metosem](#1) & (PREP[to,long:~](#2[vmeto_orgmemb],#1)|PREP[to,long:~](#2[meto_orgmemb],#1)))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip](#1) & (PREP[to,long:~](#2[vmeto_orgmemb],#1)|PREP[to,long:~](#2[meto_orgmemb],#1)))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

// from . 

   if (^ORG-LIT[metosem,sure:~](#1) & PREP[from,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip,sure:~](#1) & PREP[from,long:~](#2[meto_orgmemb],#1))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

// for lexicalisé (to look for)

   if (^ORG-LIT[metosem](#1) & SUBJ-N(#2,#1) & PREP[for,long:~](#2[pfor_orgmemb],#3))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

   if (^ORG-LIT[metoxip](#1) & SUBJ-N(#2,#1) & PREP[for,long:~](#2[pfor_orgmemb],#3))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).


// between

   if (^ORG-LIT[metosem](#1) & PREP[long:~,between](#2[pbetween_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).
   if (^ORG-LIT[metoxip](#1) & PREP[long:~,between](#2[pbetween_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).


// according_to en PREPD simple

if (^ORG-LIT[metosem, bydefault](#1) & PREPD(#1,#2[lemme:according_to]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

if (^ORG-LIT[metoxip, bydefault](#1) & PREPD(#1,#2[lemme:according_to]))
       ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

// in . lexicalisé (NE rect)

   if (^ORG-LIT[metosem](#1) & PREP[long:~,in](#1,#2[pin_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

    if (^ORG-LIT[metoxip](#1) & PREP[long:~,in](#1,#2[pin_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=+](#1).

//*** MODPRE

   if (^ORG-LIT[metosem](#1) & MOD[long:~,pre](#2[meto_orgmemb],#1)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & MOD[long:~,pre](#2[meto_orgmemb],#1))
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


// difference de noeud (noun-NP)
//(Sun reaction)
 if (^ORG-LIT[metosem](#1) & MOD[long:~,pre](#2[meto_orgmemb],#3) & (#1:#3)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & MOD[long:~,pre](#2[meto_orgmemb],#3) & (#1:#3)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


// ModPre avec coordination :

    if (^ORG-LIT[metosem,sure:~](#1) & MOD[long:~,pre](#2[meto_orgmemb],#3) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

    if (^ORG-LIT[metoxip,sure:~](#1) & MOD[long:~,pre](#2[meto_orgmemb],#3) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


// Modpre FREQ

   if (^ORG-LIT[metosem](#1) & MOD[long:~,pre](#2[nmeto_orgmemb],#1)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & MOD[long:~,pre](#2[nmeto_orgmemb],#1)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//*** Posses

// plus de bydefault

   if (^ORG-LIT[metosem](#1) & POSSES[long:~](#1,#2[meto_orgmemb]))
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & POSSES[long:~](#1,#2[meto_orgmemb]))
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

// codage plus fin

   if (^ORG-LIT[metosem](#1) & POSSES[long:~](#1,#2[posses_orgmemb]))
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

   if (^ORG-LIT[metoxip](#1) & POSSES[long:~](#1,#2[posses_orgmemb]))
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

// Posses avec coordination :
// IBM 's and HP's commitment

    if (^ORG-LIT[metosem,sure:~](#1) & POSSES[long:~](#3,#2[meto_orgmemb]) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).

    if (^ORG-LIT[metoxip,sure:~](#1) & POSSES[long:~](#3,#2[meto_orgmemb]) & ORGANISATION(#3) & NCOORD (#1,#2)) 
	 ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~](#1).


//*** RCP
 
   if (^ORG-LIT[metosem,bydefault](#1) & RCP(#2[vmeto_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1) & RCP(#2[vmeto_orgmemb],#1))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).


//*** Adj


   if (^ORG-LIT[metosem,bydefault](#1) & QUALIF(#1,#2[adj_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).
   
   if (^ORG-LIT[metoxip,bydefault](#1) & QUALIF(#1,#2[adj_orgmemb]))
	ORG-MEMBERS[orglit=~,orgmemb=+,bydefault=~,sure=~](#1).



//****************
// ORG-FOR-PRODUCT
//****************


//*** Modpre

   if ((^ORG-LIT[metosem,sure:~](#1)|^ORG-MEMBERS(#1[metosem])) & MOD[long:~,pre](#2[meto_orgprod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if ((^ORG-LIT[metoxip,sure:~](#1)|^ORG-MEMBERS(#1[metoxip])) & MOD[long:~,pre](#2[meto_orgprod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//Modpre FREQ

    if ((^ORG-LIT[metosem,sure:~](#1)|^ORG-MEMBERS(#1[metosem])) & MOD[long:~,pre](#2[nmeto_orgprod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

    if ((^ORG-LIT[metoxip,sure:~](#1)|^ORG-MEMBERS(#1[metosem])) & MOD[long:~,pre](#2[nmeto_orgprod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).




// difference de noeud (noun-NP)

   if ((^ORG-LIT[metosem,sure:~](#1)|^ORG-MEMBERS(#1[metosem,sure:~])) & MOD[long:~,pre](#2[meto_orgprod],#3) & (#1:#3))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if ((^ORG-LIT[metoxip,sure:~](#1)|^ORG-MEMBERS(#1[metosem,sure:~])) & MOD[long:~,pre](#2[meto_orgprod],#3) & (#1:#3))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).


//*** determinants seuls :
  
   if ( (^ORG-LIT[metosem,sure:~](#1[org_signs:~]) | ^ORG-MEMBERS[metosem,sure:~](#1[org_signs:~])) & (DETD[long:~](#1,#2[maj:~,adv:~,lemme:~it])|DETD[long:~](#1,#2[start,adv:~,lemme:~it])) & (DETD[long:~](#1,#2[maj:~,adv:~,lemme:~that])|DETD[long:~](#1,#2[start,adv:~,lemme:~that]))) 
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,certain=~](#1).

    if ( (^ORG-LIT[metoxip,sure:~](#1[org_signs:~]) | ^ORG-MEMBERS[metoxip,sure:~](#1[org_signs:~])) & (DETD[long:~](#1,#2[maj:~,adv:~,lemme:~it])|DETD[long:~](#1,#2[start,adv:~,lemme:~it])) & (DETD[long:~](#1,#2[maj:~,adv:~,lemme:~that])|DETD[long:~](#1,#2[start,adv:~,lemme:~that]))) 
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,certain=~](#1).



//*** determinant poss = certain

   if (^ORG-PRODUCT[certain:~,metosem](#1) &  DETD[long:~,gen](#1,#2) )
	ORG-PRODUCT[certain=+](#1).

   if (^ORG-PRODUCT[certain:~,metoxip](#1) &  DETD[long:~,gen](#1,#2))
	ORG-PRODUCT[certain=+](#1).


//*** determinants + adj = certain:	
   
   if (^ORG-PRODUCT[orgprod,certain:~,metosem](#1)& (QUALIF[long:~](#1,#2)|MOD[long:~,pre](#1,#2[adj])) )
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if (^ORG-PRODUCT[orgprod,certain:~,metoxip](#1)& (QUALIF[long:~](#1,#2)|MOD[long:~,pre](#1,#2[adj])) )
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

//*** determinant + certaines PREP = of, between (+lexique)

   if ((^ORG-PRODUCT[orgprod,certain:~,metosem](#1)|^ORG-LIT[metosem](#1)|^ORG-MEMBERS[metosem](#1)) & (PREP[long:~,between](#2[meto_orgprod],#1)|PREP[long:~,of](#2[meto_orgprod],#1)|PREP[long:~,from](#2[pfrom_orgprod],#1)))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if ((^ORG-PRODUCT[orgprod,certain:~,metoxip](#1)|^ORG-LIT[metoxip](#1)|^ORG-MEMBERS[metoxip](#1)) & (PREP[long:~,between](#2[meto_orgprod],#1)|PREP[long:~,of](#2[meto_orgprod],#1)|PREP[long:~,from](#2[pfrom_orgprod],#1)))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~,certain=+](#1).

//effacement car ne marche pas si tests sur plusieurs deps:
   if (^ORG-LIT[metosem](#1) &  ORG-PRODUCT[metosem](#1))
	~.	
   if (^ORG-MEMBERS[metosem](#1) & ORG-PRODUCT[metosem](#1))
	~.

//*** determinant sur MOD + MOD avec un noun (dangereux ?)

   if ((^ORG-LIT[bydefault,metosem](#1)|^ORG-MEMBERS(#1[metosem])) & MOD[long:~,pre](#2[meto_orglit:~],#1) & DETD(#2,#3) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if ((^ORG-LIT[bydefault,metoxip](#1)|^ORG-MEMBERS(#1[metoxip])) & MOD[long:~,pre](#2[meto_orglit:~],#1) & DETD(#2,#3) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).


//*** determinants + obj = certain:	

   if (^ORG-PRODUCT[certain:~,metosem](#1)& OBJ-N[long:~](#2[a_vdrive],#1))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if (^ORG-PRODUCT[certain:~,metoxip](#1)& OBJ-N[long:~](#2[a_vdrive],#1))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if (^ORG-PRODUCT[certain:~,metosem](#1)& OBJ-N[long:~](#2[vmeto_orgprod,obj],#1))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if (^ORG-PRODUCT[certain:~,metoxip](#1)& OBJ-N[long:~](#2[vmeto_orgprod,obj],#1))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).


//*** determinant + certain POSSES:

   if (^ORG-PRODUCT[certain:~,metosem](#1)& POSSES[long:~](#1,#2[meto_orgprod]))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

   if (^ORG-PRODUCT[certain:~,metoxip](#1)& POSSES[long:~](#1,#2[meto_orgprod]))
	ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).


//*** POSSES seul

    if ((^ORG-LIT[metosem,sure:~](#1)|^ORG-MEMBERS(#1[metosem,sure:~])) & POSSES[long:~](#1,#2[meto_orgprod]))
    ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~,certain=+](#1).

    if ((^ORG-LIT[metoxip,sure:~](#1)|^ORG-MEMBERS(#1[metoxip,sure:~])) & POSSES[long:~](#1,#2[meto_orgprod]))
    ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~,certain=+](#1).


//*** obj tout court:

   if ( (^ORG-LIT[metosem](#1) | ^ORG-MEMBERS[metosem](#1) ) & OBJ-N[long:~](#2[o_prod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).
   if ( (^ORG-LIT[metoxip](#1) | ^ORG-MEMBERS[metosem](#1) ) & OBJ-N[long:~](#2[o_prod],#1) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//*** attrib seul:

  if ((^ORG-LIT[metosem,bydefault](#1)|^ORG-MEMBERS[metosem](#1)) & ATTRIB[long:~](#2[meto_orgprod],#1) )
       ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).
  if ((^ORG-LIT[metoxip,bydefault](#1)|^ORG-MEMBERS[metoxip](#1)) & ATTRIB[long:~](#2[meto_orgprod],#1) )
       ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

// c'est ds l'autre sens !

 if ((^ORG-LIT[metosem,bydefault](#1)|^ORG-MEMBERS[metosem](#1)) & ATTRIB[long:~](#1,#2[meto_orgprod]) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).
 if ((^ORG-LIT[metoxip,bydefault](#1)|^ORG-MEMBERS[metosem](#1)) & ATTRIB[long:~](#1,#2[meto_orgprod]) )
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//*** adjectif seul ---> lexicaliser car bruit dans literal

   if ((^ORG-LIT[metosem](#1[org_signs:~])|^ORG-MEMBERS[metosem](#1[org_signs:~])) & QUALIF[long:~](#1,#2[ameto_orgprod]))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if ((^ORG-LIT[metoxip](#1[org_signs:~])|^ORG-MEMBERS[metoxip](#1[org_signs:~])) & QUALIF[long:~](#1,#2[ameto_orgprod]))
	ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//*** adjectif + pluriel 

    if (^ORG-PRODUCT[orgprod,certain:~,metosem](#1) & QUALIF[long:~](#1[sg:~,pl],#2) )
	 ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).

    if (^ORG-PRODUCT[orgprod,certain:~,metoxip](#1) & QUALIF[long:~](#1[sg:~,pl],#2) )
	 ORG-PRODUCT[orgprod=+,bydefault=~,sure=~,certain=+](#1).


//**** Org-Prod déjà repérée + relation subj = certain

    if (^ORG-PRODUCT[certain:~,metosem](#1) &  SUBJ[long:~](#2[vmeto_orgprod,obj:~],#1) )
	 ORG-PRODUCT[orgprod=+,bydefault=~,certain=+](#1).

    if (^ORG-PRODUCT[certain:~,metoxip](#1) &  SUBJ[long:~](#2[vmeto_orgprod,obj:~],#1) )
	 ORG-PRODUCT[orgprod=+,bydefault=~,certain=+](#1).


//*** Subj tout seul = certain aussi parceque lexicalisé

    if ((^ORG-LIT[metosem,certain:~](#1[org_signs:~])|^ORG-MEMBERS[metosem,sure:~](#1[org_signs:~])) & SUBJ[long:~](#2[vmeto_orgprod,obj:~],#1))
           ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,certain=+](#1).

    if ((^ORG-LIT[metoxip,certain:~](#1[org_signs:~])|^ORG-MEMBERS[metosem,sure:~](#1[org_signs:~])) & SUBJ[long:~](#2[vmeto_orgprod,obj:~],#1))
           ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,certain=+](#1).

//*** info prix

   if (^ORG-LIT[metosem](#1[org_signs:~])|^ORG-MEMBERS[metosem](#1[org_signs:~]) & (ATTRIB(#1,#2)|MOD[long:~,post](#1,#2)) & MONEY(#2))
	 ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip](#1[org_signs:~])|^ORG-MEMBERS[metoxip](#1[org_signs:~]) & (ATTRIB(#1,#2)|MOD[long:~,post](#1,#2)) & MONEY(#2))
	 ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//*** pluriel seul
// attention aux NE "naturellement" au pluriel (ex: Barclays) -> desamb

   if (^ORG-LIT[metosem,bydefault](#1[pl,sg:~])|^ORG-MEMBERS[metosem](#1[pl,sg:~]))
	 ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip,bydefault](#1[pl,sg:~])|^ORG-MEMBERS[metoxip](#1[pl,sg:~]))
	 ORG-PRODUCT[orglit=~,orgmemb=~,orgprod=+,bydefault=~,sure=~](#1).

//*** Prep under
// ex : Sun under Solaris

// NE regie

   if (^ORG-LIT[certain:~,metosem](#1) & PREP[under,long:~](#2,#1[org_signs:~]))
       ORG-PRODUCT[orglit=~,orgprod=+,bydefault=~](#1).
 
   if (^ORG-LIT[certain:~,metoxip](#1) & PREP[under,long:~](#2,#1[org_signs:~]))
       ORG-PRODUCT[orglit=~,orgprod=+,bydefault=~](#1).

//NE rect

   if (^ORG-LIT[certain:~,metosem](#1) & PREP[under,long:~](#1[org_signs:~],#2))
       ORG-PRODUCT[orglit=~,orgprod=+,bydefault=~](#1).

   if (^ORG-LIT[certain:~,metoxip](#1) & PREP[under,long:~](#1[org_signs:~],#2))
       ORG-PRODUCT[orglit=~,orgprod=+,bydefault=~](#1).


//*************
// ORG-FOR-NAME
//*************


//*** acronymes entre parentheses

// tout maj

|INS{PUNCT,?{noun#2[toutmaj]};noun#2[toutmaj],PUNCT}|
  if (^ORG-LIT[metosem](#2))
         ORG-NAME[orglit=~,orgname=+,bydefault=~](#2).

// pas tout maj donc marque ds lexique comme acron.

|INS{PUNCT,?{noun#2[acron]};noun#2[acron],PUNCT}|
  if (^ORG-LIT[metosem](#2))
         ORG-NAME[orglit=~,orgname=+,bydefault=~](#2).


//*** Subj


if (^ORG-LIT[metosem](#1) & SUBJ-N[long:~](#2[vmeto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).
if (^ORG-LIT[metoxip](#1) & SUBJ-N[long:~](#2[vmeto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).

//***Modpre


if (^ORG-LIT[metosem](#1) & MOD[pre,long:~](#2[meto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).

if (^ORG-LIT[metoxip](#1) & MOD[pre,long:~](#2[meto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).

// name such_as

if (^ORG-LIT[metosem](#1) & PREP[long:~,such_as](#2[meto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).

if (^ORG-LIT[metoxip](#1) & PREP[long:~,such_as](#2[meto_orgname],#1))
	ORG-NAME[orglit=~,orgname=+,bydefault=~,sure=~](#1).



//**************
// ORG-FOR-FACILITY
//*************


//*** Prep IN

//pas sur

//  avec lexique sur prep
//  amorce que sur ORG-LIT car peu de chance que ORG-PROD ou ORG-MEMB

   if (^ORG-LIT[metosem,bydefault](#1) & PREP[in,long:~](#2[meto_orgfac],#1[org_signs:~]))
        ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~,sure=~](#1).
	
   if (^ORG-LIT[metoxip,bydefault](#1) & PREP[in,long:~](#2[meto_orgfac:+],#1[org_signs:~]))
        ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~,sure=~](#1).

//avec nom de lieu (ici sans lexique pour la prep) ATTENTION BRUIT

   if ((^ORG-LIT[metosem,bydefault](#1)|^ORG-PRODUCT[metosem](#1)) & PREP[in,long:~](#1,#2) & (LOCORG[contin:~,country:~](#2)|LOCATION(#2)|ORGANISATION(#2)))
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=~](#1).
	
   if ((^ORG-LIT[metoxip,bydefault](#1 )|^ORG-PRODUCT[metoxip](#1)) & PREP[in,long:~](#1,#2) & (LOCORG[contin:~,country:~](#2)|LOCATION(#2)|ORGANISATION(#2)))
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=~](#1).

// sur (avec determinant)

    if ((^ORG-LIT[metosem,bydefault](#1)|^ORG-FACILITY[sure:~](#1)|^ORG-PRODUCT[metosem](#1)) & PREP[in,long:~](#2,#1[org_signs:~]) & DETD[long:~](#1,#2[maj:~,adv:~,lemme:~that]) ) 
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).
    
    if ((^ORG-LIT[metoxip,bydefault](#1)|^ORG-FACILITY[sure:~](#1)|^ORG-PRODUCT[metoxip](#1)) &  PREP[in,long:~](#2,#1[org_signs:~]) & DETD[long:~](#1,#2[maj:~,adv:~,lemme:~that]) ) 
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).


//*** PREP around/at

// around en PREPD simple

      if (PREPD(#1,#2[around]) & (^ORG-LIT[metosem,bydefault](#1[org_signs:~])|^ORG-PRODUCT[metosem](#1[org_signs:~])))
	 ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~](#1).

      if (PREPD(#1,#2[around]) & (^ORG-LIT[metoxip,bydefault](#1[org_signs:~])|^ORG-PRODUCT[metoxip](#1[org_signs:~])))
	 ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~](#1).

// at en PREP (commenté car mieux sans)

   //   if (PREP[atprep,long:~](#2[meto_orglit:~,vmeto_orglit:~],#1) & (^ORG-LIT[metosem,bydefault](#1[org_signs:~])|^ORG-PRODUCT[metosem](#1[org_signs:~])))
//	 ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~](#1).

    // if (PREP[atprep](#2[meto_orglit:~,vmeto_orglit:~],#1) & (^ORG-LIT[metoxip,bydefault](#1[org_signs:~])|^ORG-PRODUCT[metoxip](#1[org_signs:~])))
//	 ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~](#1).


//*** PREP in avec org en premier argument (McDonald's in Red Square)
// besoin de lexique = oui trop de bruit dans literal
// on fait aussi sur loc/locorg

// McDonald's  in Red Square.

      if (^ORG-LIT[metosem,bydefault](#1) & PREP[in,long:~](#1,#2[pmeto_orgfac]))
           ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~](#1).
           
      if (^ORG-LIT[metoxip,bydefault](#1) & PREP[in,long:~](#1,#2[pmeto_orgfac]))
            ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~](#1).

// locs apres ICI BRUIT DANS LITERAL=faire experience avec et sans


      //if (^ORG-LIT[metosem,bydefault](#1) & PREP[in,long:~](#1,#2) & (LOCATION(#2)| LOCORG(#2)))
      //     ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~](#1).
      //     
      //if (^ORG-LIT[metoxip,bydefault](#1) & PREP[in,long:~](#1,#2) & (LOCATION(#2)| LOCORG(#2)))
      //      ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~](#1).



//*** PREP of  (rajouter ensuite qlqch avec le det?)
// ORG-LIT ne porte plus le trait bydefault car "of" deja exploitee

   if ((^ORG-LIT[metosem](#1)|^ORG-PRODUCT[metosem](#1)) & PREP[of,long:~](#2[pmeto_orgfac],#1[org_signs:~]))
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=~](#1).

   if ((^ORG-LIT[metoxip,bydefault](#1)|^ORG-PRODUCT[metoxip](#1)) & PREP[of,long:~](#2[pmeto_orgfac],#1[org_signs:~]))
        ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=~](#1).

// A FAIRE 

//*** Org name preceded by a location name 
// ex: the Uniforum Technology Managers' Conference at the San Francisco Marriott 
// que sur metosem (pb execution regles)
// pas sur

//|?{?*,#2[last]},?|
//        if (LOCORG(#2))
//		TATA(#2).
//,TUTU(#1)
//|?{#2[last]};#2,?{#1[last]};#1|
	
 //& ^ORG-LIT[metosem,bydefault](#1))
 //             ORG-FACILITY[orglit=~,orgfacility=+,bydefault=~](#1).

// sur (avec det sur le nom de pays)

//|?{#2[last]};#2,#1|

//	if ((LOCORG(#2)|LOCATION(#2)) & ^ORG-FACILITY[metosem,sure:~](#1)& DETD(#2,#3))
//	      ORG-FACILITY[orgfacility=+,bydefault=~,sure=+](#1).


//*** OBJ

   if ((^ORG-LIT[metosem](#1)|^ORG-PRODUCT[metosem](#1)) & OBJ-N[long:~](#2[meto_orgfac,obj],#1))
	ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).
   if ((^ORG-LIT[metoxip](#1)|^ORG-PRODUCT[metoxip](#1)) & OBJ-N[long:~](#2[meto_orgfac,obj],#1))
	ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).

//*** Modpre

    if ((^ORG-LIT[metosem](#1)|^ORG-PRODUCT[metosem](#1)) & MOD[pre,long:~](#2[nmeto_orgfac],#1))
	ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).

    if ((^ORG-LIT[metoxip](#1)|^ORG-PRODUCT[metosem](#1)) & MOD[pre,long:~](#2[nmeto_orgfac],#1))
	ORG-FACILITY[orglit=~,orgprod=~,orgfacility=+,bydefault=~,sure=+](#1).


//**************
// ORG-FOR-INDEX
//**************


//*** Subj

   if (^ORG-LIT[metosem](#1) & SUBJ-N(#2[vmeto_orgindex],#1))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip](#1) & SUBJ-N(#2[vmeto_orgindex],#1))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).

//*** Modpre

   if (^ORG-LIT[metosem](#1) & MOD[pre](#2[meto_orgindex],#1))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).

   if (^ORG-LIT[metoxip](#1) & MOD[pre](#2[meto_orgindex],#1))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).


//*** Modpre + det


   if ((^ORG-LIT[metosem](#1)|^ORG-PRODUCT[metosem,certain:~](#1)|^ORG-INDEX[metosem,sure:~](#1)) & MOD[pre](#2[meto_orgindex],#1) & DETD(#2,#3))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=+](#1).

    if ((^ORG-LIT[metoxip](#1)|^ORG-PRODUCT[metoxip,certain:~](#1)|^ORG-INDEX[metoxip,sure:~](#1)) & MOD[pre](#2[meto_orgindex],#1) & DETD(#2,#3))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=+](#1).


//*** Prep 

   if (^ORG-LIT[metosem](#1) & PREP[up](#1,#2[dig]))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).
   if (^ORG-LIT[metoxip](#1) & PREP[up](#1,#2[dig]))
	ORG-INDEX[orglit=~,orgindex=+,bydefault=~,sure=~](#1).

//**************
// ORG-FOR-EVENT
//**************


   if((^ORG-LIT[metosem,sure:~](#1)|ORG-MEMBERS[metosem,sure:~](#1)) & PREP[long:~,by](#2[vmeto_pby_orgevent],#1))
	ORG-EVENT[orglit=~,orgmemb=~,orgevent=+,bydefault=~](#1).

   if((^ORG-LIT[metoxip,sure:~](#1)|ORG-MEMBERS[metoxip,sure:~](#1)) & PREP[long:~,by](#2[vmeto_pby_orgevent],#1))
	ORG-EVENT[orglit=~,orgmemb=~,orgevent=+,bydefault=~](#1).

///////////////////////
// C) FINAL
///////////////////////

    if(^ORG-LIT[bydefault,metosem](#1[toutmaj])|^ORG-LIT[bydefault,metosem](#1[orgend])|^ORG-LIT[bydefault,metosem](#1[orghead]))
	ORG-LIT[bydefault:~](#1).		
	
    if(^ORG-LIT[bydefault,metoxip](#1[toutmaj])|^ORG-LIT[bydefault,metoxip](#1[orgend])|^ORG-LIT[bydefault,metoxip](#1[orghead]))
	ORG-LIT[bydefault:~](#1).


// Faire redescendre les traits des deps sur les noeuds (pour Guillaume)


Script: 

1> if (ORG-LIT[bydefault,orglit,metosem](#1[annotsupOrg])) {#1[orglit=+,bydefault=+,metosem=+];}
1> if (ORG-LIT[bydefault:~,orglit,metosem](#1[annotsupOrg])) {#1[orglit=+,metosem=+];}
1> if (ORG-LIT[sure,orglit,metosem](#1[annotsupOrg])) {#1[orglit=+,sure=+,metosem=+];}

1> if (ORG-LIT[bydefault,orglit,metoxip](#1)) {#1[orglit=+,bydefault=+,metoxip=+];}
1> if (ORG-LIT[bydefault:~,orglit,metoxip](#1)) {#1[orglit=+,metoxip=+];}
1> if (ORG-LIT[sure,orglit,metoxip](#1)) {#1[orglit=+,sure=+,metoxip=+];}


2> if (ORG-MEMBERS[orgmemb,metosem](#1[annotsupOrg])) {#1[orgmemb=+,metosem=+];}
2> if (ORG-MEMBERS[orgmemb,sure,metosem](#1[annotsupOrg])) {#1[orgmemb=+,sure=+,metosem=+];}

2> if (ORG-MEMBERS[orgmemb,metoxip](#1)) {#1[orgmemb=+,metoxip=+];}
2> if (ORG-MEMBERS[orgmemb,sure,metoxip](#1)) {#1[orgmemb=+,sure=+,metoxip=+];}


3> if (ORG-PRODUCT[orgprod,metosem](#1[annotsupOrg])) {#1[orgprod=+,metosem=+];}
3> if (ORG-PRODUCT[orgprod,certain,metosem](#1[annotsupOrg])) {#1[orgprod=+,certain=+,metosem=+];}

3> if (ORG-PRODUCT[orgprod,metoxip](#1)) {#1[orgprod=+,metoxip=+];}
3> if (ORG-PRODUCT[orgprod,certain,metoxip](#1)) {#1[orgprod=+,certain=+,metoxip=+];}


4> if (ORG-FACILITY[orgfacility,metosem,sure:~](#1[annotsupOrg])) {#1[orgfacility=+,metosem=+];}
4> if (ORG-FACILITY[orgfacility,sure,metosem](#1[annotsupOrg])) {#1[orgfacility=+,sure=+,metosem=+];}

5> if (ORG-FACILITY[orgfacility,metoxip,sure:~](#1)) {#1[orgfacility=+,metoxip=+];}
5> if (ORG-FACILITY[orgfacility,sure,metoxip](#1)) {#1[orgfacility=+,sure=+,metoxip=+];}


6> if (ORG-NAME[orgname,metosem,sure:~](#1[annotsupOrg])) {#1[orgname=+,metosem=+];}
6> if (ORG-NAME[orgname,sure,metosem](#1[annotsupOrg])) {#1[orgname=+,sure=+,metosem=+];}

7> if (ORG-NAME[orgname,metoxip,sure:~](#1)) {#1[orgname=+,metoxip=+];}
7> if (ORG-NAME[orgname,sure,metoxip](#1)) {#1[orgname=+,sure=+,metoxip=+];}

6> if (ORG-INDEX[orgindex,metosem,sure:~](#1[annotsupOrg])) {#1[orgindex=+,metosem=+];}
6> if (ORG-INDEX[orgindex,sure,metosem](#1[annotsupOrg])) {#1[orgindex=+,sure=+,metosem=+];}

7> if (ORG-INDEX[orgindex,metoxip,sure:~](#1)) {#1[orgindex=+,metoxip=+];}
7> if (ORG-INDEX[orgindex,sure,metoxip](#1)) {#1[orgindex=+,sure=+,metoxip=+];}


