
//-------------------------------------------------------
//Sequence Rule:0 in desamb_spec.xip



1> Noun @= noun, noun*.
//-------------------------------------------------------
//Sequence Rule:1 in desamb_spec.xip



/ this rule assigns startbis feature to any word after a punctuation at start of sentence\
1> ?[startbis=+] @= ?[start,punct], ?*[punct], ?.
//-------------------------------------------------------
//Sequence Rule:2 in desamb_spec.xip


1> ?[startbis=+] = ?[start:+].
//-------------------------------------------------------
//Sequence Rule:3 in desamb_spec.xip



/------------ IDENTIFY HEADERS ------------------\


// sequence of at least two ALLCAP words
1> ?[header=+] @= ?+[toutmaj],punct*,?[toutmaj].
//-------------------------------------------------------
//Sequence Rule:4 in desamb_spec.xip


// a single ALLCAP word at beginning of sentence
1> ?[header=+] @= ?[toutmaj,startbis,toolword:~,let:~].
//-------------------------------------------------------
//Sequence Rule:5 in desamb_spec.xip


// a sentence with all words but tool words starting with UPPERCASE
1> ?[header=+] @= punct*, 
                   ?[maj,startbis],
                   ?*[maj],punct*,?*[toolword],
                   ?*[maj],punct*,?*[toolword],
                   ?*[maj],punct*,?*[toolword],
                   ?[toolword];punct[sent:~];?[maj]
                   | punct[sent] |.
//-------------------------------------------------------
//Sequence Rule:6 in desamb_spec.xip





/------------ SPECIFIC DISAMB RULES -------------\



Tagging:
//-------------------------------------------------------
//Tagging Rule:0 in desamb_spec.xip


// "1980" feet -> "1980" is not a year and "feet" is a measure
2> dig = dig[time:~] | %noun[meas] |.
//-------------------------------------------------------
//Tagging Rule:1 in desamb_spec.xip


// foreign name parts such as "van", "am", "ten", "den" (tagged as +Prop +Prep) 
// keep this reading only if not in header and followed by maj:+
2> prep<proper>proper>[header] = ?<proper:~>  .
//-------------------------------------------------------
//Tagging Rule:2 in desamb_spec.xip


2> prep<proper>proper> = ?[proper:~]  | ?[maj:~,proper:~];pron |.
//-------------------------------------------------------
//Tagging Rule:3 in desamb_spec.xip






////////////////////////////////////// Marking some specific lexical nodes ////////////////////////////////////////////

// Marking with feature nfin:+ a verbal form that follows a TO
// Adding a right context in order to avoid a bad disambiguation e.g. to better understand the situation ...
// From white to black(verb*)

5> verb<verb:verb:+,pres:+,sg:~> = | ?*[form:~ffrom], prep[form:finfto] | verb[nfin=+] | ?[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:4 in desamb_spec.xip








////////////////////////////////////// Tagging rules for specific forms ////////////////////////////////////////////



// // // // //	"NE" (North-East or Nebraska ????)
// If NE is preceeded by a noun having feature [address:+] (e.g. Avenue, Street, etc.) followed possibly by a comma, then it is the adverb (north-east) and not the state.
// e.g. 111, Wisconsin Avenue NE
5> adv<lemme:lemme:NE>, ?<place:place:+> = | ?[address:+], (punct[comma:+]) | adv .
//-------------------------------------------------------
//Tagging Rule:5 in desamb_spec.xip



// // // // //	LONG on the left of "ago"
// "long" on the left of "ago" is an adverb
5> verb, adv<form:form:flong>, nadj = adv | ?[form:fago] | .
//-------------------------------------------------------
//Tagging Rule:6 in desamb_spec.xip



// // // // //	NOW at the beginning of a sentence
// NOW at the beginning of a sentence is tagged as a proper noun and not as an adverb
// correction
// e.g. Now the museum says it has received a letter
5> adv<lemme:lemme:now>, noun<proper:proper:+> = adv | ?[fin:~] | .
//-------------------------------------------------------
//Tagging Rule:7 in desamb_spec.xip


// // // // //	ABOUT adv/prep
// ABOUT when followed by a quantifier followed by of is an adverb and not a Preposition
// e.g. About half of the acetone is produced in the XXXX
5> adv<lemme:lemme:about>, prep = adv | ?[predet:+, quant:+], ?[lemme:of] | .
//-------------------------------------------------------
//Tagging Rule:8 in desamb_spec.xip


// about 75% of X
5> adv<lemme:lemme:about>, prep = adv | dig, ?[lemme:of] | .
//-------------------------------------------------------
//Tagging Rule:9 in desamb_spec.xip


// // // // //	'S
// If we have a "'S" between two proper nouns, then it is a Part
5> verb<form:form:fhave>, verb<form:form:fbe>, part<gen:gen:+> = | noun[proper:+] | part | noun[proper:+] | .
//-------------------------------------------------------
//Tagging Rule:10 in desamb_spec.xip



// // // // //  THESE
// If the form "these" is not preceeded by any verb and followed by an ambiguous Verb[pl:+]/Noun[Sg]
// Then THESE is a pronoun and not a determiner
// e.g. These result from alternative splicing of mRNA
5> pron<lemme:lemme:these>, det = pron | noun[sg:+,pl:~] | .
//-------------------------------------------------------
//Tagging Rule:11 in desamb_spec.xip




// // // // //  CAN
// If we have a WH just followed by a form of CAN (VAUX, Verb, Noun)
// If the CAN is not followed by a verb
// THEN CAN is an auxiliary
5> noun, aux<form:form:fcan>, verb<aux:aux:~,form:fcan> = | ?[wh:+], ?*[verb:~] | aux | ?[verb:~,aux:~] |.
//-------------------------------------------------------
//Tagging Rule:12 in desamb_spec.xip


5> noun<sg:sg:+>, aux<form:form:fcan>, verb<form:form:fcan> = | ?[wh:+], ?*[verb:~] | noun | verb |.
//-------------------------------------------------------
//Tagging Rule:13 in desamb_spec.xip

// // // // //  


// // // // //   WILL
// Disamb of WILL in interrogative sentences when it just follows a WH and is not followed by a verb
// In this case it is an auxiliary
// When will Nixon visit China ?
// What day of the week will John arrive ?
5> noun, aux<form:form:fwill> = | ?[wh:+], ?*[verb:~] | aux | ?[verb:~,aux:~] |.
//-------------------------------------------------------
//Tagging Rule:14 in desamb_spec.xip


// Will at the beginning of the sentence and followed by a verb is a proper noun
5> noun<proper:proper:+>, aux<form:form:fwill>, noun<sg:sg:+,countable:+> = | | noun[proper] | ?[verb:+] |.
//-------------------------------------------------------
//Tagging Rule:15 in desamb_spec.xip

// // // // //  

// // // // //   NEED
// Destroy the tag aux in "need"
5> verb<lemme:lemme:need>, aux, noun = noun, verb .
//-------------------------------------------------------
//Tagging Rule:16 in desamb_spec.xip


// // // // // // GET
// Ambiguity between Noun and Verb for the form "get" 
// Get is a verb if it is followed on the right by a Past Part (can have some adverbs inbetween)
5> verb<form:form:fget>, noun = | ?[noun:+] | verb | adv*, verb[partpas:+] | .
//-------------------------------------------------------
//Tagging Rule:17 in desamb_spec.xip


// // // // // //  BEING
// being is always a verb when he does not end a sentence (note that human being and well being are coded as such in the dictionary
5> noun, verb<form:form:fbe,prog:+> = verb | ?<sent:sent:~> |.
//-------------------------------------------------------
//Tagging Rule:18 in desamb_spec.xip

// // // // //  


// // // // // //  FIRST -
// if "FIRST" is just after an NP and just before a finite verb, then it is an adverb
// if FIRST is just after a determiner then it is a numeral
5> num[form:fone] %= | ?[noun:+,verb:~] | adv[adv=+] | ?[verb:+,noun:~] | .
//-------------------------------------------------------
//Tagging Rule:19 in desamb_spec.xip



// // // // // //  BUT - Destroying the adv lecture
// if just before a finite verb, this is a conj coord
5> adv[form:fbut] %= conj[conj=+, coord=+] | ?[verb:+] | .
//-------------------------------------------------------
//Tagging Rule:20 in desamb_spec.xip
 
// // // // //  


// // // // // //  EVEN 
// If "even" is on the left of a comparative then it is an adverb
// even bigger
5> adj, verb, adv<form:form:feven> = adv | adj[compar:+] | .
//-------------------------------------------------------
//Tagging Rule:21 in desamb_spec.xip

// even more complex
5> adj, verb, adv<form:form:feven> = adv | quant[compar:+] | .
//-------------------------------------------------------
//Tagging Rule:22 in desamb_spec.xip

// // // // //  


// // // // // //  ST. 
// St. Street versus Saint
//
// If St. starts the sentence it is Saint. If St. ends the sentence it is Street
// If St. precedes a Proper noun it is Saint, if St. follows a proper noun it is Street

5> ?<abr,abr,title>, ?<locpost>locpost> = || ?[abr:+,title:+] .
//-------------------------------------------------------
//Tagging Rule:23 in desamb_spec.xip


5> ?<abr,abr,title>, ?<locpost>locpost> = ?[locpost=+] || .
//-------------------------------------------------------
//Tagging Rule:24 in desamb_spec.xip


5> ?<abr,abr,title>, ?<locpost>locpost> = | ?[proper:~] |  ?[abr:+,title:+] | noun[proper:+] | .
//-------------------------------------------------------
//Tagging Rule:25 in desamb_spec.xip


5> ?<abr,abr,title>, ?<locpost>locpost> = | noun[proper:+] | ?[locpost=+] | ?[proper:~] | .
//-------------------------------------------------------
//Tagging Rule:26 in desamb_spec.xip




// // // // // //  V
// roman number versus capital letter
// if "V" is after a firstname and just before "of" followed by name[place:+] then it is the roman number
// e.g. Henry V of England
5> ?<noun:noun:+,let:+>, ?<rom:rom:+> = | ?[firstname:+] | dig[rom:+] | prep, noun[place:+] | .
//-------------------------------------------------------
//Tagging Rule:27 in desamb_spec.xip


// // // // // // AS - Ambiguity conjunction-preposition

// Destroying the lecture ADV (as as comparative is dealt by local grammar rules)
5> ?<lemme:lemme:as,prep:+>, adv = prep[prep:+] | ?[pron:~,verb:~] | .
//-------------------------------------------------------
//Tagging Rule:28 in desamb_spec.xip


// Before a non-ambiguous verb, as is a conjunction
5> prep[lemme:as] %= conj[conj:+,form:fas] | (adv), verb[noun:~] | .
//-------------------------------------------------------
//Tagging Rule:29 in desamb_spec.xip


// Before a personal pronoun, AS is a conjunction
// e.g. She acted as she really knew the problem.
5> prep[lemme:as] %= conj[conj:+,sub:+,form:fas] | pron[personal,nom] | .
//-------------------------------------------------------
//Tagging Rule:30 in desamb_spec.xip


// When it follows a verb that subcategorizes PP[as]
//5> ?[lemme:as] %= | ?[partpas:+,sc_pas:+] | prep[prep:+,form:fas] .

// // // // //  

// // // // //  "from time to time" disambiguation of "time"

// From time to time Here time are not verbs but nouns
5> noun<sg:sg:+,lemme:time>, verb = | ?[lemme:from] | noun | ?[form:finfto], ?[lemme:time] | .
//-------------------------------------------------------
//Tagging Rule:31 in desamb_spec.xip


5> noun<sg:sg:+,lemme:time>, verb = | ?[lemme:from], noun[lemme:time], ?[form:finfto] | noun .
//-------------------------------------------------------
//Tagging Rule:32 in desamb_spec.xip



// // // // //  
ÿ
//-------------------------------------------------------
//Sequence Rule:6 in localgram1.xip



/------------Some dig nodes---------------\

4> dig = dig[ord], conj[coord], dig[ord,!features:!].
//-------------------------------------------------------
//Sequence Rule:7 in localgram1.xip



// ADJ{first - choice}, ADJ{second - hand}
5> adj[mwe=+] = num[ord] , punct[form:fhyph,left,right], ? .
//-------------------------------------------------------
//Sequence Rule:8 in localgram1.xip


// three-day summit -> ADJ{three - day}
// 12-year-old -> ADJ{12 - year} - old
// 12-year old -> ADJ{12 - year} old
5> adj[quant=+,meas=+,mwe=+] = num[card,rom:~];dig[ord:~] , 
                               punct[form:fhyph,left,right], 
                               meas; noun[sg]; nadj[adj=~,sg] 
                               | (punct[form:fhyph]), adj;noun;nadj |.
//-------------------------------------------------------
//Sequence Rule:9 in localgram1.xip


/------Some  Proper Name Nodes ------\
/-- with hyphens ... ---\

// three tokens

8> noun[proper=+,mwe=+] = noun[proper];noun[maj,guess];?[toutmaj], 
                    punct[form:fhyph,left,right],
                    ?[maj],
                    punct[form:fhyph,left,right],
                    ?[guess];noun[proper];noun[let];?[maj].
//-------------------------------------------------------
//Sequence Rule:10 in localgram1.xip


// To treat elements like Italo-Irish 

8> nadj[mwe:+,country:+] =  noun[proper];noun[maj,guess];nadj[maj],
                         punct[form:fhyph,left,right],
                         nadj[country].
//-------------------------------------------------------
//Sequence Rule:11 in localgram1.xip


// Iran-Iraq
8> noun[proper=+,mwe=+,country=+,place=+] = noun[proper,country:+], 
        punct[form:fhyph,left,right], 
        noun[proper,country].
//-------------------------------------------------------
//Sequence Rule:12 in localgram1.xip



// first token is a proper name 
8> noun[proper=+,mwe=+] = noun[proper];noun[maj,guess];?[toutmaj], 
                    punct[form:fhyph,left,right],
                    ?[guess];noun[proper];noun[let];?[maj].
//-------------------------------------------------------
//Sequence Rule:13 in localgram1.xip


// special case: first token is a proper name, second word is known and lower-case (e.g. Tae-woo)
8> noun[proper=+,mwe=+] = | ?[maj,det:~] |
                           noun[proper];noun[maj,guess];?[toutmaj], 
                           punct[form:fhyph,left,right],
                           ?[maj:~].
//-------------------------------------------------------
//Sequence Rule:14 in localgram1.xip


// first token is a common noun
8> noun[proper=+,mwe=+] = noun[maj,proper:~];nadj[maj], 
                           punct[form:fhyph,left,right],
                           ?[guess];noun[proper];noun[let].
//-------------------------------------------------------
//Sequence Rule:15 in localgram1.xip


// CH - Jan. 2003
//8> noun[mwe=+,proper=+] = | det[def,maj:~] | noun[maj], noun[maj] | ?[maj:~] | .



IDRules:
//-------------------------------------------------------
//ID_Rule:0 in localgram1.xip




// 56 (899) as a digit : the last element
// can be a parenthesis,
// need to be careful with the overlap with the last rule 

13> dig[mwe=+,date=+] -> dig[first,year],
                         punct*[form:fhyph,first:~,last:~],
                         dig+[first:~,rom:~].
//-------------------------------------------------------
//ID_Rule:1 in localgram1.xip



13> dig[mwe=+] -> dig+[last:~,rom:~],
                  punct*[form:fopar],
                  punct*[form:fcpar,first:~],
                  punct*[form:fhyph,first:~,last:~],
                  dig[first:~,rom:~].
//-------------------------------------------------------
//ID_Rule:2 in localgram1.xip


// digit compounds
// Same rule as after but I need the feature time ...

13> dig[mwe=+,time=+] -> dig[last:~,time:+,rom:~],dig*[last:~,rom:~],
                  punct*[form:fopar],
                  punct*[form:fcpar,first:~],
                  punct*[form:fhyph,first:~],
                  dig[last,first:~,rom:~].
//-------------------------------------------------------
//ID_Rule:3 in localgram1.xip



// for phone numbers ??? (by Francois)

13> dig[mwe=+] -> dig+[last:~,rom:~],
                  punct*[form:fopar],
                  punct*[form:fcpar,first:~],
                  punct*[form:fhyph,first:~],
                  dig[last,first:~,rom:~].
//-------------------------------------------------------
//ID_Rule:4 in localgram1.xip

ÿ
//-------------------------------------------------------
//Sequence Rule:15 in localdates.xip


// Expressions for hours :

// These 3 rules have been deplaced from Chunker.xip :rules 9>
// I add the post-hours modifier : PM AM GMT, etc 
// CB: problems with categories and tokenzation on these items

6> noun[hour:+] @=  num[card:+], adv[form:foclock],  (?[posthour:+]) .
//-------------------------------------------------------
//Sequence Rule:16 in localdates.xip

6> noun[hour:+] @=  dig[card:+], adv[form:foclock], (?[posthour:+]) .
//-------------------------------------------------------
//Sequence Rule:17 in localdates.xip


// CH half past three
6> noun[hour:+] @ = quant[predet], ap[preperiod], num[card:+], (?[posthour:+]).
//-------------------------------------------------------
//Sequence Rule:18 in localdates.xip


// for 03:04:89 +007
6> noun[hour:+] @= dig[time,year:~], (?[posthour:+]).
//-------------------------------------------------------
//Sequence Rule:19 in localdates.xip


6> noun[hour:+] @= dig[year:~], ?[posthour:+].
//-------------------------------------------------------
//Sequence Rule:20 in localdates.xip


6> noun[tempexpr:+,hour:+]  @= dig[year:~],  noun[lemme:hour], dig[year:~], noun[lemme:minute],  conj[coord], dig[year:~], noun[lemme:second] .
//-------------------------------------------------------
//Sequence Rule:21 in localdates.xip


6> noun[tempexpr:+,hour:+]  @= num[card:+],  noun[lemme:hour], num[card:+], noun[lemme:minute],  conj[coord], num[card], noun[lemme:second].
//-------------------------------------------------------
//Sequence Rule:22 in localdates.xip


6> noun[tempexpr:+,hour:+]  @= dig[year:~],  noun[lemme:hour], dig[year:~], conj[coord], noun[lemme:minute] .
//-------------------------------------------------------
//Sequence Rule:23 in localdates.xip


6> noun[tempexpr:+,hour:+]  @= num[card:+], noun[lemme:hour], num[card:+], conj[coord], noun[lemme:minute] .
//-------------------------------------------------------
//Sequence Rule:24 in localdates.xip



// Expressions for dates :

// Numerical dates : I use the feature spec attached to "/" + add fslash
// Month/Day/Year or Year/Day/Month or Year/Month/Day or Day/Month/Year

7> noun[mwe=+,date=+]  @= dig[month], punct[spec:+,form:fslash], dig[day],punct[spec:+,form:fslash], (dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:25 in localdates.xip


7> noun[mwe=+,date=+]  @= dig[month], punct[form:fhyph,left,right], dig[day], punct[form:fhyph,left,right], (dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:26 in localdates.xip

 
7> noun[mwe=+,date=+]  @= (dig[year];dig[shortyear]), punct[spec:+,form:fslash], dig[day],punct[spec:+,form:fslash], dig[month].
//-------------------------------------------------------
//Sequence Rule:27 in localdates.xip


7> noun[mwe=+,date=+]  @= (dig[year];dig[shortyear]), punct[form:fhyph,left,right],  dig[day],punct[form:fhyph,left,right],  dig[month].
//-------------------------------------------------------
//Sequence Rule:28 in localdates.xip


7> noun[mwe=+,date=+]  @= (dig[year];dig[shortyear]), punct[spec:+,form:fslash], dig[month],punct[spec:+,form:fslash], dig[day].
//-------------------------------------------------------
//Sequence Rule:29 in localdates.xip


7> noun[mwe=+,date=+]  @= (dig[year];dig[shortyear]), punct[form:fhyph,left,right], dig[month],punct[form:fhyph,left,right], dig[day].
//-------------------------------------------------------
//Sequence Rule:30 in localdates.xip


7> noun[mwe=+,date=+]  @= dig[day], punct[form:fhyph,left,right], dig[month],punct[form:fhyph,left,right],(dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:31 in localdates.xip


7> noun[mwe=+,date=+]  @= dig[day], punct[spec:+,form:fslash], dig[month],punct[spec:+,form:fslash], (dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:32 in localdates.xip


// "Latin" Dates

// The third century after/ before Christ 

7>  noun[mwe=+,date=+] @= | det[def] | num[ord], noun[lemme:century], (prep[form:fbefore];prep[form:fafter]), noun[lemme:Christ].
//-------------------------------------------------------
//Sequence Rule:33 in localdates.xip




// The third century/millennium  AC | BC | AD

7>  noun[mwe=+,date=+] @= | det[def] | num[ord], noun[lemme:century];noun[lemme:millennium], noun[lemme:BC,toutmaj]; noun[lemme:AC,toutmaj] ; noun[lemme:AD,toutmaj];noun[lemme:ad,toutmaj].
//-------------------------------------------------------
//Sequence Rule:34 in localdates.xip


7>  noun[mwe=+,date=+] @= | det[def] | dig[ord], noun[lemme:century];noun[lemme:millennium], (prep[form:fbefore];prep[form:fafter]), noun[lemme:Christ].
//-------------------------------------------------------
//Sequence Rule:35 in localdates.xip


// The third century AC | BC | AD

7>  noun[mwe=+,date=+] @= | det[def] | dig[ord], noun[lemme:century];noun[lemme:millennium], noun[lemme:BC,toutmaj];noun[lemme:AC,toutmaj];noun[lemme:AD];noun[lemme:ad,toutmaj].
//-------------------------------------------------------
//Sequence Rule:36 in localdates.xip


7>  noun[mwe=+,date=+] @= | det[def] | num[ord], noun[lemme:century];noun[lemme:millennium].
//-------------------------------------------------------
//Sequence Rule:37 in localdates.xip


// the year 800 after/before Christ 
7> noun[mwe=+,date=+] @= | det[def] | noun[lemme:year], dig,  (prep[form:fbefore];prep[form:fafter]), noun[lemme:Christ].
//-------------------------------------------------------
//Sequence Rule:38 in localdates.xip


7> noun[mwe=+,date=+] @= | det[def] | noun[lemme:year], dig,   noun[lemme:BC,toutmaj] .
//-------------------------------------------------------
//Sequence Rule:39 in localdates.xip


7> noun[mwe=+,date=+] @= | det[def] | noun[lemme:year], dig,   noun[lemme:AD,toutmaj];noun[lemme:ad,toutmaj].
//-------------------------------------------------------
//Sequence Rule:40 in localdates.xip

7> noun[mwe=+,date=+] @= | det[def] | noun[lemme:year], dig,   noun[lemme:AC,toutmaj] .
//-------------------------------------------------------
//Sequence Rule:41 in localdates.xip


7>  noun[mwe=+,date=+] @= dig[ord] , (punct[form:fhyph,left,right]) , noun[lemme:century];noun[lemme:millennium].
//-------------------------------------------------------
//Sequence Rule:42 in localdates.xip


//the 1560s BC
7> noun[mwe=+,date=+] @= | det[def] | noun[guess,date] ,noun[lemme:BC,toutmaj];noun[lemme:AC,toutmaj];noun[lemme:AD,toutmaj];noun[lemme:ad,toutmaj].
//-------------------------------------------------------
//Sequence Rule:43 in localdates.xip



// 800 after before Christ
7>  noun[mwe=+,date=+] @= dig, (prep[form:fbefore];prep[form:fafter]), noun[lemme:Christ].
//-------------------------------------------------------
//Sequence Rule:44 in localdates.xip


7>  noun[mwe=+,date=+] @= dig,  noun[lemme:BC,toutmaj].
//-------------------------------------------------------
//Sequence Rule:45 in localdates.xip


7>  noun[mwe=+,date=+] @= dig,  noun[lemme:AC,toutmaj] .
//-------------------------------------------------------
//Sequence Rule:46 in localdates.xip


7>  noun[mwe=+,date=+] @= noun[lemme:AD,toutmaj];noun[lemme:ad,toutmaj], dig .
//-------------------------------------------------------
//Sequence Rule:47 in localdates.xip



/------ 1991-92 -- 15-16 -------\

8> dig[mwe=+,day=+] @= dig[day:+],punct[form:fhyph,left,right],dig[day:+].
//-------------------------------------------------------
//Sequence Rule:48 in localdates.xip


// Coord on digits : to be tested

8> dig[mwe=+,day=+]@= dig[day:+], (punct[comma:+], dig[day:+])*, conj[coord], dig[day:+] .
//-------------------------------------------------------
//Sequence Rule:49 in localdates.xip


/98-99\

8> dig[mwe=+,year=+,date=+] @= dig[shortyear],punct[form:fhyph,left,right],dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:50 in localdates.xip


8> dig[mwe=+,year=+,date=+] @=  dig[shortyear],(punct[comma:+], dig[shortyear:+])*, conj[coord],  dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:51 in localdates.xip


8> dig[mwe=+,year=+,date=+] @= dig[year],punct[form:fhyph,left,right],(dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:52 in localdates.xip


8> dig[mwe=+,year=+,date=+] @=  dig[year],(punct[comma:+], dig[year:+])*, conj[coord],  dig[year].
//-------------------------------------------------------
//Sequence Rule:53 in localdates.xip



/------------ MULTIWORD DATES -------------------\

// April/March (1990) found in corpora
9>  noun[time=+,mwe=+,month=+,date=+] @= noun[month], (punct[spec:+,form:fslash];punct[form:fhyph,left,right]), noun[month].
//-------------------------------------------------------
//Sequence Rule:54 in localdates.xip


//COORD for Months

9>  noun[time=+,mwe=+,month=+,date=+] @= noun[month], (punct[comma:+], noun[month])* , conj[coord],  noun[month].
//-------------------------------------------------------
//Sequence Rule:55 in localdates.xip


// the early 1980's
11> noun[time=+,mwe=+,date=+] @= | det[def] |    
                          ?[time,dig:~];?[preperiod,dig:~],
                          (punct[form:fhyph,left,right]),dig[year],part,(conj[coord],dig,part) .
//-------------------------------------------------------
//Sequence Rule:56 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= | det[def] |    
                          ?[time,dig:~];?[preperiod,dig:~],
                          (punct[form:fhyph,left,right]),noun[guess,date],(conj[coord],noun[guess,date]) .
//-------------------------------------------------------
//Sequence Rule:57 in localdates.xip

// the 1980's
11> noun[time=+,mwe=+,date=+] @= | det[def] | dig[year],part,(conj[coord],dig,part)  .
//-------------------------------------------------------
//Sequence Rule:58 in localdates.xip


// the 1980s with the guesser
11> noun[time=+,mwe=+,date=+] @=   noun[guess,date], conj[coord], noun[guess,date] .
//-------------------------------------------------------
//Sequence Rule:59 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= ?[time,dig:~], dig[year].
//-------------------------------------------------------
//Sequence Rule:60 in localdates.xip


11> noun[year=+,mwe=+]  @= dig[year],part .
//-------------------------------------------------------
//Sequence Rule:61 in localdates.xip


// ! bloque la remontee du trait

// !X:! remonte automatiquement le trait a tout les noeuds au dessus

// early December, mid-December
11> noun[time=+,!month,mwe=+,date=+] @= ?[time,dig:~,day:~,month:~];?[preperiod,dig:~],
                                 (punct[form:fhyph,left,right]),
                                  noun[month], prep[form:fof],dig[year].
//-------------------------------------------------------
//Sequence Rule:62 in localdates.xip

11> noun[time=+,!month,mwe=+,date=+] @= ?[time,dig:~,day:~,month:~];?[preperiod,dig:~],
                                 (punct[form:fhyph,left,right]),
                                  noun[month].
//-------------------------------------------------------
//Sequence Rule:63 in localdates.xip

//Additions CB 

// Sunday (,) December / 21 or the 21st /  (, 1998)
// CLAUDE 
11> noun[time=+,mwe=+,date=+] @= noun[day], (punct[comma:+]), noun[month], (dig[day];(det[def],dig[day,ord])) , (punct[comma:+],dig[year]).
//-------------------------------------------------------
//Sequence Rule:64 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[day], (punct[comma:+]), noun[month], dig[day] , (punct[comma:+],dig[year]).
//-------------------------------------------------------
//Sequence Rule:65 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[day], (punct[comma:+]), noun[month], det[def],dig[day,ord], (punct[comma:+],dig[year]).
//-------------------------------------------------------
//Sequence Rule:66 in localdates.xip



// Sunday (,) December / 21 or the 21st /  (1998)
11> noun[time=+,mwe=+,date=+] @= noun[day], (punct[comma:+]), noun[month], dig[day], (dig[year]).
//-------------------------------------------------------
//Sequence Rule:67 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[day], (punct[comma:+]), noun[month], det[def],dig[day,ord], (dig[year]).
//-------------------------------------------------------
//Sequence Rule:68 in localdates.xip


// Sunday 21 December 1999 
11> noun[time=+,mwe=+,date=+] @= noun[day],(punct[comma:+]),dig[day],(punct[comma:+]), noun[month],((punct[comma:+]),dig[year]).
//-------------------------------------------------------
//Sequence Rule:69 in localdates.xip


// the 20th of October 1999
// Pourquoi inclure le det dans noun ?
// ce n'est pas plutot le contexte ?

11> noun[time=+,mwe=+,date=+] @= (det[def]),dig[day],prep[form:fof],noun[month],(dig[year];dig[shortyear]).
//-------------------------------------------------------
//Sequence Rule:70 in localdates.xip



// December 1999 --- 21 December 1999 --- December 21, 1999

11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), dig[day], punct[comma:+], dig[year].
//-------------------------------------------------------
//Sequence Rule:71 in localdates.xip



11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), det[def],dig[day,ord], punct[comma:+],dig[year].
//-------------------------------------------------------
//Sequence Rule:72 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), dig[day], dig[year].
//-------------------------------------------------------
//Sequence Rule:73 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), det[def],dig[day,ord], dig[year].
//-------------------------------------------------------
//Sequence Rule:74 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), dig[day], punct[comma:+],dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:75 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), det[def],dig[day,ord], punct[comma:+],dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:76 in localdates.xip


11> noun[time=+,mwe=+,date=+] @=  noun[month], prep[form:fof], dig[year];dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:77 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), dig[day], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:78 in localdates.xip


11> noun[time=+,mwe=+,date=+] @= noun[month], (punct[comma:+]), det[def],dig[day,ord], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:79 in localdates.xip


12> noun[time=+,mwe=+,date=+] @= dig[day], noun[month], (punct[comma:+]), dig[year].
//-------------------------------------------------------
//Sequence Rule:80 in localdates.xip


12> noun[time=+,mwe=+,date=+] @= (dig[day]), noun[month], punct[comma:+], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:81 in localdates.xip


12> noun[time=+,mwe=+,date=+] @= (dig[day]), noun[month], dig[year].
//-------------------------------------------------------
//Sequence Rule:82 in localdates.xip


12> noun[time=+,mwe=+,date=+] @= (dig[day]), noun[month], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:83 in localdates.xip


// December 21 or No : December , 21 dangerous : more context needed : a year : Dec
//11> noun[time=+,mwe=+,date=+] @= noun[month],dig[day]. DONE ABOVE

// 21 December 1999

12> noun[time=+,mwe=+,date=+] @= dig[day],noun[month].
//-------------------------------------------------------
//Sequence Rule:84 in localdates.xip


12> noun[time=+,mwe=+,date=+] @= noun[month], dig[day].
//-------------------------------------------------------
//Sequence Rule:85 in localdates.xip


// Starting with a year : 1999 August 11

12> noun[time=+,mwe=+,date=+] @= dig[year], (punct[comma:+]), noun[month], (punct[comma:+]), dig[day].
//-------------------------------------------------------
//Sequence Rule:86 in localdates.xip


// 1999 December (without a day)
12> noun[time=+,mwe=+,date=+] @= dig[year], (punct[comma:+]), noun[month].
//-------------------------------------------------------
//Sequence Rule:87 in localdates.xip


12>  noun[time=+,mwe=+,date=+] @= noun[month], dig[year];dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:88 in localdates.xip


// Time expressions like Winter 2002 : apply on noun or nadj

12> noun[tempexpr=+,mwe=+,date=+] @= nadj[period:+], dig[year].
//-------------------------------------------------------
//Sequence Rule:89 in localdates.xip


12> noun[tempexpr=+,mwe=+,date=+] @= nadj[period:+], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:90 in localdates.xip


12> noun[tempexpr=+,mwe=+,date=+] @= noun[period:+], dig[year].
//-------------------------------------------------------
//Sequence Rule:91 in localdates.xip


12> noun[tempexpr=+,mwe=+,date=+] @= noun[period:+], dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:92 in localdates.xip


// From time to time

12> pp[tempexpr=+] @= prep[form:fin];prep[form:fsince], (det[def]), noun[date:+].
//-------------------------------------------------------
//Sequence Rule:93 in localdates.xip


12> pp[tempexpr=+] @= prep[form:fin];prep[form:fsince], dig[year];dig[shortyear].
//-------------------------------------------------------
//Sequence Rule:94 in localdates.xip


12> pp[time=+,tempexpr=+] @= prep[form:ffrom], ?[lemme:time], prep[form:finfto], ?[lemme:time] .
//-------------------------------------------------------
//Sequence Rule:95 in localdates.xip


// From date1 to date2 

//12>  pp[time=+,tempexpr=+] @= prep[form:ffrom], noun[date:+], prep[form:finfto], noun[date:+] .

ÿ
//-------------------------------------------------------
//Tagging Rule:32 in desamb_ger.xip



// Delete after the integration of FT proper nouns rules
// CB : maj + guess --> proper, but not otherwise !!!

//2> ?[maj:+,proper:~,header:~,dig:~,guille:~] %= | ?[maj:+], ?[maj:+] | noun[proper=+] .
//2> ?[maj:+,proper:~,header:~,dig:~,guille:~] %= | ?[maj:+] | noun[proper=+] | ?[maj:+,header:~] | .


// After a definite article or article at the beginning the ambiguity noun/verb disapears 
2> noun, verb = | det[def:+] | noun .
//-------------------------------------------------------
//Tagging Rule:33 in desamb_ger.xip


2> noun, verb = | det[startbis:+] | noun .
//-------------------------------------------------------
//Tagging Rule:34 in desamb_ger.xip


2> nadj, verb = | det[def:+] | nadj .
//-------------------------------------------------------
//Tagging Rule:35 in desamb_ger.xip


2> nadj, verb = | det[startbis:+] | nadj .
//-------------------------------------------------------
//Tagging Rule:36 in desamb_ger.xip



// For locations
// if we have an ambiguous word Noun/Adj one of them having the feature modloc (e.g. southern) followed by a noun that has feature Proper, Place then we only keep the word which is modloc

5> adj<modloc>modloc>, noun = adj | ?[proper:+, place:+] | .
//-------------------------------------------------------
//Tagging Rule:37 in desamb_ger.xip



// ambiguous adj/proper noun in capital letters just before another proper noun is a proper noun. Checked in the lexicon
5> adj<maj>maj>, noun<proper>proper> = noun | noun[proper:+] | .
//-------------------------------------------------------
//Tagging Rule:38 in desamb_ger.xip



// After a personal pronoun we have a verb if this personal pronoun is not preceeded by a verb

5> aux = | ?[pronpers,nom] | aux .
//-------------------------------------------------------
//Tagging Rule:39 in desamb_ger.xip


5> verb, adv = | ?[pronpers,nom] | adv | ?[verb:+,nadj:~,adj:~,noun:~] | .
//-------------------------------------------------------
//Tagging Rule:40 in desamb_ger.xip

// e.g. We further report that ....
5> verb, adv = | ?[pronpers,nom] | adv | ?[verb:+,indspeech:+], ?[lemme:that] | .
//-------------------------------------------------------
//Tagging Rule:41 in desamb_ger.xip


5> verb = | ?[pronpers,nom] | verb .
//-------------------------------------------------------
//Tagging Rule:42 in desamb_ger.xip


// // // // // // // // // // // // Disambiguation in expressions containing a strong hyphen

// If there is a ing-form followed by strong-hyphen followed by noun, then the ing-form is an adjective
5> noun, adj, verb<vprog>vprog> = adj | punct[form:fhyph,left,right], ?[noun] | .
//-------------------------------------------------------
//Tagging Rule:43 in desamb_ger.xip



// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //

// After a Subject pronpers, followed by be-form, followed possibly by adverb followed by ambiguous -ED form, this ED form is a past participle
// It is also called
5> verb<partpas>partpas>, adj = | pron[startbis], ?[lemme:be], (adv) | verb .
//-------------------------------------------------------
//Tagging Rule:44 in desamb_ger.xip





// ADJ or NOUN after How and before a verb in an interrogative sentence
// e.g. How rich is he ?
5> noun<pl:pl:+>, adj = | ?[form:fhow] | adj | verb[noun:~];aux | .
//-------------------------------------------------------
//Tagging Rule:45 in desamb_ger.xip



// // // // // // // // // // // // NOUN/INFINITIVE VERB Ambiguity 

// After the form "to"
// It is always a noun if we have ambiguity finite-verb (sg,p3) and plural noun
// e.g. to plans (noun)
5> noun<pl:pl:+>, verb<nfin:nfin:~> = | ?[form:finfto] | noun .
//-------------------------------------------------------
//Tagging Rule:46 in desamb_ger.xip


//5> nadj<sg:+>, verb = | ?[lemme:from], nadj, ?[form:finfto] | nadj .

// // // // // // // // // // // // ADVERB/INFINITIVE VERB Ambiguity 

// After the form "to"
// If we have an ambiguous verb/adverb followed by a verb[p3:~], then it is a verb
// e.g. to better understand the situation....
// Note, adding a feature nfin on the non finite verb on the right of the adverb.
5> verb<p3:p3:~>, adv, adj, noun = | ?[form:finfto] | adv | verb[p3:~,nfin=+] | .
//-------------------------------------------------------
//Tagging Rule:47 in desamb_ger.xip





// // // // // // // // // // // // NOUN/VERB Ambiguity 

// If we have a form of "be" followed by "no" followed by an ambiguous Noun/Verb then it is a noun and not a verb
// There have been no studies(noun)
5> noun, verb = | ?[form:fbe], ?*[adv:+], quant[form:fno] | ?[noun] .
//-------------------------------------------------------
//Tagging Rule:48 in desamb_ger.xip





// NOUN/VERB ambiguity
// If a verb ambiguous with noun that subcategorizes a certain particle is followed by this particle, then it is a verb and not a noun
// ON NE PEUT PAS TRAVAILLER AVEC DES VARIABLES A CE NIVEAU...
// WE HAVE TO DETAIL ALL THE POSSIBLE COMBINATIONS...

5> noun<sc_pto:sc_pto:~>, verb<sc_pto:sc_pto:+> = | noun;conj[coord];adv[notly:~] | ?[verb] | (adv), prep[lemme:to] | .
//-------------------------------------------------------
//Tagging Rule:49 in desamb_ger.xip


5> noun<sc_pfrom:sc_pfrom:~>, verb<sc_pfrom:sc_pfrom:+> = verb | (adv[notly:~]), ?[lemme:from] | .
//-------------------------------------------------------
//Tagging Rule:50 in desamb_ger.xip


5> noun<sc_pbetween:sc_pbetween:~>, verb<sc_pbetween:sc_pbetween:+> = verb | (adv[notly:~]), ?[lemme:between] | .
//-------------------------------------------------------
//Tagging Rule:51 in desamb_ger.xip


5> noun<sc_pout:sc_pout:~>, verb<sc_pout:sc_pout:+> = verb | (adv[notly:~]), ?[lemme:out] | .
//-------------------------------------------------------
//Tagging Rule:52 in desamb_ger.xip


5> noun<sc_pabout:sc_pabout:~>, verb<sc_pabout:sc_pabout:+> = verb | (adv[notly:~]), ?[lemme:about] | .
//-------------------------------------------------------
//Tagging Rule:53 in desamb_ger.xip


5> noun<sc_pagainst:sc_pagainst:~>, verb<sc_pagainst:sc_pagainst:+> = verb | (adv[notly:~]), ?[lemme:against] | .
//-------------------------------------------------------
//Tagging Rule:54 in desamb_ger.xip


5> noun<sc_pas:sc_pas:~>, verb<sc_pas:sc_pas:+> = verb | (adv[notly:~]), ?[lemme:as] | .
//-------------------------------------------------------
//Tagging Rule:55 in desamb_ger.xip


5> noun<sc_pat:sc_pat:~>, verb<sc_pat:sc_pat:+> = verb | (adv[notly:~]), ?[lemme:at] | .
//-------------------------------------------------------
//Tagging Rule:56 in desamb_ger.xip


5> noun<sc_pwith:sc_pwith:~>, verb<sc_pwith:sc_pwith:+> = verb | (adv[notly:~]), ?[lemme:with] | .
//-------------------------------------------------------
//Tagging Rule:57 in desamb_ger.xip


5> noun<sc_pfor:sc_pfor:~>, verb<sc_pfor:sc_pfor:+> = verb | (adv[notly:~]), ?[lemme:for] | .
//-------------------------------------------------------
//Tagging Rule:58 in desamb_ger.xip


5> noun<sc_pon:sc_pon:~>, verb<sc_pon:sc_pon:+> = verb | (adv[notly:~]), ?[lemme:on] | .
//-------------------------------------------------------
//Tagging Rule:59 in desamb_ger.xip


5> noun<sc_pinto:sc_pinto:~>, verb<sc_pinto:sc_pinto:+> = ?[verb] | (adv[notly:~]), prep[lemme:into] | .
//-------------------------------------------------------
//Tagging Rule:60 in desamb_ger.xip


5> noun<sc_pin:sc_pin:~>, verb<sc_pin:sc_pin:+> = ?[verb] | (adv[notly:~]), prep[lemme:in] | .
//-------------------------------------------------------
//Tagging Rule:61 in desamb_ger.xip


5> noun<sc_pthrough:sc_pthrough:~>, verb<sc_pthrough:sc_pthrough:+> = ?[verb] | (adv[notly:~]), prep[lemme:through] | .
//-------------------------------------------------------
//Tagging Rule:62 in desamb_ger.xip


5> noun<sc_pover:sc_pover:~>, verb<sc_pover:sc_pover:+> = ?[verb] | (adv[notly:~]), prep[lemme:over] | .
//-------------------------------------------------------
//Tagging Rule:63 in desamb_ger.xip



// NOUN/VERB ambiguity
// If something which have one or more verbal tags with p_up:+ feature and is followed by "up" then we keep the verbal interpretation and destroy any nominal or adjectival interpretation
5> noun, verb<p_up>p_up> = ?[noun:~] | (adv[notly:~]), (punct[form:fhyph,left:+,right:+]), ?[lemme:up] | .
//-------------------------------------------------------
//Tagging Rule:64 in desamb_ger.xip


// Same as above - down
5> noun, verb<p_down>p_down> = ?[noun:~] | (adv[notly:~]), ?[lemme:down] | .
//-------------------------------------------------------
//Tagging Rule:65 in desamb_ger.xip


// Same as above - on
5> noun, verb<p_on>p_on> = ?[noun:~] | (adv[notly:~]), ?[lemme:on] | .
//-------------------------------------------------------
//Tagging Rule:66 in desamb_ger.xip


5> noun, verb<sc_pwith>sc_pwith> = ?[noun:~] | (adv[notly:~]), ?[lemme:with] | .
//-------------------------------------------------------
//Tagging Rule:67 in desamb_ger.xip


// NOUN/VERB ambiguity
// manner adverb, adjective, ambiguous noun[pl]|verb[3p,sg] -> noun[pl]
// e.g. environmentally responsible designs
5> noun<pl:pl:+>, verb<p3:p3:+,sg:+> = | adv[notly:~], adj | noun .
//-------------------------------------------------------
//Tagging Rule:68 in desamb_ger.xip


// NOUN/VERB
// If we have a that followed by an ambiguous noun/verb followed by a non-ambiguous noun followed by no verbs until the end of the sentence, then the ambiguous noun/verb is a verb
// e.g. They use a pesticide that controls(*noun,verb) algae
5> noun, verb = | ?[lemme:that] | verb | ?[verb:~], ?*[verb:~], ?[endbis] | .
//-------------------------------------------------------
//Tagging Rule:69 in desamb_ger.xip


// Ambiguous noun/verb preceeded by no verbs and followed by no verbs is a verb. This is true when the verb is not started by a capital letter
5> noun, verb<maj:maj:~> = |?[startbis], ?*[verb:~] | verb | ?[verb:~], ?*[verb:~], ?[endbis] | .
//-------------------------------------------------------
//Tagging Rule:70 in desamb_ger.xip


// Same as above but the ambiguous noun verb is followed by no verbs until an infinitive or another embedded clause
5> noun, verb = |?[startbis], ?*[verb:~] | verb | ?*[verb:~], ?[lemme:to], verb | .
//-------------------------------------------------------
//Tagging Rule:71 in desamb_ger.xip

5> noun, verb = |?[startbis], ?*[verb:~] | verb | ?*[verb:~], ?[rel] | .
//-------------------------------------------------------
//Tagging Rule:72 in desamb_ger.xip


// NOUN/VERB
// When a verb is taken as a noun in expressions like COMMA AS NP NOUN[pl:+] END_OF_SENTENCE
// e.g. ..., as Mary Smith reports(noun*)
5> noun<pl:pl:+>, verb<p3:p3:+,sg:+,indspeech:+> = | punct[comma], ?[lemme:as], ?*[verb:~,prep:~,conj:~], noun+[proper:~,sg:+];noun+[proper] | verb .
//-------------------------------------------------------
//Tagging Rule:73 in desamb_ger.xip



// NOUN/VERB
// In a sequence of ambiguous noun-verbs, if we have an non-ambiguous noun[sg:+] followed by an ambiguous noun[pl],verb[sg], followed by a non-ambiguous noun[sg:+], then the ambiguous noun/verb is a verb
// e.g. An organization uses (Nouns/Verb) computer message archives
5> noun<pl:pl:+>, verb<sg:sg:+,pres:+,p3:+> =  | ?[prep:~], ?[noun:+,sg:+,verb:~,adj:~] | verb | ?[noun:+,sg:+,verb:~] | .
//-------------------------------------------------------
//Tagging Rule:74 in desamb_ger.xip



// PAST-PART/ADJ/VERB
// If we have an ambiguous past-part, adj, verb just on the right of a noun that is a temporal expression (tempexpr:+) (e.g. yesterday, monday) and just on the left of something which cannot be noun and cannot be verb, then it is a finite verb in preterit
// e.g. That he arrived monday surprised me
//5> verb<vpast>, verb<partpas>, adj = | noun[tempexpr] | verb<past> | ?[noun:~,verb:~] | .


// // // // // // // // // // // // PREP/ADVERB(for particle) Ambiguity

// If we have something that is tagged as verb and followed by an ambiguous prep/adv.
// If the verb admits a particle which corresponds to the form of the following ambiguous item
// Then it is an adverb and not a preposition
// NOTE: We cannot use here variables and have to put all the cases

5> prep<p_off>p_off>, adv = | verb[p_off] | adv .
//-------------------------------------------------------
//Tagging Rule:75 in desamb_ger.xip

5> prep<p_about>p_about>, adv = | verb[p_about] | adv .
//-------------------------------------------------------
//Tagging Rule:76 in desamb_ger.xip

5> prep<p_across>p_across>, adv = | verb[p_across] | adv .
//-------------------------------------------------------
//Tagging Rule:77 in desamb_ger.xip

5> prep<p_up>p_up>, adv = | verb[p_up] | adv .
//-------------------------------------------------------
//Tagging Rule:78 in desamb_ger.xip

5> prep<p_around>p_around>, adv = | verb[p_around] | adv .
//-------------------------------------------------------
//Tagging Rule:79 in desamb_ger.xip

5> prep<p_apart>p_apart>, adv = | verb[p_apart] | adv .
//-------------------------------------------------------
//Tagging Rule:80 in desamb_ger.xip

5> prep<p_back>p_back>, adv = | verb[p_back] | adv .
//-------------------------------------------------------
//Tagging Rule:81 in desamb_ger.xip

5> prep<p_over>p_over>, adv = | verb[p_over] | adv .
//-------------------------------------------------------
//Tagging Rule:82 in desamb_ger.xip



// // // // // // // // // // // // PREP/CONJUNCTION Ambiguity

// Before and After except etc. mistagged as conjunction
// If before or after are at the beginning of a sentence, if they are followed by an NP and no verbs until a comma,
// Then it is to be considered as a preposition and not as a conjunction
// e.g. Before*CONJ adjournment Monday afternoon, the Senate is expected to approve the study.
5> prep, conj<sub:sub:+> = ?[conj:~,sub:~] | (?[det:+]), ?*[adj:+], noun, ?*[verb:~], punct[comma] |.
//-------------------------------------------------------
//Tagging Rule:83 in desamb_ger.xip



// Same as above when instead the comma we find a wh- introducing a sentence
5> prep, conj<sub:sub:+> = ?[conj:~,sub:~] | (?[det:+]), ?*[adj:+], noun, ?*[verb:~], ?[wh:+], ?*[verb:~], ?[verb] |.
//-------------------------------------------------------
//Tagging Rule:84 in desamb_ger.xip



// Prep/Conj ambiguity
// If after and before are tagged as prep when they are conjunctions 
// e.g. After he left ....
5> prep, conj<sub:sub:+> = conj | pron[nom,obl:~,pronpers], verb[noun:~] |.
//-------------------------------------------------------
//Tagging Rule:85 in desamb_ger.xip


5> prep, conj<sub:sub:+> = | | conj | (?[det:+]), ?*[adj:+], noun+, ?[aux];?[verb:+,noun:~] | .
//-------------------------------------------------------
//Tagging Rule:86 in desamb_ger.xip




// Prep/Conj
// If ambiguity between conj and prep preceeded by a verb and followed by something that can be an NP followed by a verb that is not preceeded by any wh, or conjunction then it is a conj and not a prep
5> prep, conj<sub:sub:+> = | ?[verb,nfin];?[verb:+,noun:~] | conj | (?[det:+]), ?*[adj:+], noun+, ?[aux];?[verb:+,noun:~] | .
//-------------------------------------------------------
//Tagging Rule:87 in desamb_ger.xip



// When we have an NP preceeded by AS and followed by a FINITE VERB, then AS is a conjunction and not a PREPOSITION
// Note: Disambiguation NOUN/VERB have to preceed 
// (Search "As Mary Smith reports", "As the global competition (for capital) heats up, ..." )
5> prep, conj<sub:sub:+> = conj | ?*[verb:~,prep:~,conj:~], noun;nadj, ?*[verb:~], verb[verb:+,pres:+,p3:+,sg:+,hmmselection:~], (adv), punct | .
//-------------------------------------------------------
//Tagging Rule:88 in desamb_ger.xip




// // // // // // // // // // // // ED Forms

// Confirmation rule
// An ED form having feature indspeech and followed by THAT is a verb
5> verb<indspeech:indspeech:+> = verb[changed=+] | ?[lemme:that] | .
//-------------------------------------------------------
//Tagging Rule:89 in desamb_ger.xip


 
// CH - Bad disambiguation of a past-participle which is tagged as a verb when it is between a determiner and a noun and if there is a verb on the right at the same level of embedment
5> verb<past:past:+>, adj, verb = | det, (quant[sup]), (adv[notly:~]), adj*[verb:~], (?[prefix:+], punct[form:fhyph,left,right]) | adj[vpap=+,changed=+] | ?[noun], (?[noun,verb:~]), verb[noun:~,adj:~] |.
//-------------------------------------------------------
//Tagging Rule:90 in desamb_ger.xip




// CH if an ambiguous verb-adj (ED-form) bears a feature subcat that just matches with a following prepositon (and the adjective does not have this feature, then it is not an adjective
5> verb<past:past:+,sc_pwith:+>, adj<sc_pwith:sc_pwith:~>, verb = verb[changed=+] | prep[sc_pwith] | .
//-------------------------------------------------------
//Tagging Rule:91 in desamb_ger.xip

5> verb<past:past:+,sc_pfrom:+>, adj<sc_pfrom:sc_pfrom:~>, verb = verb[changed=+] | prep[sc_pfrom] | .
//-------------------------------------------------------
//Tagging Rule:92 in desamb_ger.xip

//5> verb<past:+,sc_pwith:+>, adj<sc_pwith:~>, verb = verb[changed=+] | prep[form:fwith] | .
// EN COURS - toutes les combinaisons
// // // // // // // // // // // // ING Forms

// ING-form that is ambiguous adj,noun,verb,prep (regarding, concerning,including...)
// Just at the beginning of a sentence if we have this kind of ing-forms just followed by (det) (adj)* noun this is a preposition
// Using feature startbis (FT)
5> noun<vprog>vprog>,verb,adj,prep = prep[startbis, changed=+,vprog=+] | (det;pron[det,gen];quant), adj*, noun | .
//-------------------------------------------------------
//Tagging Rule:93 in desamb_ger.xip


5> noun<vprog>vprog>,verb,adj,prep = | punct[comma];punct[form:fopar] | prep[changed=+,vprog=+] | (det;pron[det,gen];quant), adj*, noun, ?*, punct[comma] | .
//-------------------------------------------------------
//Tagging Rule:94 in desamb_ger.xip


// ING-form that is ambiguous adj,noun,verb,prep 
// At the end of the sentence if no verbal form follows
5> noun<vprog>vprog>, verb, adj, prep =  prep[changed=+,vprog=+] |@ (det;pron[det,gen];quant), adj*, ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:95 in desamb_ger.xip




// ING-form that just preceeds a determiner is a verb
5> noun<vprog>vprog>, verb, adj,prep = |@ ?*[verb:~,indspeech:~] | prep[changed=+] | det | .
//-------------------------------------------------------
//Tagging Rule:96 in desamb_ger.xip



// When an ing-form has a capital letter and is between two proper nouns, it is a proper noun. 
// Feature changed:+ avoid the application of later disambiguation rules.
// Delete after integration of FT work on proper nouns
5> noun[vprog] %= | noun[maj:+] | noun[changed=+,proper=+,maj=+] | noun[maj:+] | .
//-------------------------------------------------------
//Tagging Rule:97 in desamb_ger.xip



// When a ing-form follows a form of "be" then it is a verb
5> noun<vprog>vprog>, adj<vprog>vprog>, verb = | ?[form:fbe] | verb[changed=+] .
//-------------------------------------------------------
//Tagging Rule:98 in desamb_ger.xip


// Disambiguation between a noun and a verb in the progressive form when we have a coordination in between.
5> noun<vprog>vprog>, adj, verb = | verb[vprog,changed], (det), ?*[verb:~], conj[coord] | verb[changed=+] |@ (det), ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:99 in desamb_ger.xip



// CH 11th July
// Bad disambiguation of ING-FORM taken as a verb when it is in fact an adjective in the context
// QUANTIFIER PREP[of] ING-FORM NOUN[plural]
// (hundreds of interesting books)
5> verb<vprog>vprog>, noun, adj = | ?[noun,numer], prep[form:fof] | adj[changed=+] | ?[noun,pl] |.
//-------------------------------------------------------
//Tagging Rule:100 in desamb_ger.xip



// If an ing-form is in the plural, then it is necessarily a noun
5> noun<vprog:vprog:+,pl:+> = noun[changed=+].
//-------------------------------------------------------
//Tagging Rule:101 in desamb_ger.xip


// Ing-form after adjectives/noun and just before a verb in a finite form
5> noun<vprog>vprog>, adj, verb = | adj[startbis];nadj[startbis], ?*[verb:~,det:~,prep:~] | noun[changed=+] | verb[pers] | .
//-------------------------------------------------------
//Tagging Rule:102 in desamb_ger.xip


5> noun<vprog,vprog,changed:~>, adj, verb = | det;quant;pron[det,gen], adv*, dig*, ?*[adj] | noun[changed=+] | ?[noun:~] | .
//-------------------------------------------------------
//Tagging Rule:103 in desamb_ger.xip


5> noun<vprog,vprog,changed:~>, adj, verb = | det;quant;pron[det,gen], adv*, dig*, ?*[adj] | adj[changed=+] | ?[noun:+] | .
//-------------------------------------------------------
//Tagging Rule:104 in desamb_ger.xip


// // // // // // // // // // // // Ambiguity in interrogative forms // // // // // // // // // //

// Verb-Adjective ambiguity in interrogative form between a form of DO and a Personal pronoun
// e.g. How do I clean(adj/transitive_verb) teapots

5> adj, verb<trans>trans> = | verb[lemme:do];?[lemme:can];?[lemme:will], ?[pron,pers,nom] | verb | noun, ?*[verb:~], punct[form:fquest] | .
//-------------------------------------------------------
//Tagging Rule:105 in desamb_ger.xip






// // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // // //



///////////////////////////////////////////////////////////////////////////////////////////////



// For HMMSELECTION
18> ? = ?[hmmselection:+] .
//-------------------------------------------------------
//Tagging Rule:106 in desamb_ger.xip




///////////////////////////////////////////////////////////////////////////////////////////////





//ASSIGNING THE FEATURE "PROPER" TO NOUNS THAT ARE NOT TAGGED AS SUCH\\

//This rule must precede other Proper noun rules so that the second noun "Badran" is assigned the feature proper!
//{AP{Prime} Minister+TITLE Mudar+MAJ Badran+MAJ}
14> noun[maj:+,proper:~] = | noun[title] | noun[proper=+].
//-------------------------------------------------------
//Tagging Rule:107 in desamb_ger.xip



//This rule assigns the feature proper to any maj noun that follows a proper noun
//CHECK CONSEQUENCES!! --> 
//Elena+proper Ceascu+maj
//!!NP{Paris+PROPER Monday+PROPER! night}}

// CB : it causes pb for Entity Extraction
//15> noun[maj:+,proper:~,time:~] = |noun[proper:+]|    noun[proper=+].

//Ayatollah+NOUN+MAJ NP{Ali+PROPER Khamenei+PROPER}
//15> noun[maj:+,proper:~] =  noun[proper=+]     |noun[proper:+]|.


15> noun[toutmaj:+,proper:~] =  |noun[proper:+]| noun[proper=+]     .
//-------------------------------------------------------
//Tagging Rule:108 in desamb_ger.xip







// The following rules are either adjustements for the tokens categorization (and in this case there is no disambiguation for these rules) or real disambiguation rules


//Sequence: - if sequence is used then an extra NOUN node is created!!








//THIS RULE CHANGES COMMON NOUNS INTO PROPER NOUNS!! SO EXCLUDE on NP{Iranians} , SC{BG{who}
//NP{the city} PP{of NP{Khost}} FV{is taken}}
//5> noun[maj:+,proper:~] = |?[noun:~ ; nadj:~ ; adj:~ ; dig:~ ; num:~ ; quant:~]|   noun[proper=+]   |?[noun:~ ; nadj:~ ; adj:~ ; dig:~ ; num:~]|.



//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


//***********************************************DEFINITE VPAPS***********************************************


//These rules remove the feature "past" from PastBoth verb forms that are unambiguously past participles


//Rule removes "past" feature from pastboth verbs that begin sentence
//1210>GROUP{SC{Completed PP{in NP{1560}, its brilliantly FV{colored},
20> verb[past:+,partpas:+] = verb[startbis, past=~].
//-------------------------------------------------------
//Tagging Rule:109 in desamb_ger.xip


//Rule removes "past" feature from pastboth verbs that follow "those"
//those jailed for life were released
20> verb[past:+,partpas:+] = |?[form:fthose]| verb[past=~].
//-------------------------------------------------------
//Tagging Rule:110 in desamb_ger.xip



//Rule removes "past" feature from pastboth verbs preceded by a comma and optional close quotation marks
//627>GROUP{NP{Labor}, headed PP{by NP{Vice Premier Shimon Peres}}, FV{responded}
//FV{should} NP{the Iran-Iraq war} , FV{halted} by an NP{August} NP{1988 cease-fire} , 
20> verb[past:+,partpas:+] = |?[comma:+], (?[form:fcquotes])|  verb[past=~]  |prep[form:fby]|.
//-------------------------------------------------------
//Tagging Rule:111 in desamb_ger.xip



//its FV{brilliantly colored} , fanciful onion domes are a world-famous symbol
//5> verb[past:+,partpas:+] = |?[gen:+], (?[adv:+])|  verb[past=~].


//All pastboths that are preceded by a pastboth are VPAPS
//He ordered freed+VPAP all those who
20> verb[partpas:+,past:+] = |?[partpas:+,past:+]| ?[past=~].
//-------------------------------------------------------
//Tagging Rule:112 in desamb_ger.xip



//Pastboths that follow the past tense of "have" are VPAPS
//NP{Noriega} FV{had}} NP{himself} named 
//NP{Ceausescu} FV{had}} PP{in NP{AP{recent} years}} exported
//The Kleene plus is used instead of star to ensure verbs followding "had" are 
//picked up as NFVs 
20> verb[partpas:+,past:+] = |?[form:fhave,past:+], ?+[verb:~,punct:~,conj:~,rel:~,wh:~]| ?[past=~].
//-------------------------------------------------------
//Tagging Rule:113 in desamb_ger.xip



//************************************************************VPAP ADJs*************************************************

//CHECK THIS RULE AGAIN!!
//THIS TAGGING ERROR CAN BE RECTIFIED BY RULES WHICH SHOULD ALLOW A VPAP VERB
//TO BE INCLUDED IN A NOUN PHRASE.  
//Hoosier FV{United} Methodist Church about an hour before the program began - Tagging Error
//NP{Hoosier United Methodist Church}
20> verb[past:+,partpas:+] = |?+|  verb[maj:+,past=~].
//-------------------------------------------------------
//Tagging Rule:114 in desamb_ger.xip



//try this one out
//5> verb[past:+,partpas:+] = |?+|  verb[maj:+,past=~] |?[prep:~]|.


//If an adjective with the features past and partpasmmediately
//follows a noun or a nadj then it is a past tense verb form
//This rule is used in conjunction with the FV rule:
//6> FV ->  | ?[noun:+] ; ?[nadj:+] |   adj[past:+,partpas:~].
//A preceding "nadj" can occur in an NP NP{The average +NADJ retired worker}
//5> adj[past:+,partpas:+] = |?[noun:+,adj:~]|  adj[partpas=~].
//There are no cases where a noun precedes an adj[partpas:+,past:+]

//************************************************************NADJs*************************************************

//NOT ALL NADJs FOLLOWED BY A NOUN ARE ADJs!!! SOME ARE NOUNS MODIFYING OTHER NOUNS!!
//"The light+NOUN switch" and "The light+ADJ feather" 
//NP{Street} , NP{Nelson} and TEST{Local} NP{1971 President Dave Collins}
//the TEST{past} NP{20 years}
//an TEST{automatic} NP{2 percent tax credit}
//the TEST{past} NP{two months}
//1> TEST -> nadj |quant, noun ; nadj|.
//!!NP{a AP{half-hearted} birth control campaign AP{last+NADJ} year}
//"last" is an adj here but "last year" should not be in the NP
//5> nadj %= adj  |(punct[form:foquotes]), adj ; nadj ; noun[form:~fspeaker] ; dig ; num ; quant ; title|.

//5> nadj %= |det ; quant ; conj[form:fthan,first:~] ; AP ; dig ; num|  noun.

//???
//HOWEVER, "a fluent Russian+NADJ speaker" the NADJ is a noun!!
//Fluent Irish speakers are difficult to find
//4> nadj[maj:+] %= |(det), (adj+)|    noun   |noun[maj:~]|.

//TEST{Romanian and Moldavian} FV{are}} - WHY noun must follow!
//TEST{cold+NADJ and AP{misty} Berlin}
//TEST{Central+NADJ and AP{South} America}
// NP{AP{intermediate+NADJ} and AP{junior high} schools}}
//TEST{AP{Latin} American and AP{Caribbean} democracies}

// CH 20> nadj %=  adj  |conj[form:fand], adj+, noun|.



//NP{The country 's AP{Christian+NADJ and African+NADJ} south+NADJ}}
// CH 20> nadj %= adj  |conj[form:fand], adj+, nadj|.


//NP{Its train} FV{was}} NP{75 feet} AP{long}!!
//he wants to be AP{more active+NADJ} and more
//FV{is}} AP{more public} and AP{more active+NADJ}
//!!SC{BG{who} FV{was}} NP{an AP{expert}}
//!!FV{are}} AP{ill-prepared} for!!AP{winter}
//!!NP{What}} FV{was}} your AP{favorite present}the waning year's last seconds
// CH 20> nadj %=  |verb[form:fbe], ?*[verb:~ ; det:~ ; gen:~ ; form:~ffor]|  adj.



//A nadj preceded by a det and followed by a quantifier is an adj
//"The past+nadj few weeks"
// CH 20> nadj %= |det| adj |quant|.


//A nadj preceded and followed by "as" is an adjective
//"as high as"
// CH 20> nadj %= |?[form:fas]| adj |?[form:fas]|.



//This rule prevents many NADJs being chunked as APs instead of NPs
//AP{Giroldi} becomes NP{Giroldi}
//NP{a AP{fluent} Russian} , NP{English} and NP{French speaker}
//!!V{was}} NP{unknown} , 
//!!GV{doing} AP{fine} 
//!!NP{30 feet long} long is a nadj[meas:+] which  turned into a noun with this rule!
//AP{nice} and NP{quiet} ,
//5> nadj %= |?[form:~fbe]|   noun   |?[comma:+]|.
// CH 20> nadj[meas:~] %= |?[verb:~ ; coord:~]|   noun   |?[comma:+]|.


//Test to see if nadj's preceded by preps and not foll by nominals are nouns - CHECK AGAIN!! AND PUT IN DISAMBIG!!
//TEST{after Prime} NP{Minister+TITLE Indira Gandhi} FV{was}
//{NP{Estimates} PP{at NP{one point}} FV{reached}} TEST{as high} as NP{80,000}

//20> nadj %= |prep|   noun   |?[nadj:~ ; noun:~ ; adj:~ ; title:~ ; coord:~]|.



//the plane 's emergency locator signal
20> nadj %=   noun |part|.
//-------------------------------------------------------
//Tagging Rule:115 in desamb_ger.xip





//NOT disambiguated
//{vigorous+adj and joint+nadj} NP{efforts}
//AP{blue+nadj and white+nadj} banners
//AP{Latin+nadj American+nadj and Caribbean+nadj} democracies
//AP{intermediate+adj and junior+adj high+adj} schools

//the NP{country 's} predominantly+ADV! NP{Christian} and NP{AP{African} south}
//!!NP{Ireland 's AP{20-year} old}  AP{political+ADJ} and AP{sectarian+NADJ} violence .}




//*************************************Nouns mistagged as ADJs**********************************

//A capitalised adj which is preceded and followed by lowercase words is a noun
//1> adj[maj:+] %=  |?[maj:~]|  noun |?[maj:~]|.



//********************************* Adjusting subcat features to nadj (CH 12/01) ******************************
// The problem: Subcat features are given either for nouns or for adjs and in the lexicon some words are Nadj
// We don't want subcat features for an adjective in a given form be available for the noun that have the same form





//*************************************MISC****************************************

//"There" followed by a verb is a dummy subject and therefore a noun
// BIZARRE !!! CH 
// 1> adv[form:fthere] %=  || noun[form:fthere] |adv*, ?[verb:+]|.

//"Here" followed by a verb is a dummy subject and therefore a noun
//1> adv[form:fhere] %=  || noun[form:fhere] |adv*, ?[verb:+]|.


//"There" followed by a verb is a noun if not preceded by an adverb
//"and then+ adv there was one"
//1> adv[form:fthere] %=   noun[form:fthere] |adv*, ?[verb:+]|.

//"Here" followed by a verb is a noun if not preceded by an adverb
//1> adv[form:fhere] %=   noun[form:fhere] |adv*, ?[verb:+]|.

// Commente les 3 dernieres le 20 juillet CH


// CH 4th September 2001
// if both is before something that is tagged as a singular noun, there is a bad tagging and what is following both is not a noun but a verb.
//20> noun[sg:+,noun:+] %= | quant[form:fboth] | verb[fin:+,pl:+,p3:+,pres:+,verb:+] .








///////////////////////////////////////////////////////////////
// Disambiguation of BUT that is often mistagged
///////////////////////////////////////////////////////////////

// If we have a but that follows a pronoun with feature pronthing (nothing, everything, anything etc.) and
// that is follow by no verbs of by a verb that is preceeded by a  proposition introducer,
// Then we tag this but as a prep and not as a conjunction

// See reshuffling rules in chunker.xip





// Before a NP (PP)* followed by a finite verb, as is a conjunction
//20> prep[form:fas] %= conj[form:fas,conj:+,sub:+] | ?+[conj:~,wh:~], ?[verb] | .
//20> prep[form:fas] %= conj[form:fas,conj:+,sub:+] | ?+[conj:~,wh:~], ?[aux] | .


// CH, May 2002
// Bad disambiguation of the word "since"
// If since is followed by a verb until then it is a conjunction and not a preppsition 
20> prep[form:fsince] %= conj[form:fsince,sub:+] |@ ?+[verb:~,conj:~,wh:~], verb | .
//-------------------------------------------------------
//Tagging Rule:116 in desamb_ger.xip


// CH May 2002
// Bad disambiguation of "since" which is taken as a conjunction when it has to be a preposition
// Same rule the other way round (no verbs following)
20> conj[form:fsince] %= prep[form:fsince] |@ ?+[verb:~,conj:~,wh:~], ?[endbis] | .
//-------------------------------------------------------
//Tagging Rule:117 in desamb_ger.xip




// CH 24th October 2001
// Bad disambiguation of the word "place" which is taken as a Verb when an adverb occurs between one form of "take" and this word "place"
// e.g. This event took usually place in Atlanta. 
20> verb[form:fplace,pres] %= | verb[form:ftake], adv | noun[sg:+,noun:+,form:fplace] .
//-------------------------------------------------------
//Tagging Rule:118 in desamb_ger.xip



// CH 28th September 2001
// Bad disambiguation between noun and verb. 
// There is no finite verbs in the whole sentence and the word before the infitinitve introduced by to can also be a verb and is preceeded by a noun
// | | 
20> noun[hmm_verb] %= | noun | verb[verb:+,pres:+] | (punct[form:fquotes]), prep[form:finfto] , verb, ?[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:119 in desamb_ger.xip




// CH 26th October 2001
// Bad disambiguation between noun and infinitive form of a verb.
// HMM error due to the presence of quotes.
// When we find a TO, followed by a noun[sg:+]  which can be a verb
// Which is followed by a quote that is followed by a NP and this NP is followed by no verbs until the end of the sentence
// THEN this lexical item is a verb in the infinitive form and not a noun
// e.g. It urges that the city "take steps to REMEDY" this problem.
20> noun[sg:+,hmm_verb] %= | prep[form:finfto], (punct[quote:+]) | verb[verb:+,pres:+] | (?[det:+]), (quant), adj*, (?[noun:+]), ?*[verb:~], punct[sent] | .
//-------------------------------------------------------
//Tagging Rule:120 in desamb_ger.xip



// Bad disambiguation between adjective and infinitive 
// When we found a form of DO followed by an adverb followed by an adjective (that is hmm_verb) followed by something that is not a noun, then we give the tag infinitive verb to this form
// The jury did not elaborate(*adj), but ....
20> adj[hmm_verb:+] %= | verb[form:fdo], adv | verb[verb:+, pres:+] | ?[noun:~] | .
//-------------------------------------------------------
//Tagging Rule:121 in desamb_ger.xip



// CH 14th September 2001
// Bad disambiguation adjective/verb[past] when it is preceeded by an adverb that is just preceeded by a personal pronoun
// e.g. They also voiced(verb) support
20> adj[adj:+] %= | pron[personal, nom], adv | verb[past:+] | ?[noun:+] | .
//-------------------------------------------------------
//Tagging Rule:122 in desamb_ger.xip



// CH 26th October 2001
// Bad disambiguation adjective/past-participle.
// When we have something tagged as an adjective in a very near context from a BE-FORM (with some restrictions
// of what can occur between the BE-FORM and this adjective
// Then we tagged it as a Past-Participle.
20> adj[adj:+,hmm_vpap:+] %= | verb[form:fbe,auxbh:+], (adv*), (punct[form:foquotes]), (punct[form:fcquotes]) | verb[partpas:+, VPap:+,adj:+] .
//-------------------------------------------------------
//Tagging Rule:123 in desamb_ger.xip



// CH 12th September 2001
// Bad disambiguation verb[pastpart]/adjective when it is in the following context
// DET ADJ COMMA verb[pastpar]/adjective NOUN
20> verb[partpas:+] %= | det, adj, punct[comma] | adj[VPap:+,partpas:+] | ?[noun:+] | .
//-------------------------------------------------------
//Tagging Rule:124 in desamb_ger.xip






// CH 8th November
// Bad disambiugation between adjective and verb in preterite form
// When an ambiguous partpas-adj/verb just follows a preposition (in or of) that follows a gerund that follows a form of be
// and is followed by something nominal (adj, nadj or noun), then it is an adjective and not a finite verb
// e.g He is lacking in experienced (*Verb/but adj) personnel.
// CHECK if no undesirable side-effects !!!!
20> verb[partpas:+] %= | verb[form:fbe], verb[vprog:+], prep[form:fin];prep[form:fof] | adj[VPap:+,partpas:+] | (adj), ?[noun:+] |.
//-------------------------------------------------------
//Tagging Rule:125 in desamb_ger.xip



// CH 4th September 2001
// Both before a verb that is not followed by the word AND (they both play and smile)
// then both is not a conjunction but a quant (Both decided to leave)
20> conj[form:fboth] %= quant[form:fboth,predet:+,quant:+] | verb, adv*, ?[coord:~] | .
//-------------------------------------------------------
//Tagging Rule:126 in desamb_ger.xip


// CH 16th August
// Correcting a bad disambiguation of WHAT when it is followed by a verbal finite form.
20> det[wh:+] %= pron[wh:+] | verb |.
//-------------------------------------------------------
//Tagging Rule:127 in desamb_ger.xip



// CH 24th August
// Consider that we have a wh determiner before a cardinal that is followed by a noun, if this wh is an interrogative (wh at the beginning of the sentence)
20> pron[wh:+,first] %= det[wh:+] | ?[card:+], adj*, noun+ |.
//-------------------------------------------------------
//Tagging Rule:128 in desamb_ger.xip


20> pron[wh:+] %= | prep[first] | det[wh:+] | ?[card:+], adj*, noun+ |.
//-------------------------------------------------------
//Tagging Rule:129 in desamb_ger.xip


// CH 12nd October
// If the word which is followed by a noun (possibly preceeded by adjective(s) )
// Then its a determiner and not a pronoun, if this wh is an interrogative. (wh at the beginning of the sentecne
20> pron[wh:+,first] %= det[wh:+] | adj*, noun |.
//-------------------------------------------------------
//Tagging Rule:130 in desamb_ger.xip


20> pron[wh:+] %= | prep[first] | det[wh:+] | adj*,noun | .
//-------------------------------------------------------
//Tagging Rule:131 in desamb_ger.xip




// ================================= ADJ/VERB or NOUN/VERB disambiguation errors ============================
// ================================= trying to limit them ===================================================

// CH 15th October.
// Adj-Verb disambiguation 
// If we have an adj (which is possibly a verb) that follows an NP that follows a WH 
// If this adj is followed by a PP and a question mark
// Then this adjective is badly disambiguated and is in fact a verb
// E.g. How many inhabitants live(*adj) in Paris ?
20> adj[hmm_verb] %= | ?[wh], quant*, adj*, noun | verb[verb:+, pres:+] |@ prep, ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:132 in desamb_ger.xip



// Same rule as above for a NOUN-VERB bad disambiguation
20> noun[hmm_verb] %= | ?[wh], quant*, adj*, noun | verb[verb:+, pres:+] |@ prep, ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:133 in desamb_ger.xip



// Same rule as above for a nadj-VERB bad disambiguation
20> nadj[hmm_verb] %= | ?[wh], quant*, adj*, noun | verb[verb:+, pres:+] |@ prep, ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:134 in desamb_ger.xip




// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// DISAMBIGUATION ERRORS  -- Need a very large context and can not be dealt in previous stages
// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

// Rule XXXXX
// Bad tagging NOUN-VERB 
// Starting NP in which there is a plural noun and a sing noun[hmm_verb:+] followed by anything but verb or if it is verb it must be in an embedded clause (trying to save some dependencies that will not be calculated otherwise)
// e.g. The legislators work(*NOUN) with official to pass enabling the new legislation.
20> noun[hmm_verb:+,sg:+] %= | ?[startbis,verb:~], ?*[verb:~], det;pron[det,gen];quant, adj*, noun[pl] | verb[pl:+,verb:+,pres:+,p3:+] |@ (?[verb:~];?[nfin];?[vprog])*, ?[verb:~,endbis] | .
//-------------------------------------------------------
//Tagging Rule:135 in desamb_ger.xip


20> noun[hmm_verb:+,sg:+] %= |det[startbis];pron[det,gen,startbis];quant[startbis], (adj;nadj)*, noun[pl] | verb[pl:+,verb:+,pres:+,p3:+] |@ (?[verb:~];?[nfin];?[vprog])*, ?[verb:~,endbis] | .
//-------------------------------------------------------
//Tagging Rule:136 in desamb_ger.xip


// 20> noun[hmm_verb:+,sg:+] %= | ?*[verb:~], (det), (adj)*, noun[pl] | verb[pl:+,verb:+,pres:+,p3:+] | ?*[verb:~], ?[last,verb:~]| .

// CH 8th October
// Noun-Verb disambiguation
// If something is tagged as a noun and is ambiguous noun-verb and appears in an interrogative sentence just after a NP that follows the DO auxiliary, and 
// if no other verbs are present in the sentence then the word is a verb
// e.g. When did Nixon visit(*noun) China ?
// e.g. What day of the week did Christmas fall(*noun) on ?
// e.g. How many consecutive games did Lou Gerhit play(noun*) ?
20> noun[hmm_verb:+] %= | ?[wh:+], ?*[verb:~], verb[form:fdo], (det), (adj;nadj)*, (noun[proper]), noun | verb[inf=+] |@ ?*[verb:~], ?[verb:~,endbis] | .
//-------------------------------------------------------
//Tagging Rule:137 in desamb_ger.xip


20> noun[hmm_verb:+] %= | ?[wh:+], ?*[verb:~], aux, (det), (adj;nadj)*, noun[proper] | verb[inf=+] |@ ?*[verb:~], ?[verb:~,endbis] | .
//-------------------------------------------------------
//Tagging Rule:138 in desamb_ger.xip


20> noun[hmm_verb:+] %= | ?[wh:+], ?*[verb:~], verb[form:fdo], pron | verb[inf=+] |@ ?*[verb:~], ?[verb:~,endbis] | .
//-------------------------------------------------------
//Tagging Rule:139 in desamb_ger.xip


20> noun[hmm_verb:+] %= | ?[wh:+], ?*[verb:~], verb[form:fdo], pron | verb[endbis, inf=+]  .
//-------------------------------------------------------
//Tagging Rule:140 in desamb_ger.xip



// CH, Jan, 2002
// Noun-Verb disambiguation
// If we found an introducer of an embedded sentence (that, wh-pronoun etc.) that is followed by a NP only in which the last 
// element is ambiguous noun/verb and is preceeded by something which has the feature noun
// Then this last element is a verb and not a noun
// e.g. I think that Republicans leave (noun*).
20> noun[hmm_verb:+] %= | ?[form:fthat], ?*[verb:~], ?[noun] | verb[pres:+, verb:+] | punct[sent] | .
//-------------------------------------------------------
//Tagging Rule:141 in desamb_ger.xip


20> noun[hmm_verb:+] %= | ?[form:fthat], ?*[verb:~], ?[noun] | verb[endbis, pres:+, verb:+] .
//-------------------------------------------------------
//Tagging Rule:142 in desamb_ger.xip



// CH
// Noun-Verb disambiguation
// There are companies in the United States that produce(*noun) antimony
//20> noun[hmm_verb:+] %= | ?[verb:~], ?[form:fthat] | verb[pres:+,verb:+] | (noun)+

// CH, Jan 2002
// Noun-Verb disambiguation
// If a sentence starts with a wh:+ and if between this wh and a following comma (,) no verb is found
// And if the last element before the comma is a noun which also could be a verb, then we choose the verb
// e.g. When the gubernatorial campaign starts(noun:*), Caldwell is expected ....
20> noun[hmm_verb:+] %= | ?[wh,startbis], ?*[verb:~], ?[noun] | verb[pres:+,verb:+] | punct[comma] |.
//-------------------------------------------------------
//Tagging Rule:143 in desamb_ger.xip



// CH, March 2002
// Noun-Verb disamb.
// Same as above when the sentence starts with a that (completive)
// e.g. That the gubernatorial campaign starts(noun:*), I knew that.
20> noun[hmm_verb:+] %= | ?[form:fthat,startbis], ?*[verb:~], ?[noun] | verb[pres:+,verb:+] | punct[comma] |.
//-------------------------------------------------------
//Tagging Rule:144 in desamb_ger.xip



// CH, March 2002
// Same as above (Sentence starting with a THAT-clause, when the verb of the embedded sentence is followed by a non-ambiguous finite verb
// e.g. That the gubernatorial campaign starts(noun:*) was a good news.
20> noun[hmm_verb:+] %= | ?[form:fthat,startbis], ?*[verb:~], ?[noun] | verb[pres:+,verb:+] | verb[hmm_feat:~] |.
//-------------------------------------------------------
//Tagging Rule:145 in desamb_ger.xip



// CH 29th November
// Noun-Verb ambiguity
// If at the very beginning of a sentence we have a lexical unit ambiguous VERB/Plural-noun tagged as a noun
// AND if it is followed by an ambiguous VERB/Singular-Noun tagged as a Noun
// AND if it is followed either by a facultative adjective followed by a plural noun
// THEN we decide that the second item is not a noun but a verb
// e.g. Changes offer new possibilities
20> noun[hmm_verb,sg:+]  %= | noun[noun,hmm_verb,pl,startbis] | verb[verb:+,pres:+] | (adj), ?[noun:+,pl:+] |.
//-------------------------------------------------------
//Tagging Rule:146 in desamb_ger.xip



// CH, 29th April
// non-ambiguous verb followed by comma, followed by badly tagged noun(in fact a verb) followed either by another comma or a coordinator
// e.g. The lady eats, plays(*noun) and drinks
20> noun[hmm_verb,pl:+] %= | verb[p3:+,sg:+,pres:+] , punct[comma] | verb[verb:+,pres:+,p3:+,sg:+] | punct[comma] |.
//-------------------------------------------------------
//Tagging Rule:147 in desamb_ger.xip


20> noun[hmm_verb,pl:+] %= | verb[p3:+,sg:+,pres:+] , punct[comma] | verb[verb:+,pres:+,p3:+,sg:+] | conj[coord:+] |.
//-------------------------------------------------------
//Tagging Rule:148 in desamb_ger.xip



// CH, 29th April
// bad disambiguated noun-pl/verb-sg followed by coordination followed by safe verb in singular
// e.g. The lady plays and eats
20> noun[hmm_verb,pl:+] %= | noun[sg:+] | verb[verb:+,pres:+,p3:+,sg:+] | conj[coord], verb[p3,sg,pres] | .
//-------------------------------------------------------
//Tagging Rule:149 in desamb_ger.xip




// CH, 29th April
// Noun-Verb ambiguity
// If we have a verb in a singular form followed by "AND" followed an ambiguous Noun-plural/Verb-singular and just followed buy another noun,
// Then, the noun is bad disambiguated and is a verb
// e.g. The lady eats and plays(*noun) cards.
20> noun[hmm_verb,pl:+] %= | verb[p3:+,sg:+,pres], conj[coord:+] | verb[verb:+,pres:+,p3:+,sg:+] | noun | .
//-------------------------------------------------------
//Tagging Rule:150 in desamb_ger.xip


// CH, 29th April
// Same as above when the second bad disambiguated noun is followed by the end of a sentence
20> noun[hmm_verb,pl:+] %= | verb[p3:+,sg:+,pres], conj[coord:+] | verb[verb:+,pres:+,p3:+,sg:+] | punct | .
//-------------------------------------------------------
//Tagging Rule:151 in desamb_ger.xip




// When a noun is taken as a verb after a be form followed by an adverb
// Note: sg:+, p3:+ ensures that the ambiguous noun/verb form has a final "S"
// e.g. They are not partners for peace
20> verb[hmm_noun,sg:+,p3:+] %= | verb[form:fbe], adv | noun[noun:+,pl:+] .
//-------------------------------------------------------
//Tagging Rule:152 in desamb_ger.xip

 
20> verb[hmm_noun,sg:+,p3:+] %= | verb[form:fbe], noun[tempexpr] | noun[noun:+,pl:+] .
//-------------------------------------------------------
//Tagging Rule:153 in desamb_ger.xip


// EN COURS


// Noun/infinitive verb (without to) ambiguity
// In the expression XXX see NP V-inf when NP+V-inf is taken as a single NP
// e.g. They saw an Israeli missile strike(*Noun) Abu Zeid's home.
20> noun[hmm_verb,sg:+] %= | verb[lemme:see], (det), ?*[adj], ?[noun] | verb[trans:+,verb:+,nfin=+,bf=+] .
//-------------------------------------------------------
//Tagging Rule:154 in desamb_ger.xip



// CH 16th August
// Transform a bad disambiguation noun/infinitive verb into verb in the case of interrogative sentences with DO that have no other finite verb
// eg What does the company manufacture(*noun) ? or When does your brother leave(*noun)
// or  What products did Qintex group manufacture ?
20> noun[hmm_verb] %= | ?[wh], (noun), verb[form:fdo], (det;quant), adj*, noun |  verb[trans:+,verb:+,pres:+] | ?*[verb:~,noun:~], punct[form:fquest] |.
//-------------------------------------------------------
//Tagging Rule:155 in desamb_ger.xip





// CH 23 August
// Same as previous for a proper noun or pronoun
20> noun[hmm_verb] %= | ?[wh], (noun), verb[form:fdo], noun[proper];pron, noun* |  verb[inf=+] | ?*[verb:~,noun:~], punct[form:fquest] |.
//-------------------------------------------------------
//Tagging Rule:156 in desamb_ger.xip



// CH 16th August
// Similar as previous rule in case of a bad disambiguation adj/verb
// eg. Where does NP live ?
20> adj[hmm_verb] %= | ?[wh], verb[form:fdo], det;quant, adj*, noun |  verb[inf:+] | ?*[verb:~,noun:~], punct[form:fquest] |.
//-------------------------------------------------------
//Tagging Rule:157 in desamb_ger.xip



// CH 23 August. Same as above for proper nouns or personal pronouns
20> adj[hmm_verb] %= | ?[wh], verb[form:fdo], noun[proper];pron |  verb[inf:+] | ?*[verb:~,noun:~], punct[form:fquest] |.
//-------------------------------------------------------
//Tagging Rule:158 in desamb_ger.xip



// CH July 2002
// What strait separates(noun*) North America from Asia ?
20> noun[hmm_verb] %= | ?[wh], (adj), ?[noun] | verb[trans:+,verb:+,pres:+] | ?*[verb:~], punct[form:fquest] |.
//-------------------------------------------------------
//Tagging Rule:159 in desamb_ger.xip
 


// CH 24 August. Correction of the bad disambiguation of LAST (considered as nadj when it is a verb) in the case of a sentence that started with "How long" just followed by an auxiliary
// NOTE: The feature inf:+ is not well done but it is the only way I found to have then the VLINK relation between DO-FORM and LAST. The feature partpas:+ will build a FV in the chunker.
20> nadj %= | adv[wh,form:flong], ?[form:fdo], ?*| verb[inf:+] | ( punct ) | .
//-------------------------------------------------------
//Tagging Rule:160 in desamb_ger.xip


// CH 24th August
// Same as above for auxiliaries verbs
20> nadj %= | adv[wh,form:flong], ?[aux], ?*| verb[inf:+] | ( punct ) | .
//-------------------------------------------------------
//Tagging Rule:161 in desamb_ger.xip


// CH 28th August
// Correcting a bad disambiguation of BEFORE, AFER taken as CONJ when they're in fact PREP
//20> conj %= || prep | (det), (dig), adj*, ?[noun:+], punct[comma:+], (det), (dig), adj*, ?[noun:+], ?[verb:+] | .
// CHECK

// CH 29th Augst
// If the word ONE si followed by a PP and starts the NP, then it is a num and not a pronoun
// In the BC, 578 "one of" with one as numeral agains 25 "one of" with one as pronoun
20> pron[form:fone] %= |(?[det:~,adj:~,noun:~,pron:~,quant:~,prep:~]) | num | ?[form:fof] | .
//-------------------------------------------------------
//Tagging Rule:162 in desamb_ger.xip





// ING-FORMS (vprog feature)



// CH 19th September
// Bad disambiguation between a noun and a verb in the progressive form when we have a coordination in between.
//20> noun[vprog:+] %= | verb[vprog:+], conj[coord:+] | verb[verb:+,vprog:+,prog:+,changed=+] | ?[noun:~,adj:~] | .

// CH 28th Nov.
// Bad disambiguation between a noun and a verb in the progressive form when we have a coordination in between.
// e.g He is eating bread and drinking.
//20> noun[vprog:+] %= | verb[vprog:+], (det), (adj), (noun), conj[coord] | verb[verb:+,vprog:+,prog:+,changed=+] | (det), (adj), (noun) |.

// CH 19th sept.
// Bad disambiguation between an ADJ and Verb in a progressive form
// e.g. For influencing debates and promoting policies
// The HMM takes promoting as an ADJ because of the coordination and the previous noun.
// e.g. He is eating bread and drinking(*ADJ) milk
//20> adj[vprog:+] %= | verb[vprog:+], (det), (adj), (noun), conj[coord] | verb[verb:+,vprog:+,prog:+,changed=+] | (det), (adj), noun |.


// CH, 26th October
// NOTE: SOME PARTIAL DISAMBIGUATION RULES ARE DONE AT THE BEGINNING OF THE FILE
// Bad disambiguation VERB/ADJ (ING-FORM)
// When we are in the context of adjective coordination and one of the coordinated is tagged as a VERB and is a ING-FROM, then we choose the ING-FORM
//20> verb[vprog:+,hmm_adj] %= | (adv), adj[hmm_verb:~], (punct[comma]), (adv), (adj[hmm_verb:~]), (conj[coord:+]), (adv) | adj[vprog:+,changed=+] | conj[coord:+], (adv), adj | .

// CH 21st September
// Bad disambiguation between a verb in a progressive form and a noun
// e.g. "``That ending is 1976 and it's now 14 years later." 
// The rule stipulates that if we have a THAT at the beginning of a sentence followed by a ING-form that can be a noun, followed by a finite verb and if there is no other finite verb somewhere in the right, then the ING-form is a noun
20> verb[vprog:+,prog:+,hmm_noun:+] %= | ?[form:fthat,maj] | noun[vprog:+,changed=+] |@ verb[verb:+,p3], ?*[verb:~], ?[endbis] |.
//-------------------------------------------------------
//Tagging Rule:163 in desamb_ger.xip
 


// CH 21st September
// If the above rule has been used, then the THAT is not a conj but a determiner
20> conj[form:fthat] %= det[form:fthat] | noun[vprog:+,changed=+] | .
//-------------------------------------------------------
//Tagging Rule:164 in desamb_ger.xip




// CH 13th December
// Bad disambiguation between verb/adj (ing-form)
// If we have a verb with feature sc_ing that is just followed by an ING-FORM tagged as adjective, then this tagging is an error and will be changed to verb
// e.g. He likes fishing(*adj)
20> adj[vprog:+] %= | verb[sc_ing] | verb[vprog:+,prog:+,verb:+,changed=+] | ?[noun:~] | .
//-------------------------------------------------------
//Tagging Rule:165 in desamb_ger.xip



// CH
// If an ing-form has been changed as a noun (feature changed:+) but is preceeded by a determiner and followed by a noun, then we tagged it as an adjective
// e.g Sequence analysis of the corresponding(*noun) gene.
//20> noun[vprog:+,changed:+] %= | det;quant | adj[vprog:+,changed:+,prog:+] | ?[noun:+] | .
20> noun[vprog:+,changed:+] %= | det;quant | adj | ?[noun:+] | .
//-------------------------------------------------------
//Tagging Rule:166 in desamb_ger.xip



// CH 16th July
// General rules for ing-forms
// If an ING-FORM is in the plural form (always tagged as a noun) or is preceeded by a determiner or by something in genitive
// Then it is a noun. Otherwise it is a verb
// The rule only apply to those ING-FORMS that do not have the feature changed:+ (previously changed in another disambiguation rule)


//20> noun[vprog:+,changed:~] = | adj[start];nadj[start], adj*, nadj*, noun* | noun[changed=+] | conj[coord];punct[comma], verb[vprog] | .


// EN COURS DE PASSAGE VERS LE HAUT

//20> adj[vprog:+,changed:~] = | det;quant, adv*, dig*, ?*[adj] | adj[changed=+].

//20> adj[vprog:+,changed:~] = | | adj[changed=+] | ?[noun,pl] | .

//20> noun[vprog:+,changed:~] = | part[poss,gen] | noun[changed=+] .

//20> adj[vprog:+,changed:~] = | part[poss,gen] | adj[changed=+] .

//20> adj[vprog:+,changed:~] = | verb | adj[changed=+] | ?[noun] |.

// Changing categories for bad disambiguated ing-form
//20> verb[vprog:+,changed:~] %= | det;quant, adj* | noun[vprog:+, sg:+, noun:+,changed=+] .


//20> verb[vprog:+,changed:~] %= | part | noun[vprog:+, sg:+, noun:+,changed=+] .



// CH July
// Each unchanged vprog is in fact a verb
//20> ?[vprog:+,changed:~, verb:~] %= verb[vprog:+,prog:+,verb:+].






// CH 1st October
// Bad guessing. 
// When something which has been guessed as a noun or nadj is preceeded by a personal pronoun, then it is a verb.
20> ?[noun:+, guess:+] %= | pron[personal,nom] | verb[verb:+,pres:+] .
//-------------------------------------------------------
//Tagging Rule:167 in desamb_ger.xip




// CH 4th October
// Noun-Verb disambiguation
// If something is tagged as a noun and is ambiguous noun-verb and is just followed by that and only one finite verb, then this is a mistagging and the word is in fact a verb
20> noun[hmm_verb:+,sg:+] %= | ?*[verb:~], ?[det:~,quant:~,gen:~] | verb[verb:+,pres:+] | (adv), ?[form:fthat], ?*[verb:~], verb[pres];verb[past], ?*[verb:~] | .
//-------------------------------------------------------
//Tagging Rule:168 in desamb_ger.xip




// CH 15th January
// When a Proper Noun (not present in the dictionnary) tagged as something which is not noun is at the beginning of the sentence and is then followed by a non ambiguous verb with feature indspeech which is in turn just followed by that, 
// Then this we have to tag it as proper noun
// e.g. Cox(*verb) argued that the Bill is paid
20> ?[noun:~,pron:~,det:~] %=  noun[startbis, noun:+,proper:+] | verb[indspeech,hmm_noun:~,hmm_adj:~], ?[form:fthat] | .
//-------------------------------------------------------
//Tagging Rule:169 in desamb_ger.xip




// CH 10th October
// Noun, VPast, VPap disambiguation
// If something is tagged as a noun and is ambiguous Vpast and VPap and is preceeded by a noun or nadj and is followed by an adv that can be a particle which is followed by a preposition
// Then this lexical unit is not a noun but a VPast
// e.g. The name of the pilot SHOT(*noun) down(*ADV) in Korea
20> noun[hmm_vpap:+, hmm_vpast:+] %= | ?[noun:+] | adj[VPap:+,partpas:+,verb:+] | adv[partic, hmm_prep:+] | .
//-------------------------------------------------------
//Tagging Rule:170 in desamb_ger.xip



// CH 7th November
// VERB/ADJ disamb
// If we found the word "said" tagged as an adjective just before a noun that has the feature time:+
// Then this is a bad tagging and the form of said is in fact a verb
20> adj[form:fsaid] %= verb[pl:+,sg:+,p3:+,p2:+,p1:+,hmm_vpap:+,indspeech:+,sc_toinf:+,sc_sentsuj:+,sc_s:+,sc_pto:+,sc_pabout:+,trans:+,past:+,partpas:+,verb:+,last:+,first:+] | noun[time:+] | .
//-------------------------------------------------------
//Tagging Rule:171 in desamb_ger.xip



// CH
// verb/adj disamb
// if an ambiguous adj/verb(past-form in ed) is tagged as adj and its followed by a plural noun and preceeded by a singular determiner, then it is in fact a verb
// e.g. One validated acts ....
20> adj[hmm_vpap] %= | pron[pl:~];det[pl:~] | verb[trans:+,past:+,partpas:+,verb:+,p3:+,p2:+,p1:+,pl:+,sg:+,hmm_vpap:+] | ?[noun,pl] | .
//-------------------------------------------------------
//Tagging Rule:172 in desamb_ger.xip


// CH 15th October
// Check further....
// If an ambiguous adj-verb (past-participle) follows a noun and is followed by a prep 
// And if after the following preposition there is one or more FINITE verbs until the end of the sentence
// and if the hmm tags it as a finite verb, then the category is changed to adjective[vpap].
// e.g. The man arrived in Paris yesterday is a murderer
// VS The man arrived in Paris which is a nice city
// OR The man arrived in Paris yesterday.
20> verb[hmm_vpap:+,sc_toinf:~,changed:~] %= | ?[noun:+,proper:~] | adj[VPap:+,partpas:+,verb:+] | prep[form:~finfto,form:~fafter,form:~fbefore,form:~fby], (adj), ?[noun:+], ?*[verb:~,form:~fthat,form:~fwhich,form:~fwho], ?*[verb,nfin:~], ?+[verb:~,form:~fthat,form:~fwhich,form:~fwho.punct:~] | .
//-------------------------------------------------------
//Tagging Rule:173 in desamb_ger.xip


// CH 15th October
// Ambiguity adj-verb (past-participle)
// If we have a noun followed by a fv[partpas], followed by a np followed by a verb then it is an adj[partpas] and not a verb
// A man called Peter arrived yesterday
// The feature changed:+ has been added for "sure" interpretation of verb
20> verb[hmm_vpap:+,changed:~] %= | ?[noun:+] | adj[VPap:+,partpas:+,verb:+] | (det), adj*, noun, verb[prog:~]| .
//-------------------------------------------------------
//Tagging Rule:174 in desamb_ger.xip



// CH 15th October
// Change the tag of the word "first" when it is preceeded by a nominative pronoun
// e.g. They first decided to .... Who first circumnavigated the globe ? etc.
// In this case, first is an adverb and not an ordinal
// Note : In the current lexicon first is just tagged as an ordinal.
20> num[form:fone] %= | pron[nom:+] | adv[form:fone] .
//-------------------------------------------------------
//Tagging Rule:175 in desamb_ger.xip


// CH 31st October
// If we have the form "that" tagged as a determiner just after a verb that have feature sc_s:+ (i.e. subcategorizes a sentence possibly with introduced by that, then that is a conjunction and not a determiner
20> det[form:fthat] %= | verb[sc_s:+] | conj[form:fthat,sub:+,conj:+] .
//-------------------------------------------------------
//Tagging Rule:176 in desamb_ger.xip



// CH
// If we have a DET before a verb that has hmm_pron, then it is a pron (only occurs after having changed a bad disamb noun/verb
// e.g. another enlarged authorities
20> det[hmm_pron] %= pron[sg:+] | ?[verb,p3] | .
//-------------------------------------------------------
//Tagging Rule:177 in desamb_ger.xip



// CH
// If we have an adjective [hmm_adv] just before another adjective followed by noun then it is an adverb
20> adj[hmm_adv] %= adv | ?[adj], ?[noun] | .
//-------------------------------------------------------
//Tagging Rule:178 in desamb_ger.xip


// CH, 9th January
// Disambiguation PREP/ADV for "in" and "on"
// If these words are just after a verb which has them for possible particle, then they are not adverbs but particles


////// Adding the feature guille in words that have been destroyed by a desamb rule
// If we have a word which has not the feature hmm_selection and that is preceeded by a word with feature guille:+ and followed by a word with feature guille:+ then we add the feature guille:+

25> ?<hmmselection:hmmselection:~,guille:~> = | ?[guille:+] | ?[guille=+] | ?[guille:+] | .
//-------------------------------------------------------
//Tagging Rule:179 in desamb_ger.xip


ÿ
//-------------------------------------------------------
//Sequence Rule:95 in localMoney.xip


// First of all one needs num complex expressions

// one hundred and sixty two million ...

1> num[mwe:+,card:+] @= num*[card], num[card,preconj],  num*[card] , conj[coord], num+[card]   .
//-------------------------------------------------------
//Sequence Rule:96 in localMoney.xip



1> num[mwe:+,card:+] @= num+[card], num+[card].
//-------------------------------------------------------
//Sequence Rule:97 in localMoney.xip
 


//$78 billion

1> num[mwe:+,card:+,money:+] @= dig[money], num+[card].
//-------------------------------------------------------
//Sequence Rule:98 in localMoney.xip
 

// 678 billion 
1>  num[mwe:+,card:+] @= dig, num+[card].
//-------------------------------------------------------
//Sequence Rule:99 in localMoney.xip
 

// 10 U.S. dollars : to be checked 

// Israel Shekel
1> noun[curr:+] = noun[country:+], noun[curr:+].
//-------------------------------------------------------
//Sequence Rule:100 in localMoney.xip


// Irish Punt
1> noun[curr:+] = nadj[country:+], noun[curr:+].
//-------------------------------------------------------
//Sequence Rule:101 in localMoney.xip


//New Israel Shekel
2> noun[curr:+] = nadj[lemme:new] , noun[curr:+].
//-------------------------------------------------------
//Sequence Rule:102 in localMoney.xip


2> noun[curr:+] = nadj[lemme:old] , noun[curr:+].
//-------------------------------------------------------
//Sequence Rule:103 in localMoney.xip



// Patterns for Moneys 
// 10 dollars
//3> noun[curr:+] = noun[guesscurr:+], num.

// The context def:~ prevent "the <money>1994 Mexican Peso</money> crisis" 

3> noun[mwe:+,money:+] @=  | ?[def:~] | dig, (punct[form:fhyph,left,right]), noun[curr].
//-------------------------------------------------------
//Sequence Rule:104 in localMoney.xip


3> noun[mwe:+,money:+] @=  | ?[def:~] | num[card], noun[curr].
//-------------------------------------------------------
//Sequence Rule:105 in localMoney.xip


// Ftrouilleux marked elements like NIS400 billion / million
// etc : but one need to have regular expressions to
// account for NIS400, i.e. add it in the lexicons ?
// moreover such rules seem to be risky ...
// Let's mark these expressions if and only if
// another money has been found in the context
// 3 Maj followed by at least one digit ...

4>  noun[mwe:+,money:+] =  noun[toutmaj,proper,lemme:"%C%C%C%d+"], num[card,lemme:million];num[card,lemme:billion];num[card,lemme:trillion].
//-------------------------------------------------------
//Sequence Rule:106 in localMoney.xip


4> noun[mwe:+,money:+] = | ?*, ?[money], ?* | noun[toutmaj,proper,lemme:"%C%C%C%d+"].
//-------------------------------------------------------
//Sequence Rule:107 in localMoney.xip


4> noun[mwe:+,money:+] = noun[toutmaj,proper,lemme:"%C%C%C%d+"] | ?*, ?[money], ?* | .
//-------------------------------------------------------
//Sequence Rule:108 in localMoney.xip


/////////////////////////////////////////////////////
// A simple account for elements involving units
// like 340 km/hour
//////////////////////////////////////////////////////

// composed units
// need to account for kilowatt per second, but desamb problems
// with second and minute, hour should be ok

// degree Celsius/Fahrenheit/centigrade
4> noun[unit:+] = noun[lemme:degree,unit:+], noun[lemme:Fahrenheit].
//-------------------------------------------------------
//Sequence Rule:109 in localMoney.xip


4> noun[unit:+] = noun[lemme:degree,unit:+], noun[lemme:centigrade].
//-------------------------------------------------------
//Sequence Rule:110 in localMoney.xip


4> noun[unit:+] = noun[lemme:degree,unit:+], adj[lemme:Celsius].
//-------------------------------------------------------
//Sequence Rule:111 in localMoney.xip


//meter^2 ; centimer^3 

4> noun[unit:+] = noun[unit], punct[spec:+,form:fcirc], dig[lemme:2].
//-------------------------------------------------------
//Sequence Rule:112 in localMoney.xip


4> noun[unit:+] = noun[unit], punct[spec:+,form:fcirc], dig[lemme:3].
//-------------------------------------------------------
//Sequence Rule:113 in localMoney.xip


// joule per meter; joule / meter
5> noun[unit:+]  @=  noun[unit], (prep[lemme:per];punct[spec:+,form:fslash];punct[form:fhyph,left,right]), noun[unit], (noun[unit]).
//-------------------------------------------------------
//Sequence Rule:114 in localMoney.xip


//999/km²
5> noun[mwe:+,unit:+] @=  dig, punct[spec:+,form:fslash], meas[abr:+,meas:+].
//-------------------------------------------------------
//Sequence Rule:115 in localMoney.xip


5> noun[mwe:+,unit:+] @=  | ?[def:~] | dig, (punct[form:fhyph,left,right]),  noun[unit].
//-------------------------------------------------------
//Sequence Rule:116 in localMoney.xip


5> noun[mwe:+,unit:+] @=   | ?[def:~] | num[card], noun[unit].
//-------------------------------------------------------
//Sequence Rule:117 in localMoney.xip


// with abbreviations of mesure like g.
5>  noun[mwe:+,unit:+] @=  | ?[def:~] | dig, meas[abr:+,meas:+].
//-------------------------------------------------------
//Sequence Rule:118 in localMoney.xip




Tagging:
//-------------------------------------------------------
//Tagging Rule:179 in localMoney.xip


//I transform noun[guess,maj] in noun[proper] to simplify the later rules application

10> noun[maj,toutmaj:~,guille:~,guess] %= |noun[proper]| noun[proper=+] .
//-------------------------------------------------------
//Tagging Rule:180 in localMoney.xip


10> noun[maj,toutmaj:~,guille:+,guess] %= |noun[proper]| noun[proper=+,guille=+] .
//-------------------------------------------------------
//Tagging Rule:181 in localMoney.xip
ÿ
//-------------------------------------------------------
//Sequence Rule:118 in localgram_npr.xip



//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!



// Quoted relation for elements between quotes, which can be on interest ???
// for example "Andy Warhol" is a Song, some context may help later 
// to determine "real"  tags ...
//1> noun[quoted:+,proper:+] @=    |?[guille:~]| ?[guille:+,proper:+];?[guille:+,punct:+],  ?*[guille], ?[guille:+,proper:+];?[guille:+,punct:+] |?[guille:~]| .

//1> noun[quoted:+,proper:+] @=    ?[guille:+,proper:+,start];?[guille:+,punct:+], ?*[guille], ?[guille:+,proper:+];?[guille:+,punct:+] |?[guille:~]| .

//1> noun[quoted:+,maj:+] @=    |?[guille:~]| ?[guille:+,maj:+];?[guille:+,punct:+],  ?*[guille], ?[guille:+,maj:+];?[guille:+,punct:+] |?[guille:~]| .

//1> noun[quoted:+,maj:+] @=    ?[guille:+,maj:+,start];?[guille:+,punct:+], ?*[guille], ?[guille:+,maj:+];?[guille:+,punct:+] |?[guille:~]| .

1> noun[quoted:+,proper:+] @=    |?[guille:~]| ?[guille:+,proper:+] |?[guille:~]| .
//-------------------------------------------------------
//Sequence Rule:119 in localgram_npr.xip


1> noun[quoted:+,maj:+] @=    |?[guille:~]| ?[guille:+,maj:+] |?[guille:~]| .
//-------------------------------------------------------
//Sequence Rule:120 in localgram_npr.xip


// Non-Ambiguous person names 
// not so sure :

2> noun[proper:+,person:+,mwe:+] @= noun+[firstname:+], (dig[rom];pron[maj,lemme:I]),  noun+[particlename];det[lemme:an;maj], noun[proper,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~];noun[maj,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~].
//-------------------------------------------------------
//Sequence Rule:121 in localgram_npr.xip



2> noun[proper:+,person:+,mwe:+] @=  noun[proper],  noun+[particlename];det[lemme:an;maj], noun[proper,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~];noun[maj,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~].
//-------------------------------------------------------
//Sequence Rule:122 in localgram_npr.xip



2> noun[proper:+,person:+,mwe:+] @=  noun+[particlename];det[lemme:an;maj], noun[proper,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~];noun[maj,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~].
//-------------------------------------------------------
//Sequence Rule:123 in localgram_npr.xip


2> noun[proper:+,person:+,mwe:+] @= noun+[firstname:+], (dig[rom];pron[maj,lemme:I]),  prep[form:fof] , noun[place].
//-------------------------------------------------------
//Sequence Rule:124 in localgram_npr.xip


2> noun[proper:+,person:+,mwe:+] @= noun+[firstname:+], dig[rom];pron[maj,lemme:I], (noun[proper,particlename:~,orghead:~,orgend:~,locpre:~,locpost:~]).
//-------------------------------------------------------
//Sequence Rule:125 in localgram_npr.xip


2> noun[proper:+,person:+,mwe:+] @= noun[guess,proper,initial], noun*[proper,orgend:~,orghead:~],  noun[proper,orgend:~,orghead:~].
//-------------------------------------------------------
//Sequence Rule:126 in localgram_npr.xip


//Henry of Guise
2> noun[proper:+,person:+,mwe:+] @= noun+[firstname:+],  prep[form:fof] , noun[maj,orghead:~,orgend:~].
//-------------------------------------------------------
//Sequence Rule:127 in localgram_npr.xip


2>noun[person:+,mwe:+] @= noun+[initial,maj], noun[particlename:~,maj,guess];noun[particlename:~,maj,proper,locpost:~,orghead:~,locpre:~,orgend:~].
//-------------------------------------------------------
//Sequence Rule:128 in localgram_npr.xip


2>noun[person:+,mwe:+] @= noun+[firstname,pl:~,quoted:~,place:~], (noun[proper,maj,initial]), noun*[locpost:~,particlename:~,proper,orghead:~,orgend:~,locpre:~],  noun[locpost:~,particlename:~,proper,orghead:~,orgend:~,locpre:~] .
//-------------------------------------------------------
//Sequence Rule:129 in localgram_npr.xip


// to prevent ... Commonwealth of the Virginia Home page : PERSON(Virginia Home Page)
2>noun[person:+,mwe:+] @= | ?[orgcountry:~], ? | noun+[firstname,pl:~,quoted:~,place], (noun[proper,maj,initial,orghead:~]), noun+[locpost:~,particlename:~,proper,orghead:~,orgend:~,locpre:~] .
//-------------------------------------------------------
//Sequence Rule:130 in localgram_npr.xip


2>noun[person:+,mwe:+] @= noun+[firstname,pl:~,quoted:~,place], (noun[proper,maj,initial]), noun*[locpost:~,particlename:~,proper,orghead:~,orgend:~,locpre:~],  noun[locpost:~,particlename:~,proper,orghead:~,orgend:~,locpre:~].
//-------------------------------------------------------
//Sequence Rule:131 in localgram_npr.xip



//2> noun[person:+,mwe:+] @= noun+[firstname,pl:~,quoted:~], noun[quoted], noun+[orghead:~,orgend:~,maj,locpost:~,particlename:~,locpre:~].

//For Georges pompidou and the pb of plural !
2>noun[person:+,mwe:+] @= noun+[firstname,pl,sg,quoted:~], (noun[firstname,pl,sg]), (noun[proper,maj,initial]),   noun+[maj,locpost:~,particlename:~,orghead:~,orgend:~,locpre:~].
//-------------------------------------------------------
//Sequence Rule:132 in localgram_npr.xip



// A test using professions and family links

2> noun[person:+,mwe:+] @= | noun[prof:+,maj:~] |  (noun[proper,toutmaj:~]) , noun[proper,toutmaj:~] .
//-------------------------------------------------------
//Sequence Rule:133 in localgram_npr.xip



2> noun[person:+,mwe:+] @= | noun[famlink:+,maj:~] |  (noun[proper,toutmaj:~]) , noun[proper,toutmaj:~] .
//-------------------------------------------------------
//Sequence Rule:134 in localgram_npr.xip



// Locations

// Adresses 
// 111, Wisconsin Avenue NE , Washington DC  10001

2> noun[mwe:+,place:+,address:+] @= dig,  (punct[comma:+]),  noun+[proper,address:~], (dig[ord]), noun[locpost:+,address:+], (?[lemme:NE];?[lemme:SE];?[lemme:NW];?[lemme:SW]), (punct[comma:+]), noun[city:+], punct[comma:+], noun[usastate:+], (dig)  .
//-------------------------------------------------------
//Sequence Rule:135 in localgram_npr.xip


2> noun[mwe:+,place:+,address:+] @= dig,  (punct[comma:+]),  noun+[proper,address:~], (dig[ord]), noun[locpost:+,address:+], (?[lemme:NE];?[lemme:SE];?[lemme:NW];?[lemme:SW]), (punct[comma:+]), noun[city:+], (dig)  .
//-------------------------------------------------------
//Sequence Rule:136 in localgram_npr.xip


2> noun[mwe:+,place:+,address:+] @=   noun+[proper,address:~], (dig[ord]), noun[locpost:+,address:+], (?[lemme:NE];?[lemme:SE];?[lemme:NW];?[lemme:SW]), (punct[comma:+]), noun[city:+], punct[comma:+], noun[usastate:+], (dig)  .
//-------------------------------------------------------
//Sequence Rule:137 in localgram_npr.xip


2> noun[mwe:+,place:+,address:+] @=   noun+[proper,address:~], (dig[ord]), noun[locpost:+,address:+], (?[lemme:NE];?[lemme:SE];?[lemme:NW];?[lemme:SW]), (punct[comma:+]), noun[city:+], (dig).
//-------------------------------------------------------
//Sequence Rule:138 in localgram_npr.xip



// Federal Republic of Germany

//German Republic

2>  noun[proper:+,place:+]  @= nadj[country];adj[country], noun[orgcountry].
//-------------------------------------------------------
//Sequence Rule:139 in localgram_npr.xip


2> noun[proper:+,country:+]  @= (nadj[maj,guess:~];adj[maj,guess:~]),  noun[orgcountry], prep[form:fof], noun[proper,country].
//-------------------------------------------------------
//Sequence Rule:140 in localgram_npr.xip


2> noun[proper:+,place:+]  @=  (nadj[maj,guess:~];adj[maj,guess:~]),  noun[orgcountry], prep[form:fof], noun[proper,place].
//-------------------------------------------------------
//Sequence Rule:141 in localgram_npr.xip


// Some modifiers like Greater London

2> noun [proper:+,city:+] @= adj[maj], noun[city].
//-------------------------------------------------------
//Sequence Rule:142 in localgram_npr.xip

                   
//Lower Saxony

2> noun[proper:+] @= ?[lemme:Lower];?[lemme:lower];?[lemme:upper];?[lemme:middle], noun[place:+,!features:!].
//-------------------------------------------------------
//Sequence Rule:143 in localgram_npr.xip


// Southern Africa, South of Andalusia

2> noun[proper:+] @=  ?[modloc:+], (prep[form:fof]), noun[place:+,!features:!].
//-------------------------------------------------------
//Sequence Rule:144 in localgram_npr.xip


3> noun[proper:+,city:+] @= noun[city:+], (punct[comma:+]), noun[usastate:+].
//-------------------------------------------------------
//Sequence Rule:145 in localgram_npr.xip


//other cases : (?)
3> noun[proper:+,place:+] @= noun[place:+,!features:!,usastate:~,city:~,country:~], punct[comma:+], noun[usastate:+].
//-------------------------------------------------------
//Sequence Rule:146 in localgram_npr.xip


// Canari Islands; Grimsburry Castle
// 
3> noun[place:+] @= noun[proper], noun[locpost:+].
//-------------------------------------------------------
//Sequence Rule:147 in localgram_npr.xip


// Iberian Peninsula 
3> noun[place:+]  @= nadj[country:+];adj[country:+], noun[locpost:+].
//-------------------------------------------------------
//Sequence Rule:148 in localgram_npr.xip


//Hui Sui Road : Several (2 for the moment ?) nouns/adj allowed when they are NOT places : previous rule for places
//London's Victoria Station 
3> noun[place:+] @= (noun[country];noun[city], part), noun[proper,let:~,pl:~];adj[maj];nadj[maj], (noun[proper,let:~,pl:~];adj[maj];nadj[maj]),(noun[proper,let:~,pl:~];adj[maj];nadj[maj]),   noun[locpost:+].
//-------------------------------------------------------
//Sequence Rule:149 in localgram_npr.xip



// Camp David ; Rio Grande
3>  noun[place:+] @=  noun[locpre:+];noun[lemme:River], noun[proper,orghead:~,orgend:~] .
//-------------------------------------------------------
//Sequence Rule:150 in localgram_npr.xip


// Territory of the US.
3> noun[proper:+,place:+,mwe:+] @= noun[locpost:+], prep[form:fof], (det[def]),  noun[place].
//-------------------------------------------------------
//Sequence Rule:151 in localgram_npr.xip



// TEST

4> noun[proper:+,place:+,mwe:+]  @= | prep[form:fbetween], (det[def]), noun[proper,place],  conj[coord], (det[def]) |  noun[maj].
//-------------------------------------------------------
//Sequence Rule:152 in localgram_npr.xip


4> noun[proper:+,place:+,mwe:+]  @= | prep[form:fbetween], (det[def])  | noun*[maj], noun[maj] | conj[coord], (det[def]), noun[proper,place] |.
//-------------------------------------------------------
//Sequence Rule:153 in localgram_npr.xip


//8> noun[title:+,mwe:+] @ =  noun[title];noun[hmm_tit], noun[title];noun[hmm_tit],  (noun[title];noun[hmm_tit]).


// Person names including feature fam OR firstname

// John Upjohn Jr.
//9>  noun[proper:+,person:+] @= noun[firstname,proper], noun[proper], (noun[proper]) , (punct[comma], noun[abr,title]) .


9>  noun[proper:+,person:+] @= noun[person],  (punct[comma:+]), noun[abr,title];noun[abr,hmm_tit] .
//-------------------------------------------------------
//Sequence Rule:154 in localgram_npr.xip


9>  noun[proper:+,person:+] @= noun[place],  ?[title:+];?[hmm_tit:+].
//-------------------------------------------------------
//Sequence Rule:155 in localgram_npr.xip



10>  noun[proper:+,person:+] @= (adj[maj]), ?[title:+];?[hmm_tit:+],  noun[person];noun[celeb].
//-------------------------------------------------------
//Sequence Rule:156 in localgram_npr.xip


10> noun[proper:+,person:+] @=  (adj[maj]), ?[title:+];?[hmm_tit:+], noun*[proper], noun[proper].
//-------------------------------------------------------
//Sequence Rule:157 in localgram_npr.xip




//In case the person has'nt be detected before ;

10>  noun[proper:+,person:+] @= (adj[maj]),  ?[title:+];?[hmm_tit:+], noun[fam,maj];noun[firstname,maj].
//-------------------------------------------------------
//Sequence Rule:158 in localgram_npr.xip


10>  noun[proper:+,person:+] @= (adj[maj]), ?[title:+];?[hmm_tit:+], prep[form:fof],  noun[place].
//-------------------------------------------------------
//Sequence Rule:159 in localgram_npr.xip


10>  noun[proper:+,person:+] @= (adj[maj]), ?[title:+];?[hmm_tit:+], prep[form:fof],  noun[maj].
//-------------------------------------------------------
//Sequence Rule:160 in localgram_npr.xip



10>  noun[proper:+,person:+] @= noun[proper], (noun[proper]) , noun[celeb].
//-------------------------------------------------------
//Sequence Rule:161 in localgram_npr.xip



// Mr. A. G. Smith


// EN COURS - voir comment on peut dire fau moins deux 


// Normally Street should be St: need to do it in desamb 
// could be a person or a location, like St Louis

10> noun[proper:+,person:+] = (adj[maj];nadj[maj]), noun[title], noun[proper];noun[maj].
//-------------------------------------------------------
//Sequence Rule:162 in localgram_npr.xip


// St Patrick the Divine, Charles the Great

11> noun[proper:+,person:+] = noun[firstname], det[def], adj[maj];nadj[maj];noun[maj].
//-------------------------------------------------------
//Sequence Rule:163 in localgram_npr.xip



12> noun[proper:+,person:+] @=  (adj[maj]), ?[title:+];?[hmm_tit:+].
//-------------------------------------------------------
//Sequence Rule:164 in localgram_npr.xip


//====================== Proper Nouns Grouping ========================================

IDrules:
//-------------------------------------------------------
//ID_Rule:4 in localgram_npr.xip




// One or more proper nouns, followed by a comma, followed by a usastate:+
// eg Atlantic City, N.J.

//15> noun[proper:+,city:+] -> noun[proper:+], (noun[proper:+])*, punct[comma:+], noun[usastate:+].


// At least 2 proper nouns, maybe more at the end of a clause.
// CAUTION WITH THE FOLLOWING EXAMPLE "He told Mary John was sick
// or "He told Mary John Doe was sick
//30> noun[proper:+] -> noun[proper:+], noun+[proper:+] .


// A title followed by one or more proper nouns
//20> noun[proper:+] -> noun[title], noun[proper:+], (noun[proper:+])*.


// A city name a particle and a proper noun makes a proper noun
// e.g. London's Docklands Light Railways
20> noun[proper:+] -> noun[proper:+,city:+], part, adj*, noun[proper] .
//-------------------------------------------------------
//ID_Rule:5 in localgram_npr.xip




// A Proper noun followed by a digit is a proper noun
// eg. Skynet 4 CB ATTENTION A L'ORDRE !!!
//20> noun[proper:+] -> noun[proper:+,period:~,place:~,firstname:~], dig .
ÿ
//-------------------------------------------------------
//Sequence Rule:164 in localgram_Event.xip



1> noun[event:+,mwe:+]  @= noun[place:+], (nadj[maj];adj[maj];noun[proper];part), noun[eventmod:+].
//-------------------------------------------------------
//Sequence Rule:165 in localgram_Event.xip


1> noun[event:+,mwe:+]  @= nadj[country:+], (punct[form:fhyph,left],nadj[country:+]), (nadj[maj];adj[maj];noun[proper]), noun[eventmod:+].
//-------------------------------------------------------
//Sequence Rule:166 in localgram_Event.xip


// Careful !
1> noun[event:+,mwe:+]  @=  |det[def]| noun+[proper,maj,place:~], noun[eventmod:+].
//-------------------------------------------------------
//Sequence Rule:167 in localgram_Event.xip



1> noun[event:+,mwe:+] @= noun[eventmod:+], prep[form:fof], (det[def]), noun[place:+].
//-------------------------------------------------------
//Sequence Rule:168 in localgram_Event.xip


1> noun[event:+,mwe:+] @= noun[eventmod:+], prep[form:fof], dig[year].
//-------------------------------------------------------
//Sequence Rule:169 in localgram_Event.xip


// Olympic games ?

1> noun[event:+,mwe:+] @= adj[maj];nadj[maj],  noun[eventmod:+].
//-------------------------------------------------------
//Sequence Rule:170 in localgram_Event.xip



// Iran-Iraq War


// the Hundred Years' War
1> noun[event:+,mwe:+] @=   |det[def]| num[card:+], noun[period], (part;punct[quote,left]), noun[eventmod:+].
//-------------------------------------------------------
//Sequence Rule:171 in localgram_Event.xip


1> noun[law:+,mwe:+]  @= noun[place:+],  (nadj[maj];adj[maj];noun[proper]),  noun[lawmod:+].
//-------------------------------------------------------
//Sequence Rule:172 in localgram_Event.xip


1> noun[law:+,mwe:+]  @= nadj[country:+], (punct[form:fhyph,left], nadj[country:+]) , (nadj[maj];adj[maj];noun[proper]), noun[lawmod:+].
//-------------------------------------------------------
//Sequence Rule:173 in localgram_Event.xip



1> noun[law:+,mwe:+] @= noun[lawmod:+], prep[form:fof];prep[form:ffor], (det[def]), noun[place:+].
//-------------------------------------------------------
//Sequence Rule:174 in localgram_Event.xip


1> noun[law:+,mwe:+]  @= noun[country:+],  punct[form:fhyph,left,right],  noun[country:+], noun[lawmod:+].
//-------------------------------------------------------
//Sequence Rule:175 in localgram_Event.xip



2> noun[event:+,mwe:+] @=  noun[event:+,mwe:+] , prep[form:fof], (det[def]),  noun[maj].
//-------------------------------------------------------
//Sequence Rule:176 in localgram_Event.xip

ÿ
//-------------------------------------------------------
//Sequence Rule:176 in localgram_Org.xip

// A & B
1>  noun[proper:+,mwe:+,org:+] @= noun+[maj], noun[symbol,lemme:"&"], noun*[maj], noun[maj].
//-------------------------------------------------------
//Sequence Rule:177 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+] @= noun[country];nadj[country],  noun[orghead:+], noun[country].
//-------------------------------------------------------
//Sequence Rule:178 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+] @= noun[country];nadj[country],  noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:179 in localgram_Org.xip



1> noun[proper:+,mwe:+,org:+] @= noun[country];nadj[country],  noun[orgmod:+].
//-------------------------------------------------------
//Sequence Rule:180 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+] @= nadj[maj,guess:~];adj[maj,guess:~], noun+[maj], noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:181 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+] @= nadj[maj,guess:~];adj[proper], noun+[maj], noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:182 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+]  @= adj[maj];nadj[maj], (conj[coord], adj[maj];nadj[maj]),  noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:183 in localgram_Org.xip







//1> noun[proper:+,mwe:+,org:+] @= noun*[proper], noun[orghead:+], prep[form:fof], noun[place].

//Manchester United
1> noun[proper:+,mwe:+,org:+] @=   noun+[maj], noun[orgmod].
//-------------------------------------------------------
//Sequence Rule:184 in localgram_Org.xip


1> noun[proper:+,mwe:+,org:+] @=   noun+[proper], noun[orgmod].
//-------------------------------------------------------
//Sequence Rule:185 in localgram_Org.xip


// Air France : I limit to only one Proper name after the word ...

1> noun[proper:+,mwe:+,org:+] @=    noun[orgmod], noun[proper].
//-------------------------------------------------------
//Sequence Rule:186 in localgram_Org.xip



// XXX Inc., 

2> noun[proper:+,mwe:+,org:+] @= noun*[maj], noun[maj], (punct[comma:+]), noun[orgend].
//-------------------------------------------------------
//Sequence Rule:187 in localgram_Org.xip



//Phillip Morris Corp.

2> noun[proper:+,mwe:+,org:+] @= noun[person], noun[orgend];noun[orghead].
//-------------------------------------------------------
//Sequence Rule:188 in localgram_Org.xip


2> noun[proper:+,mwe:+,org:+] @= noun+[proper], noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:189 in localgram_Org.xip


2> noun[proper:+,mwe:+,org:+] @= noun+[maj], noun[orghead:+].
//-------------------------------------------------------
//Sequence Rule:190 in localgram_Org.xip
 

3> noun[proper:+,mwe:+,org:+] @= noun[country], noun[bus].
//-------------------------------------------------------
//Sequence Rule:191 in localgram_Org.xip



3> noun[proper:+,mwe:+,org:+] @= noun[org], prep[form:fof], noun*[maj], noun[maj].
//-------------------------------------------------------
//Sequence Rule:192 in localgram_Org.xip


3> noun[proper:+,mwe:+,org:+]  @= noun[org], prep[form:fof],  prep[form:fof], noun*[proper], noun[proper].
//-------------------------------------------------------
//Sequence Rule:193 in localgram_Org.xip



//4> noun[proper:+,mwe:+,org:+] @= noun*[maj];adj*[maj];nadj*[maj], noun[orghead:+], prep[form:fof], noun*[maj], noun[maj].

//1> noun[proper:+,mwe:+,org:+] @=  noun*[proper], noun[orghead:+], prep[form:fof], noun*[proper], noun[proper].
ÿ
//-------------------------------------------------------
//Sequence Rule:193 in localgram2.xip


#coco
9> ?= Noun<proper>proper>.
//-------------------------------------------------------
//Sequence Rule:194 in localgram2.xip


// Same as below but the digit may be a fractional e.g. 2,3-benzofuran

// CH 27th September
// Grouping together a digit followed by an hyphen followed by an adjective
10> nadj = dig[dig], punct[form:fhyph], nadj.
//-------------------------------------------------------
//Sequence Rule:195 in localgram2.xip




// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// Affixes with hyphenation
// ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

// CH 17th September
// Grouping prefixes with base forms
10> nadj[features:!] = ?[prefix:+], punct[form:fhyph,left:+,right:+], nadj[!features:!].
//-------------------------------------------------------
//Sequence Rule:196 in localgram2.xip


10> adj[features:!] = ?[prefix:+], punct[form:fhyph,left:+,right:+], adj[!features:!].
//-------------------------------------------------------
//Sequence Rule:197 in localgram2.xip


10> noun[features:!] = ?[prefix:+], punct[form:fhyph,left:+,right:+], noun[!features:!].
//-------------------------------------------------------
//Sequence Rule:198 in localgram2.xip


10> verb[features:!] = ?[prefix:+], punct[form:fhyph,left:+,right:+], verb[!features:!].
//-------------------------------------------------------
//Sequence Rule:199 in localgram2.xip





// CH 18th October
// words with feature cardpoint separated by hyfen are grouped together
// South East -- South and East
10> nadj[features:!,mwe=+] = nadj[cardpoint],
                             (punct[form:fhyph,left,right]),
                             (conj[coord]),
                             nadj[!features:!,cardpoint].
//-------------------------------------------------------
//Sequence Rule:200 in localgram2.xip


// South East -- South and East
10> adv[features:!,mwe=+] = adv[cardpoint],
                             (punct[form:fhyph,left,right]),
                             (conj[coord]),
                             adv[!features:!,cardpoint].
//-------------------------------------------------------
//Sequence Rule:201 in localgram2.xip





// CH
// Having together a word followed by an hyphen[left:+, right:~] and the hyphen when followed by comma or coordinator
// e.g. onion- or garlic-like
10> nadj = ?[noun:+], punct[form:fhyph, left:+, right:~] | punct[comma];?[coord] | .
//-------------------------------------------------------
//Sequence Rule:202 in localgram2.xip



// CH 11 Oct.
// Grouping a noun followd by an hyphen followed by a ing form when they are followed by an adjective or noun
10> nadj = ?[noun:+], punct[form:fhyph,left:+,right:+], ?[vprog] | ?[noun:+] | .
//-------------------------------------------------------
//Sequence Rule:203 in localgram2.xip


// CH 31 july
// Grouping of adjectival forms separated by hyphen eg. fast-growing
10> nadj = ?[adj:+], punct[form:fhyph,left:+,right:+], ?[adj:+].
//-------------------------------------------------------
//Sequence Rule:204 in localgram2.xip



10> nadj = ?[noun:+], punct[form:fhyph,left:+,right:+], ?[noun:+] | ?[noun:+] | .
//-------------------------------------------------------
//Sequence Rule:205 in localgram2.xip


// CH 31 July
// Grouping nouns and past participle separated by hypen eg. object-oriented
10> nadj = noun, punct[form:fhyph,left:+,right:+], verb[partpas:+].
//-------------------------------------------------------
//Sequence Rule:206 in localgram2.xip


// CH 21th September
// Grouping adjectives and past participle separated by hyphen e.g. Soviet-blessed
// We give the nadj category to the result
10> adj = adj, punct[form:fhyph,left:+,right:+], verb[partpas:+].
//-------------------------------------------------------
//Sequence Rule:207 in localgram2.xip


// CH 12th September
// Grouping noun-adjectives and past participle separated by hypeh e.g. ill-prepared
10> nadj = nadj, punct[form:fhyph,left:+,right:+], verb[partpas:+].
//-------------------------------------------------------
//Sequence Rule:208 in localgram2.xip


// CH 24th August
// Grouping two proper nouns separated by hyphen e.g. The annual meeting of INDONESIA-MALAYSIA forest experts
10> noun[proper:+] = noun[proper:+], punct[form:fhyph,left:+,right:+], noun[proper:+].
//-------------------------------------------------------
//Sequence Rule:209 in localgram2.xip



// CH 3rd September 
// Grouping two nouns separated by hyphen e.g. health-care
// I'm not sure . Check
10> noun = noun, punct[form:fhyph,left:+,right:+], noun[date:~].
//-------------------------------------------------------
//Sequence Rule:210 in localgram2.xip


// CH 12th September
// Grouping together an nadj followed by hyphen followed by noun before another noun
// e.g. A West Berliner counter-culture group
10> noun = nadj, punct[form:fhyph,left:+,right:+], noun[date:~] | noun | .
//-------------------------------------------------------
//Sequence Rule:211 in localgram2.xip



// CH 28th September
// Grouping together an adj followed by hyphen followed by noun before another noun
10> noun = adj, punct[form:fhyph,left:+,right:+], noun[date:~] | noun | .
//-------------------------------------------------------
//Sequence Rule:212 in localgram2.xip



// CH 28th September
// Grouping together a noun followed by an hyphen followed by like
// eg. alpha-like virus 
10> nadj = noun, punct[form:fhyph,left:+,right:+], ?[form:flike] .
//-------------------------------------------------------
//Sequence Rule:213 in localgram2.xip


// CH 1st October
// Grouping together an abbreviation followed by an hyphen followed by a noun or adjective
10> nadj = noun[abr], punct[form:fhyph,left:+,right:+], ?[adj] .
//-------------------------------------------------------
//Sequence Rule:214 in localgram2.xip


10> noun = noun[abr], punct[form:fhyph,left:+,right:+], noun[noun] .
//-------------------------------------------------------
//Sequence Rule:215 in localgram2.xip







// CH 7th August
// Grouping together a form of have followed by TO in order to construct a modal
// CHECK IF NO BAD SIDE EFFECT !!!!
10> aux = verb[form:fhave], prep[form:finfto].
//-------------------------------------------------------
//Sequence Rule:216 in localgram2.xip



// CH 8th August
// Grouping the words EACH and OTHER together
// In a later stage correct in the lexicon
// In the file lexicon.xip (and feautures.xip) 2 new values of form are added especially for this rule
10> pron = quant[form:feach], adj[form:fother].
//-------------------------------------------------------
//Sequence Rule:217 in localgram2.xip




// ADJ{15 - year} old -> ADJ{ADJ{15 - year} old}
10> adj[quant:+] = adj[quant], (punct[form:fhyph]), ?[adj] .
//-------------------------------------------------------
//Sequence Rule:218 in localgram2.xip



// SEE OTHER ADVP in chunker.xip

// CH 22th Aug.
// Grouping together HOW + MUCH
// The result is given either the det[wh:+] or adv[wh:+]
10> ADVP[wh:+,form:fmuch] = ?[form:fhow], ?[form:fmuch] | ?[noun:~, adj:~] |.
//-------------------------------------------------------
//Sequence Rule:219 in localgram2.xip


10> det[wh:+,form:fmuch] = ?[form:fhow], ?[form:fmuch] | ?[prep:~, verb:~, coord:~, adv:~, punct:~] |.
//-------------------------------------------------------
//Sequence Rule:220 in localgram2.xip



// CH 22th Aug.
// Grouping together HOW + MANY
// The result gives either a det or an adv
10> ADVP[wh:+,form:fmany] = adv[form:fhow], ?[form:fmany] | ?[noun:~, adj:~] |.
//-------------------------------------------------------
//Sequence Rule:221 in localgram2.xip


10> det[wh:+,form:fmany] = ?[form:fhow], ?[form:fmany] | ?[prep:~, verb:~, coord:~, adv:~, punct:~] |.
//-------------------------------------------------------
//Sequence Rule:222 in localgram2.xip







// CH 
// Grouping together "later" and "on" if this expression is followed by a punctuation mark, a conjunction, a verb 
10> adv[notly:+] = ?[form:flater], prep[p_on:+] | conj;verb;punct |.
//-------------------------------------------------------
//Sequence Rule:223 in localgram2.xip



// CH 23th Nov.
// Treating complex expressions involving AS
// If we have a sequence AS + adv;adj + AS followed by an adjective or a noun that has not the features pron and nom
// OR if this sequence is followed by anything with no verbs until the end of the sentence
// Then we grouped it and give it a tag prep with feature form:fas
// If the sequence AS+ adj;adv + AS is followed by a determiner, or a nominative pronoun,
// Then we give it the tag conj with feature fas
10> prep[lemme:as] = prep[lemme:as], ?[adj], prep[lemme:as] | (?[adj]), ?+[noun,nom:~,pron:~], ?[verb:~,aux:~] | .
//-------------------------------------------------------
//Sequence Rule:224 in localgram2.xip


10> prep[lemme:as] = prep[lemme:as], ?[adv], prep[lemme:as] | (?[adj]), ?+[noun,nom:~,pron:~], ?[verb:~,aux:~] | .
//-------------------------------------------------------
//Sequence Rule:225 in localgram2.xip



10> conj[lemme:as] = prep[lemme:as], ?[adj], prep[lemme:as] | pron[nom,personal] | .
//-------------------------------------------------------
//Sequence Rule:226 in localgram2.xip


10> conj[lemme:as] = prep[lemme:as], ?[adv], prep[lemme:as] | pron[nom,personal] | .
//-------------------------------------------------------
//Sequence Rule:227 in localgram2.xip


10> prep[lemme:as] = prep[lemme:as], ?[adj], prep[lemme:as] | (?[adj]), ?+[noun,nom:~,pron:~], aux;verb | .
//-------------------------------------------------------
//Sequence Rule:228 in localgram2.xip


10> prep[lemme:as] = prep[lemme:as], ?[adv], prep[lemme:as] | (?[adj]), ?+[noun,nom:~,pron:~], aux; verb | .
//-------------------------------------------------------
//Sequence Rule:229 in localgram2.xip





//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//! 
//!
//!  Date: July 2001
//!
//!  Copyright (c) 2001 Xerox Corporation.  All Rights Reserved.
//!
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


IDrules:
//-------------------------------------------------------
//ID_Rule:5 in localgram2.xip



//==================================== ADVs ========================================

//The tempadv:+] feature is required to avoid these adverbs from being
//included in finite verb chunks that follow the verb they relate to

//SC{NP{He} FV{left}} ADV{10 days ago}
//15> ADV[tempadv:+] -> dig[first:+], noun, adv[form:fago,last:+].

//SC{NP{He} FV{left}} ADV{ten days ago}
//NP{Ethiopia 's government two weeks} TEST{ago said}
//15> ADV[tempadv:+] -> num[first:+], noun, adv[form:fago,last:+].

//a year ago  - a week ago etc
//15> ADV[tempadv:+] -> det[first:+], noun, adv[form:fago,last:+].

//a_few+QUANT decades ago
//some time ago
//many years ago
//15> ADV[tempadv:+] -> quant[first:+], noun, adv[form:fago,last:+].


//several+adj years ago
//15> ADV[tempadv:+] -> adj[first:+], noun, adv[form:fago,last:+].


// "long ago" or "not (that | so) long ago" are taken as ADV[tempadv:+]
// NOTE : other expressions with "ago" are treated in the chunker

15> ADV[tempexpr:+] -> adv[form:fnot], (conj[form:fthat]), (adv[form:fso]), adv[form:flong], adv[form:fago,last:+] .
//-------------------------------------------------------
//ID_Rule:6 in localgram2.xip

15> ADV[tempexpr:+] -> (adv[form:fso]), adv[form:flong], adv[form:fago,last:+] .
//-------------------------------------------------------
//ID_Rule:7 in localgram2.xip



//"two days later"
15> ADV[tempexpr:+] -> num[first:+], noun, adv[compar:+,last:+].
//-------------------------------------------------------
//ID_Rule:8 in localgram2.xip


//"14 days later
15> ADV[tempexpr:+] -> dig[first:+], noun, adv[compar:+,last:+].
//-------------------------------------------------------
//ID_Rule:9 in localgram2.xip



//"at least 2 people were injured". At most ....
//15> ADV -> prep[form:fat], quant[sup:+,last:+].
15> ADV[quantadv:+] -> prep[form:fat], quant[sup:+,last:+].
//-------------------------------------------------------
//ID_Rule:10 in localgram2.xip


// CH more/less than...
15> ADV[quantadv:+] -> quant[compar:+], conj[form:fthan] .
//-------------------------------------------------------
//ID_Rule:11 in localgram2.xip



// CH Grouping "so far away" and "so far as"
15> ADV -> adv[form:fso], adv[form:ffar], adv[p_away] .
//-------------------------------------------------------
//ID_Rule:12 in localgram2.xip


15> CONJ[conj:+, sub:+] -> adv[form:fso], adv[form:ffar], conj[lemme:as] .
//-------------------------------------------------------
//ID_Rule:13 in localgram2.xip



// CH Grouping "so far" when followed by anything that is not a preposition

20> ADV -> adv[form:fso], adv[form:ffar] | ?[prep:~,form:~fthan] | .
//-------------------------------------------------------
//ID_Rule:14 in localgram2.xip



//every/each day/week/month/year/Spring/time
//!!the last[preperiod:+] ADV{few weeks} 
//!!these ADV{few weeks}
//!!through ADV{all time}
//NP{The AP{same} revolution+NOUN every+QUANT year}
//a ADV{year more} - last:+
// CH 20 juillet
15> ADV ->  quant[preperiod:+], noun[period:+,last:+].
//-------------------------------------------------------
//ID_Rule:15 in localgram2.xip



// CH 8th October
// NP's like the 50's
15> NP[tempexpr:+] -> det, dig, part .
//-------------------------------------------------------
//ID_Rule:16 in localgram2.xip
 


//CH 24 juillet. NP's like "(the) last/next year" have a special feature.
//They will be subject only if followed by a principal finite verb. 
//Otherwise they will be considered as adverbials. 
// next is an adj and last a nadj and both have feature preperiod:+

15> NP[tempexpr:+] -> (det), (quant), nadj[preperiod:+], ( AP+), noun[period:+,last:+].
//-------------------------------------------------------
//ID_Rule:17 in localgram2.xip


15> NP[tempexpr:+] -> num[card:+], noun[period:+,last:+].
//-------------------------------------------------------
//ID_Rule:18 in localgram2.xip


//Should "Last week" etc be considered as adverbs or NPs??????
//last night/week/month/year/Monday
//NP{Gorbachev 's visit} ADV{next spring}
//NP{a AP{half-hearted} birth control campaign} ADV{last year} / ADV{twelve months ago}
 
//??!!SC{BG{before} NP{AP{next} summer} , NP{Joe Gagen} FV{said}}

//!!15>GROUP{SC{the NP{millenium 's} ADV{last decade} 


//15> ADV -> |?[part:~ ; det:~ ; gen:~]| nadj[preperiod:+], noun |?[part:~]|.  /"last" is a nadj\
//15> ADV -> |?[part:~ ; det:~ ; gen:~]| adj[preperiod:+], noun |?[part:~]|.   /"next" is an adj\

//ABOVE RULE DOES NOT CAPTURE "Last month" etc at start of sentence!
//15> ADV -> || nadj[preperiod:+], noun |?[part:~]|.  /"last" is a nadj\
//15> ADV -> || adj[preperiod:+], noun |?[part:~]|.   /"next" is an adj\



//too ambiguous!
//a year   - a day/week/month/year  etc
//!!as ADV{a year} in which
//!!a night patrol 
//!!a year after he ..
//SC{With FV{just ADV{a week} passed}} SC{BG{since}
//15> ADV ->  |?[prep:~ ; adv:~]| det[indef:+], noun[aperiod:+] |?[noun:~ ; nadj:~ ; prep:~]|.

//ADV{in three decades}????
//ADV{for nine years}???
//ADV{in the past two months}
//for ADV{as long as} TEST{five years}
//TEST{three times} NP{that much} .}


//15> TEST -> num[first:+], noun[period:+] |prep|
//NP{its second annual} TEST{First Night}
//!!PP{within NP{the AP{next}}} TEST{six months}
//NP{ravine three days}! after ...
//15> TEST -> |?[det:~]| num[first:+,ord:~], noun[period:+].


//CH 
//====================== Numeral Grouping ========================================

15> num[card:+] -> dig, num.
//-------------------------------------------------------
//ID_Rule:19 in localgram2.xip


// dig to dig is considered as dig e.g. 65 to 69 CH 3rd Sept.
15> dig[card:+] -> dig[card:+], prep[form:finfto], dig[card:+] .
//-------------------------------------------------------
//ID_Rule:20 in localgram2.xip


// CH Grouping of monetary expressions like US $ 
15> meas[symbol:+] -> noun[abr, country], meas[symbol] .
//-------------------------------------------------------
//ID_Rule:21 in localgram2.xip


// CH Grouping together a measure followed by a numeral
20> num[card:+,symbol:+] -> meas[symbol:+], num[card:+] .
//-------------------------------------------------------
//ID_Rule:22 in localgram2.xip



// CH Grouping together expressions of measure with "per cent"
20> num[card:+,symbol:+,num:+] -> num[card:+], noun[percent:+] .
//-------------------------------------------------------
//ID_Rule:23 in localgram2.xip


20> num[card:+, symbol:+,num:+] -> dig[card:+], noun[percent:+].
//-------------------------------------------------------
//ID_Rule:24 in localgram2.xip






//CH 6th August
//====================== Quantification ========================================

15> quant[quant:+, predet:+] -> det[def:+], nadj[form:fwhole].
//-------------------------------------------------------
//ID_Rule:25 in localgram2.xip




//10> [det:+] < [part:+]
//10> [det:+] < [adj:+]
//10> [adj:+] < [title:+]
//10> [det:+] < [quant:+]
//10> [det:+] < [num:+]
//10> [det:+] < [dig:+]
//10> [adj:+] < [noun:+]
//10> [adj:+] < [nadj:+]
//10> [adj:+] < [adv:+]
//10> [adj:+] < [conj:+]
//[punct:+,form:fcm] < [coord:+] 

ÿ
//-------------------------------------------------------
//ID_Rule:25 in chunker.xip




//========================== Adverbial Chunks ===============================


// very quickly
1> ADVP[notly=~] -> adv[degree], adv[notly:~,last].
//-------------------------------------------------------
//ID_Rule:26 in chunker.xip


// CH 22th August
// Grouping together HOW + OFTEN 
// The result is given an ADV category with feature WH (this is dubious but so it stays coherent with WHEN, WHY etc. 
2> ADVP[wh:+,form:foften] -> adv[form:fhow], adv[form:foften].
//-------------------------------------------------------
//ID_Rule:27 in chunker.xip


// CH 24th August
// Grouping together HOW + LONG
// The result gives a WH adv.
2> ADVP[wh:+, form:flong] -> adv[form:fhow], adv[form:flong] .
//-------------------------------------------------------
//ID_Rule:28 in chunker.xip


// CH 5th September
// Grouping together HOW+FAR
// The result is a WH adv



2> ADVP[wh:+,form:ffar] -> adv[form:fhow], adv[form:ffar] .
//-------------------------------------------------------
//ID_Rule:29 in chunker.xip



// How rich, how nice etc. in interrogative sentences (how + adj or nadj)
2> ADVP[wh:+,howadj:+] -> adv[form:fhow], nadj[adj] | ?*, punct[form:fquest] | .
//-------------------------------------------------------
//ID_Rule:30 in chunker.xip


2> ADVP[wh:+,howadj:+] -> adv[form:fhow], adj[adj] | ?*, punct[form:fquest] | .
//-------------------------------------------------------
//ID_Rule:31 in chunker.xip




// coordinated adverbs

// plants grow highly and constituively
// at the end of a sentence
2> ADVP -> adv[notly:~], conj[coord,last:~], adv[notly:~] | ?*[verb:~], ?[sent] | .
//-------------------------------------------------------
//ID_Rule:32 in chunker.xip



// between two verbal forms of the same verbal chain
2> ADVP -> | verb[form:fbe];verb[form:fcan];verb[form:fwill];aux   | adv[notly:~], conj[coord], adv[notly:~] | verb | .
//-------------------------------------------------------
//ID_Rule:33 in chunker.xip


2> ADVP -> | verb[form:fhave]   | adv[notly:~], conj[coord], adv[notly:~] | (verb[form:fbe,partpas:+]), verb[partpas:+] | .
//-------------------------------------------------------
//ID_Rule:34 in chunker.xip

//;verb[form:fcan];verb[form:fwill];aux | adv[notly:~], conj[coord] | verb | .


// ADVP of coordinated adverbs at the beginning of the sentence
2> ADVP -> | ?*[verb:~] | adv, conj[coord,last:~], adv .
//-------------------------------------------------------
//ID_Rule:35 in chunker.xip




//========================== Numeral chunks ===============================

// Chnks for complex numeral expressions
// e.g. approximately 25 people/km

2> NUMP[dig=+] -> adv[startbis], dig | noun;?[meas] | .
//-------------------------------------------------------
//ID_Rule:36 in chunker.xip

2> NUMP[dig=+] -> | prep;verb | adv, dig | noun;?[meas] | .
//-------------------------------------------------------
//ID_Rule:37 in chunker.xip


2> NUMP[card=+] -> adv[startbis], num[card] | noun;?[meas] | .
//-------------------------------------------------------
//ID_Rule:38 in chunker.xip

2> NUMP[card=+] -> | prep;verb | adv, num[card] | noun;?[meas] | .
//-------------------------------------------------------
//ID_Rule:39 in chunker.xip




//========================== Verb Chunks ===============================


// INFINITE VERB CHUNKS - IV 
//==========================


//The "infto" category from the morphological analyser is not used in the 
//chunker due to tagging errors - many infinitive "to"s are tagged as preps



//Rule 1
//This rule covers basic infinitive verbs:  IV{(not) (adv) to (adv) give
//Adverbs which precede the IV may modify a preceding finite verb and 
//therefore may not be the first element in an IV chunks: 
//NP{They} FV{worked}} IV{carefully to rescue} NP{him}
//Also verb particles from preceding finite verbs are tagged as adverbs:
//!NP{They} FV{did} NFV{not stay} IV{up+ADV to welcome} 
//!The [p3:~] feature is required to avoid chunking mistagged plural nouns:
// "I got IV{to places} 
//!The [maj:~] feature is required to avoid chunking mistagged proper nouns:
//NP{He} FV{played} NP{host} to FV{Bush} PP{in NP{Dec 1988}}

2> IV ->  	prep[form:finfto],(adv+[first:~]),(adv[form:fnot,first:+]), (advp[first:~]), 
                verb[past:~,partpas:~,prog:~,p3:~,maj:~,last:+].
//-------------------------------------------------------
//ID_Rule:40 in chunker.xip

            
   
//Rule No. 2    
//Passive infinitive forms 
//(not) to BE (totally) forgotten 
//(not) to HAVE (quickly) ACCOMPLISHED" 
//(not) to HAVE BEEN (quickly) ACCOMPLISHED"  

2> IV -> 	prep[form:finfto],(adv[form:fnot,first:+]),
		(adv+[first:~]), (advp[first:~]), (verb[auxbh:+,first:~]),
		(verb[partpas:+,first:~]),
		verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:41 in chunker.xip



//Rule No. 3 
//This rule captures "to have been" followed by an adjective:
//IV{to have been} AP{able} IV{to resist}
2> IV -> 	prep[form:finfto],(adv[form:fnot,first:+]),
		(adv+[first:~]), (advp[first:~]), verb[form:fhave,first:~],
		verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:42 in chunker.xip




//Rule No. 4
//Basic infinitives followed by a present participle
//Barrios was believed IV{(not) to BE (laboriously) cutting} steel when... 

2> IV -> 	prep[form:finfto],verb[form:fbe,first:~],
		(adv+), (advp), verb[prog:+,last:+].
//-------------------------------------------------------
//ID_Rule:43 in chunker.xip
 		 
 		 

//Rule No. 5 		 
//can't include this rule with above one as this leads to errors such as:
//!!FV{objected}} IV{to making} NP{contributions}		 
//Barrios was believed IV{(not) to HAVE BEEN (quickly) CUTTING} steel when.. 		 
2> IV -> 	prep[form:finfto],verb[auxbh:+,first:~],
		(adv+), (advp), verb[prog:+,last:+].
//-------------------------------------------------------
//ID_Rule:44 in chunker.xip
 		
 		 	 


//Rule No. 
//A baseform verb that follows the conjunction "than" is an IV
//"rather than IV{dump} them let us recycle the waste"
2> IV -> |?[form:fthan]| verb[bf:+].
//-------------------------------------------------------
//ID_Rule:45 in chunker.xip




//Rule No. 6
//!!!CHANGE RULE /CHECK IF ANY BF FOLLOWING ANOTHER VERB FORM IS AN INF! AND PUT IN CONTEXT
//This rule captures bare infinitives which immediately follow an IV chunk 
//"It was used IV{to help} IV{absorb} the liquid"
3> IV -> |?[verb:+,inf:+]|  verb[bf:+].
//-------------------------------------------------------
//ID_Rule:46 in chunker.xip
 




//Rule No. 7
//This rule captures bare infinitives which immediately follow a coord 
//SC{BG{unless} NP{something} FV{is done}} soon IV{to curb} 
//NP{the birth rate} AND rapidly IV{expand}}
//IV{to reduce} NP{the deficit} OR IV{fund}} NP{another project}
3> IV -> |?*[verb:~], iv, ?*[verb:~], ?[coord:+]|  (adv), (advp), verb[bf:+].
//-------------------------------------------------------
//ID_Rule:47 in chunker.xip
 


//Rule No. 8
//The preceding pronoun must be oblique case but not a relative pronoun
//or a nominative pronoun such as "these"
//"Let him IV{go}"  
//BUT NOT "The aides who !IV{let} him go  
//OR "These IV{have} been ...

3> IV -> |?[obl:+,rel:~,nom:~]|  (adv), (advp), verb[bf:+] |?[verb:~]|.
//-------------------------------------------------------
//ID_Rule:48 in chunker.xip
 




//Rule No. 9
//IVs chunks ending in a base form which follow finite auxiliary verbs in 
//declarative and interrogative sentences
//They may/must/can/could/would/should/ go/be/learn
//SC{FV{Would}} NP{AP{nuclear} war} IV{occur}
//"there" which is tagged as an adverb, is excluded from chunk to avoid: FV{There can be} no change
5> IV -> 	| aux ; verb[form:fdo], ?*[verb:~, comma:~, conj:~] |
		(adv+[form:~fthere]),(advp), (punct[form:foquotes]),(punct[form:fcquotes]),
		(num[ord:+]), 
		verb[p3:~, partpas:~, past:~, prog:~, last:+].
//-------------------------------------------------------
//ID_Rule:49 in chunker.xip



// Rule XXXXX
// CH, Jan. 2002
// Have to after an auxiliary verb
// e.g. They would have to face -- In this case HAVE to has to be an IV
5> IV ->	| aux |
		(adv+[form:~fthere]), (advp), (punct[form:foquotes]),(punct[form:fcquotes]),
		(num[ord:+]), 
		aux
		| verb | .
//-------------------------------------------------------
//ID_Rule:50 in chunker.xip




//Rule 10
//Base infinitives which immediately follow an IV and the conjunction "and"
//"to limit and reduce"
5> IV -> 	|iv, conj[form:fand]| verb[p3:~, partpas:~, past:~, prog:~, last:+].
//-------------------------------------------------------
//ID_Rule:51 in chunker.xip



// Bare infinitives 
// e.g. I saw them come
5> IV ->	| ?[verb,lemme:see], ?*[verb:~] | verb[bf:+,nfin:+] .
//-------------------------------------------------------
//ID_Rule:52 in chunker.xip



// Rule XXXX
// CH. 10th Sept 01
// A base infinitive that immediately follow a finite verb that has the feature sc_toinf
// i.e. verb that subcategorizes an infinitive with or without to
//4> IV -> | verb[sc_toinf] | verb[p3:~, partpas:~, past:~, prog:~, last:+].


//============================FINITE VERB CHUNKS=========================


//"He FV{has} NFV{been charged} by the police" 
//"FV{has} he !!FV{been charged} by the police"

		 
//Non-finite Verb Chunks 
//-----------------------


//Auxiliary verbs are chunked as finite verbs and all non-finite verbs that immediately follow them
//are chunked separately as non-finite verb chunks (NFV) to ensure consistent treatment in declarative and
//interrogative sentences:  "He FV{has} {been charged}" and "FV{Has} he NFV{been charged}"


//When Rule 11 is split into two (one for "be" and one for "have" then the system cannot 
//choose between the two for abbreviated verb forms such as "He's tickled"
//and so NFVs are isolated as FVs!!

//Rule No. 11a
//NFVs chunks ending in a past participle that follow finite form of verbs "be" or "have"
//(certainly) (never) (been) (being) (more) (widely) represented
//{SC{NP{He} FV{has}} NFV{not yet been being charged}}
//FV{had}} NFV{`` negligently and improperly '' left}
//NP{Officials} FV{have}} PP{in NP{the past AP{several} years}} NFV{routinely predicted} NP{1 million visitors}


4> NFV -> 		|verb[form:fhave,prog:~], ?*[punct:~,verb:~,wh:~]| 
			(quant),(adv+), (advp), (verb[partpas:+,form:fbe]), (verb[prog:+,form:fbe]),
			(punct[form:foquotes]), (punct[form:fcquotes]), 
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:53 in chunker.xip


//Rule No. 11b
//That is a cute one Barbara got
4> NFV -> 		|verb[form:fbe,partpas:~,prog:~]| 
			(quant),(adv+), (advp), (verb[partpas:+,form:fbe]), (verb[prog:+,form:fbe]),
			(punct[form:foquotes]), (punct[form:fcquotes]), 
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:54 in chunker.xip


//Rule No. 12
//This rule captures NFVs which end in a past particple that has been mistagged as an adj
//NP{Senior party leaders} FV{have}} NFV{also criticized+ADJ} NP{Gorbachev}
//SC{BG{who} FV{has}} NFV{reportedly visited+ADJ} NP{Tunis} .}
// CH, 26th October. 
4> NFV -> 		| verb[auxbh:+,prog:~]| (quant),(adv+), (advp), 
			(verb[partpas:+,form:fbe]), (verb[prog:+,form:fbe]),
			(punct[form:foquotes]),(punct[form:fcquotes]), 
			adj[partpas:+,last:+, hmm_vpap].
//-------------------------------------------------------
//ID_Rule:55 in chunker.xip




//Rule No. 13
//NFVs chunks ending in a present participle that follow finite form of verbs "be" or "have"
//"She IS/WAS (certainly) (NOT) going"	
//"She HAS/HAD  (certainly) (not) BEEN SWIMMING for over six years now"	
 		   
4> NFV[vprog:+] ->  	|verb[auxbh:+,prog:~]| (adv[form:fnot]), (advp),  (adv+[form:~finfto]), 
		(punct[form:foquotes]),(punct[form:fcquotes]),
		(verb[form:fbe,partpas:+]),
 		verb[prog:+,last:+].
//-------------------------------------------------------
//ID_Rule:56 in chunker.xip

 


// Essai CH. To maintain the coherence between "he is sleeping" and "Is he sleeping?"

//3> NFV ->  |pron[nom:+,personal:+]| (adv+), verb[prog:+,last:+].


//Rule No. 14
//NFVs chunks ending in a past participle that follow finite auxiliary verbs 
//She will/may/can/could/would/should NFV{(certainly) (not) (be/have) (been) (being) charged}
//{should also be steadily improved and perfected}

/4> NFV -> 		|aux| 	(num[ord:+]), (punct[form:foquotes]),(punct[form:fcquotes]),
			(adv+), (advp), (quant), verb[auxbh:+], (verb[form:fbe,partpas:+]), 
			(verb[form:fbe,prog:+]), (conj[coord:+]), (verb[partpas:+,last:~]),  
			verb[partpas:+,last:+].		\	

//She will/may/can/could/would/should NFV{(certainly) (not) (be/have) (been) (being) charged}
4> NFV -> 		|aux| 	(num[ord:+]), (punct[form:foquotes]),(punct[form:fcquotes]),
			(adv+), (advp), (quant), verb[auxbh:+], (verb[form:fbe,partpas:+]), 
			(verb[form:fbe,prog:+]), 
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:57 in chunker.xip
	

// Coordinated past participle 
// {should also be steadily improved and perfected}
4> NFV -> 		|aux| 	(num[ord:+]), (punct[form:foquotes]),(punct[form:fcquotes]),
			(adv+), (advp), (quant), verb[auxbh:+], (verb[form:fbe,partpas:+]), 
			(verb[form:fbe,prog:+]), conj[coord:+], verb[partpas:+,last:~],  
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:58 in chunker.xip
	
 
//Rule No. 15
//NFVs chunks ending in a present participle that follow finite auxiliary verbs 
//will/may/can/could/would/should NFV{(not) (certainly)  (FIRST)  BE coming}
		  
4> NFV ->  	      |aux| (num[ord:+]),(verb[form:fbe,inf:+]), 
		      (punct[form:foquotes]),(punct[form:fcquotes]),
		      (adv+), (advp), verb[prog:+,last:+].
//-------------------------------------------------------
//ID_Rule:59 in chunker.xip
		  


// CH - NFV chunk after a form of get
// He got elected
4> NFV ->		| verb[form:fget] | 		  
			(punct[form:foquotes]),(punct[form:fcquotes]),
			(adv+), (advp), 
			(conj[coord:+]), (verb[partpas:+,last:~]),  
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:60 in chunker.xip
			


//Rule No. 16
5> NFV -> 		|?[nfin:+], conj| 
			(quant),(adv+), (advp), (verb[partpas:+,form:fbe]), (verb[prog:+,form:fbe]),
			(punct[form:foquotes]), (punct[form:fcquotes]), 
			verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:61 in chunker.xip


5> NFV ->		| verb[cop] |
			verb[partpas:+,last:+] | ?[adj:~,noun:~] | .
//-------------------------------------------------------
//ID_Rule:62 in chunker.xip



//PRESENT TENSE VERB CHUNKS		  	
//-------------------------


// Rule XXXXX 
// CH, TEST
// Coordination of finite simple verbs
//4> FV -> (verb[pres:+]), (punct[comma]), (verb[pres:+]), (punct[comma]), verb[pres:+], conj[coord:+], verb[pres:+].

//4> FV -> (verb[past:+]), (punct[comma]), (verb[past:+]), (punct[comma]), verb[past:+], conj[coord:+], verb[past:+].



//Rule No. 17
//Present tense verb forms that immediately follow a personal pronoun
//141>GROUP{has made it FV{clear} it [pron,nom,obl,personal]FV{is} reluctant
//593>GROUP{S, Gorbachev also made it FV{clear} that he
//275>GROUP{Let IT[pron,nom,obl,personal] FV{go} !}   -"let go (of 
//This rule must be in a later layer to the NFVs to avoid:
//!FV{never before were}} NP{we} FV{prepared} so well 
5> FV -> 	|pron[nom:+,personal:+]|   adv*, (advp), verb[pres:+,last:+].
//-------------------------------------------------------
//ID_Rule:63 in chunker.xip



//Rule No. 18
//Imperatives which are the first lexical unit in the sentence
//Let us continue
5> FV -> 	verb[startbis, pres:+].
//-------------------------------------------------------
//ID_Rule:64 in chunker.xip




//Rule No. 19
//This rule identifies all remaining present tense verbs 
//adverbs are excluded they often modify a preceding noun phrase
//2483>GROUP{SC{SC{BG{NP{What}} FV{happens}} FV{outside is}} NP{another matter}
15> FV ->  verb[pres:+,last:+].
//-------------------------------------------------------
//ID_Rule:65 in chunker.xip




//PAST TENSE VERB CHUNKS
//----------------------


//Rule No. 20
//This rule captures all past tense verbs - the [past:+] feature is removed from
//past participles in the disambiguation module first
//May leave adverbs out of chunk due to: !FV{ADV{two weeks ago} said}} 
// CH, added a constraint on hmm_vpap in order to avoid to construct a FV for forms that are uniquely a past participle
// e.g. Measures *FV{taken} this afternoon
//14> FV -> ADV*[form:~fthere, form:~fhere, wh:~], verb[past:+,last:+,hmm_vpap].

//14> FV -> ADV*[form:~fthere, form:~fhere, wh:~], verb[past:+,last:+,hmm_vpast].

//14> FV -> ADV*[form:~fthere, form:~fhere, wh:~], verb[past:+,last:+,partpas:~].
15> FV -> ADV*[form:~fthere, form:~fhere, wh:~], (advp), verb[past:+,last:+].
//-------------------------------------------------------
//ID_Rule:66 in chunker.xip


//15> FV -> 

// AUXILIARY VERB CHUNKS
//----------------------

//Rule No. 21
//This rule chunks finite forms of primary verbs HAVE and BE 
//[tempadv:~] feature used to exclude verb particles which are tagged as adverbs from 
//auxiliary chunk: NP{All three people} !FV{aboard were} NFV{killed} .}
//[inf:~] ensures base form of "be" is not identified as a finite verb chunk
//!!SC{FV{has} NP{he} FV{been}} NFV{charged}
6> FV ->	(adv+[form:~fthere, form:~fhere, wh:~, tempadv:~,vpart:~]), (advp),
		verb[form:fhave, inf:~, prog:~, vprog:~, last:+].
//-------------------------------------------------------
//ID_Rule:67 in chunker.xip

		
6> FV ->	(adv+[form:~fthere, form:~fhere, tempadv:~,vpart:~,wh:~]), (advp), 
		verb[form:fbe, inf:~, partpas:~, prog:~, vprog:~, last:+].
//-------------------------------------------------------
//ID_Rule:68 in chunker.xip


//CH 2nd August. The same as the previous one but especially for wh interrogative pronouns (which are categorized as ADV[wh:+], in order to have the feature wh on the FV node
// After having constrained the previous rule with wh:~ and written the following rule to add the wh- case, I've commented this rule in order to have the same structure for "why is" and "why do" (dominated by an SC)

//5> FV[wh=+] ->	adv[wh:+], 
//	verb[form:fbe, inf:~, partpas:~, prog:~, vprog:~, last:+].
		
//Rule No. 22
//This rule isolates all finite auxiliaries 
//May leave preceding adverbs out of chunk altogether or if possible just those
//which are ambiguous - not sure that temporal advs are ambiguous with verbs other than "be"
//1>GROUP{NP{death figures} NFV{tomorrow will} NFV{tell}}
//"There" is tagged as an adverb but is a dummy subject and must be excluded from verb chunks
//{There will} NFV{be} NP{a trial} here soon 

6> FV ->	(adv+[form:~fthere,form:~fhere, wh:~, tempadv:~,vpart:~]), (advp), aux[last:+].
//-------------------------------------------------------
//ID_Rule:69 in chunker.xip



// Finite past verbs that have been wrongly tagged as past-participle and are not caught by the general FV rule

7> FV -> (adv+[form:~fthere,form:~fhere, wh:~, tempadv:~,vpart:~]), (advp), verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:70 in chunker.xip


//PRESENT PARTICIPLE VERB CHUNKS - GVs                    
//====================================

//RECHECK {SC{GV{Having} been NFV{really excluded} NP{he} FV{left}}}!!!!
//Rule No. 23
//This rule identifies verb chunks which begin with a present participle:
//GV{Having (already) (been) spotted }
//It must be a layer prior to NFV ending in a past participle to avoid:
//!!after GV{having been} NFV{systematically excluded}
//Left context is required to avoid !NP{she} FV{is}} not GV{being rushed} 
//since GV{being named} NP{head} PP{of NP{state}}
//!150>in GV{balloting nullified} by Noriega - Ellipsis

3> GV ->   	|?[form:~fbe, adv:~] | (adv[form:fnot,first:+]), (advp), 	
		verb[prog:+,auxbh:+], (adv+[first:~]), 
	   	(verb[form:fbe,partpas:+]), verb[partpas:+,last:+].
//-------------------------------------------------------
//ID_Rule:71 in chunker.xip




//Rule No. 24
//Picks up lone GVs after all IVs, FVs containing present participle have been isolated.
//Also picks up present participles tagged as verbs instead of adjs, nouns or preps!
//Tried putting this rule after NPs to try to capture adj that are tagged as verbs such as 
//"GV{soaring} prices" but this creates more issues with actual GVs being included in NPs!
//Adverbs are not included in this chunk due to ambiguity:
//!!NFV{returning} NP{home}} tonight, GV{then flying} PP{to NP{Boston}} ELLIPTIC 
//NP{He} FV{once described}} NP{himself} GV{as belonging} to
6> GV ->	 verb[prog:+,last:+].
//-------------------------------------------------------
//ID_Rule:72 in chunker.xip
	 



//==============================================APS===============================================


4> AP -> adj[first:+], conj[coord:+,first:~,form:~fthan], adj.
//-------------------------------------------------------
//ID_Rule:73 in chunker.xip


// CH
4> AP -> nadj[first:+], conj[coord:+,first:~,form:~fthan], nadj[last:+].
//-------------------------------------------------------
//ID_Rule:74 in chunker.xip


// Case of such
6> AP[form=fsuch] -> adj[form:fsuch] .
//-------------------------------------------------------
//ID_Rule:75 in chunker.xip







//Rule No. 25
//This rule chunks a conjunction of adjectives 
//AP{severe+adj social+adj and economic+adj} problems
// very very handsome and talented

6> AP -> 	adj+[last:~], (adv+[form:~fnot]),(punct+[first:~]),
	  	conj[coord:+,first:~,form:~fthan], adj[adj:+,last:+].
//-------------------------------------------------------
//ID_Rule:76 in chunker.xip



// CH, 12/01 duplication of the previous rule for NADJ (desambiguation of NADJ in the file adjust.xip is supresed)
6> AP -> 	adj+[last:~], (adv+),(punct+[first:~]),
	  	conj[coord:+,first:~,form:~fthan], nadj[adj:+,last:+].
//-------------------------------------------------------
//ID_Rule:77 in chunker.xip


// CH, triplication
// EN COURS
6> AP ->		nadj[last:~], (adv+),(punct+[first:~]),
	  	conj[coord:+,first:~,form:~fthan], adj[adj:+,last:+].
//-------------------------------------------------------
//ID_Rule:78 in chunker.xip





6> AP[preperiod:+] -> nadj[preperiod:+] .
//-------------------------------------------------------
//ID_Rule:79 in chunker.xip


//Rule No. 26
//This rule chunks adjectives as APs
//the AP{Noriega-dominated+adj Electoral+adj} Council 
//!736FV{took} his oath AP{as New} York's 106th mayo - why "as" is excluded from adverbs
//SC{NP{No matter} NP{AP{how+WH difficult} 1989} FV{was}}
//he wants to be AP{more+QUANT active} but !NP{16 AP{more appellate} judgeships} 
//"more"  MODIFIES "16" NOT "appellate" so no quants included in APs

6> AP -> 	(adv+[form:~fnot,form:~fas,wh:~]),  adj[last:+,vprog:~,vpap:~].
//-------------------------------------------------------
//ID_Rule:80 in chunker.xip


6> AP -> 	(adv+[form:~fnot,form:~fas,wh:~]),  nadj[last:+,vprog:~,vpap:~].
//-------------------------------------------------------
//ID_Rule:81 in chunker.xip





// Rule XXXXX
// CH - for adjective past-participle
// Adding a feature verb on the AP's contructed with a past-participle used as adjective
6> AP[verb=+] -> 	(adv+[form:~fnot,form:~fas,wh:~]),  adj[last:+,vpap:+].
//-------------------------------------------------------
//ID_Rule:82 in chunker.xip



6> AP[verb=+] -> 	(adv+[form:~fnot,form:~fas,wh:~]),  nadj[last:+,vpap:+].
//-------------------------------------------------------
//ID_Rule:83 in chunker.xip



// Rule XXXX
// CH - distinction between AP having a ING- adj from the others
// naturally-occuring element
6> AP[vprog=+] -> adv[notly:~], punct[form:fhyph,left:+,right:+], adj[last:+,vprog:+].
//-------------------------------------------------------
//ID_Rule:84 in chunker.xip


6> AP[vprog=+] -> 	(adv+[form:~fnot,form:~fas,wh:~]),  adj[last:+,vprog].
//-------------------------------------------------------
//ID_Rule:85 in chunker.xip



6> AP[vprog=+] -> 	(adv+[form:~fnot,form:~fas,wh:~]),  nadj[last:+,vprog].
//-------------------------------------------------------
//ID_Rule:86 in chunker.xip






// Rule XXXXX
// CH - AP made by a cardinal point and a following adjective (or nadj) 
6> AP -> noun[cardpoint:+], nadj[last:+].
//-------------------------------------------------------
//ID_Rule:87 in chunker.xip



// Rule XXXXX
// CH - AP made by more+AP
// e.g. more comfortable and vigorous than tired.
7> AP[compar=+] -> (adv[form:feven]), quant[form:fmore], AP, conj[form:fthan], AP.
//-------------------------------------------------------
//ID_Rule:88 in chunker.xip



7> AP[compar=+] -> (adv[form:feven]), quant[form:fmore], AP.
//-------------------------------------------------------
//ID_Rule:89 in chunker.xip



//===================================================NPs============================================


//-----------------------------------NPs WITH POSSESSIVE PARTICLE---------------------------------


// CH ESSAI Mettre une contrainte sur tous les NP pour retirer les noms propres en dernier si il existe auparavant un nom ou un nadj.

//Rule No. 27
//This rule isolates NPs containing one or more obligatory possessive particles ending in a noun
//NP{the state's more than 710,000 AP{registered} motor boats}}
//NP{19 times Marcos' AP{annual presidential} salary}
//NP{Vietnam 's AP{Communist} Party leader Nguyen Van Linh+PROPER}
//!! Tagger Error NP{what Romania 's AP{new} authorities} FV{found} - WHY [wh:~]REQUIRED
// CH. Added an optional comma. Check if no bad consequences 
// e.g Forster's successful, 13-years battle.



10> NP ->  	(det[wh:~,first:+]), part+[first:~], (AP+),
		(quant), (num), (dig), (NUMP), (noun+[last:~]),  (nadj+), (punct[comma:+]), 
		(adv[first:~,form:~fas]), (conj[form:fthan]),
	   	noun[time:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:90 in chunker.xip
        


//Rule No. 28
//This rule isolates NPs containing a possessive particle ending in a nadj
//NP{AP{New} York's Times Square} 	
//NP{a AP{special Romanian Orthodox} New Year 's Mass} 

10> NP ->  	(det[first:+]), part+[first:~], (AP+), (quant), (num), (dig), (NUMP),
	   	(noun+[maj:~,first:~,last:~]), (noun+[maj:+,last:~]), (nadj+[last:~]), 
	   	(adv[first:~,form:~fas]), nadj[last:+].
//-------------------------------------------------------
//ID_Rule:91 in chunker.xip
 



//Rule No. 29
//This rule handles ELLIPSIS of the head noun in NPs containing a possessive particle
//IV{to fete} NP{the first New Year 's} PP{in NP{four decades}}
//SC{NP{They} FV{argue}} NP{that Prego 's} FV{should} NFV{be} NP{a worker 's compensation case}

10> NP ->  	(det[first:+]), (AP+), (quant), (num), (dig), (NUMP),
	   	noun+, (nadj+), (adv),
	   	part[last:+].
//-------------------------------------------------------
//ID_Rule:92 in chunker.xip





//Rule No. 31
//CHECK AGAIN!!!
//Identifies NP chunks which begin with a genitive relative pronoun and end in a noun
//The feature [rel:+] is passed to the mother node as it is required later to form
//sentence chunks that contain an NP and an FV: SC{BG{NP{whose worth}} FV{is}} NFV{believed}
//Head noun cannot be a proper noun: PP{in NP{whose embassy Noriega}} FV{sought} 
//Head noun cannot be a time noun: PP{on NP{whose show Sunday}} last... 
//"Her" receives +Pron+Pers+Gen+3P+Sg(morph)+DET from morph. when no adverb follows
//"Her" receives  +Pron+Pers+Obl+3P+Sg(morph)+PRONPERSfrom morph. when an adverb follows
//So "Her nearly four-year tenure" is not chunked by this rule while "her four-year tenure" is.

9> NP[rel:+] -> 	pron[gen:+,form:fwho,first:+], (part+),(AP+), (num), (dig), (NUMP),
			(quant), (nadj+), (noun+[last:~]), 
			noun[proper:~,maj:~,time:~,last:+].
//-------------------------------------------------------
//ID_Rule:93 in chunker.xip




//Rule No. 32
//Rule identifies NP chunks that begin with genitive pronouns which are not also 
//relative pronouns and end with a noun
//The [part:+] feature is not obligatory as it is included in the pronoun "its" 
//NP{its 14th AP{annual} First+NUM Night festivities}
//NP{their first New Year 's Eve+PROPER} 
//NP{his son 's most+QUANT AP{cherised} possession} Thursday[time:~]
//CH rajout contrainte sur le trait fam pour ne pas attraper (my friend Peter)NP
// CH 6. Aug
// This rule was not able to take as a single NP the expression
// its driest December (because of time:~ in the last noun.
// The time:~ constraint has been changed to a tempexpr:~ constraint (yesterday)
// TO VERIFY IF THIS RULE HAS ANY SIDE EFFECT.

10> NP ->  	 pron[gen:+,rel:~,first:+,wh:~], (part+), (AP+), (num+), (dig), (NUMP),
	   	 (quant), (nadj+), (noun+[last:~]), 
	   	 noun[tempexpr:~,last:+,fam:~,proper:~].
//-------------------------------------------------------
//ID_Rule:94 in chunker.xip
    

// in order to be able to take into account things with uppercases that are tagged as proper noun
// eg his first State
10> NP ->	pron[gen:+,rel:~,first:+,wh:~], (part+), (AP+), (num+), (dig), (NUMP), noun[tempexpr:~,last:+].
//-------------------------------------------------------
//ID_Rule:95 in chunker.xip
 

//Rule No. 33
//Identifies NP chunks which begin with a genitive relative pronoun and end in a nadj
//The feature [rel:+] is passed to the mother node as it is required later to form
//sentence chunks that contain an NP and an FV: SC{BG{NP{whose worth}} FV{is}} NFV{believed}
//GROUP{SC{NP{The boy} SC{BG{NP{whose game}} FV{was}} NFV{stolen} FV{cried}}}

9> NP[rel:+] -> 	pron[gen:+,form:fwho,first:+], (part+),(AP+), (num), (dig), (NUMP),
			(quant), (nadj+[last:~]), (noun+),  
			nadj[last:+].
//-------------------------------------------------------
//ID_Rule:96 in chunker.xip
 




//Rule No. 34
//Rule identifies NP chunks that begin with genitive pronouns which are not also
//relative pronouns and end with a nadj or noun
//Again the [part:+] feature is not obligatory as it is included in the pronoun "its" 
//NP{your heart 's content}
//NP{their home base}

10> NP ->  	pron[gen:+,rel:~,first:+], (part+), (AP+), 
	   	(quant), (num+), (dig), (NUMP), (noun+), (nadj+[last:~]) ,
	   	nadj[last:+].
//-------------------------------------------------------
//ID_Rule:97 in chunker.xip
      




//Rule No. 35j
//Identifies NP chunks which begin with a genitive relative pronoun and end in an adj
//The student NP{whose Spanish} is good....
10> NP[rel:+] -> 	pron[gen:+,rel:+,first:+], 	
			AP[last:+].
//-------------------------------------------------------
//ID_Rule:98 in chunker.xip
 


//Rule 51
//Rule identifies NP chunks that begin with genitive pronouns which are not also
//relative pronouns and end with an adjective
//NP{his own}   NP{her Spanish} is good
//change in MA!! Spanish should be a NAdj

10> NP ->  	pron[gen:+,rel:~,first:+], 	   	
	   	AP[last:+].
//-------------------------------------------------------
//ID_Rule:99 in chunker.xip
      



//Rule 37
//Rule identifies NP chunks that begin with genitive pronouns which are not also
//relative pronouns and end with the possessive particle due to ellipsis
//NP{their first New Year 's} PP{in NP{more}} than NP{two decades}

10> NP ->  	pron[gen:+,rel:~,first:+], (part+), (AP+), 
	   	(quant), (num+), (dig), (NUMP),
	   	(noun+[last:~]), (nadj+) ,
	   	part[last:+].
//-------------------------------------------------------
//ID_Rule:100 in chunker.xip
    




//------------------------------------------NPs with Determiners----------------------------------------------




// Rule 55
// CH 8th August
// In order to avoid : The weaker the starting point, {NP THE MORE ONE} has to do .....
// i.e. comparative before a pronoun cannot build a unique NP


9> NP[compar:+] -> det[def:+, first:+], quant[compar:+].
//-------------------------------------------------------
//ID_Rule:101 in chunker.xip

9> NP[compar:+] -> det[def:+, first:+], ap[compar:+].
//-------------------------------------------------------
//ID_Rule:102 in chunker.xip




10> NP -> AP[form:fsuch, first:+], det[indef:+], (AP+), (noun+), noun.
//-------------------------------------------------------
//ID_Rule:103 in chunker.xip


// Rule XXXXX
// CH 8th August
// To have {NP The year 2002} as a single NP.
10> NP[period:+] -> det, noun[period], dig.
//-------------------------------------------------------
//ID_Rule:104 in chunker.xip



//10> NP[period:+] -> det, (AP+), noun[period,last].

//10> NP[period:+] -> dig, (AP+), noun[period,last].

// Rule XXXX
// CH 16th October 
// To have the feature [tempexpr:+] on the NP "What time"
10> NP[tempexpr:+] -> det[wh], noun[period] .
//-------------------------------------------------------
//ID_Rule:105 in chunker.xip


// Rule XXXXX
// Having feature tempexpr on NP like "This afternoon", "This night" etc.
10> NP[tempexpr:+] -> det[form:fthis], noun[posttime].
//-------------------------------------------------------
//ID_Rule:106 in chunker.xip





// Rule XXXXX
// Adding this rule in order to have NP{The British Ministry} 
10> NP ->	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]),
		(AP+), (nadj+), noun[time:~,last:+].
//-------------------------------------------------------
//ID_Rule:107 in chunker.xip





// Deals : the 16th president
10> NP ->  	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]),
		(AP+), (dig), (num+), (quant), (nadj+),(noun+[last:~]), 
	   	noun[tempexpr:~,last:+,maj:~,proper:~].
//-------------------------------------------------------
//ID_Rule:108 in chunker.xip
 



// Rule XXXX
// The previous general rule is duplicated in order to allow to have in an unique NP the expression "The nice December" that could no be constructed because of the constraint on feature maj.
10> NP ->  	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]),
			(AP+), (dig), (num+), (quant), (nadj+),(noun+[last:~]), 
			noun[period:+,last:+].
//-------------------------------------------------------
//ID_Rule:109 in chunker.xip
 



// CH 3rd December. Adding a rule in order to have the construction of a determined NP when there is a proper noun preceeding the last nadj
// e.g. The Information Technology field(nadj)
10> NP ->	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]), 
		(AP+), noun[proper:+], nadj[meas:~,proper:~,last:+].
//-------------------------------------------------------
//ID_Rule:110 in chunker.xip



//Rule 39
//This rule covers NPs with an optional conjunction which begin with a determiner 
//and end with a noun.  Commas and other punctuation are also permitted as the set of 
//categories are reduced compared to the above rule
//NP{the two or three times}
//NP{the sixth and AP{bloodiest} attempt} 
//!!a first+ORD or second-class ticket is fine[NP _a first or second class ticket NP]
//{a AP{politically grim} `` Prague Winter}
//NP{a AP{tall} , AP{thin} cowpoke}
//NP{the AP{12-member} , AP{decision-making Inner} Cabinet}
//{a AP{beautiful} , AP{beautiful} planet}
//!!TEST{the least AP{disagreeable} , '' McGrath} FV{said}

11> NP ->  	det[first:+], (punct+[form:~fcquotes]), (AP+), (dig), (num+), (NUMP), (quant), 
	   	(conj[coord:+]), noun[time:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:111 in chunker.xip

	   	
	   	

//Rule 40
//Rule covers NPs which begin with a determiner and end with a nadj	   	
//NP{a AP{former) agribusiness executive}
//NP{the second most+QUANT AP{popular} choice+NADJ}
//{the ( European ) continent} 
//[meas:~] prevents measurements being included in NP: !NP{a foot long}
// CH 20th August. Rule modified in order to accept an NP wich begin with a wh determiner and ends with a nadj (delete the constraint wh:~ on the first determiner)


            
11> NP ->  	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]),
		(AP+), (dig), (num+), (NUMP), (quant), (nadj+),(noun+[last:~]), 
	   	nadj[meas:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:112 in chunker.xip



//Rule 41
//Rule identifies NPs which begin with a determiner and end with a digit
//noun+[month:~] ensures that dates are not included in NP: NP{the hangings}} NP{Dec. 21}
//NP{the AP{Japanese} Communications Satellite Co. Skynet 4}
//NP{the AP{estimated} $60,000}

11> NP ->  	det[first:+], (punct[form:fopar]), (punct[form:fcpar]),(punct[form:foquotes]),
		(AP+), (dig), (num+), (quant), (nadj+), (noun+[month:~]), 
	   	dig[last:+].
//-------------------------------------------------------
//ID_Rule:113 in chunker.xip




//Rule 39
//Rule identifies NPs which begin with a determiner and end with a number
//NP{a third+NUM} FV{was}
//NP{an AP{estimated} 400 million+NUM}

11> NP -> 	det[first:+], (AP+), (noun+[month:~]),(dig), num[last:+] .
//-------------------------------------------------------
//ID_Rule:114 in chunker.xip
  




//Rule 63
//Rule identifies NPs which begin with a determiner and end with an 
//adjective due to ellipsis
//NP{the most difficult} of her tenure

11> NP -> 	det[first:+], (quant), (AP+), AP[last:+].
//-------------------------------------------------------
//ID_Rule:115 in chunker.xip




//Rule 43
//Rule identifies NPs which begin with a determiner and end with a quantifier
//NP{the most}
//NP{a little}
11> NP ->  	det[first], quant[last:+].
//-------------------------------------------------------
//ID_Rule:116 in chunker.xip



//Rule 44
//CHECK AGAIN!
//{SC{NP{The process} FV{could collapse}} NP{more}} - why compar:+ quants excluded
//{SC{NP{He} FV{wanted}} much[adv:+] more[compar:+] - "more" is some kind of np here
//{NP{He} FV{had}} too little IV{to drink}}
//13> NP -> (adv), (quant[adv:+]), quant[adv:~,compar:~,last:+].

// CH 24th August
// Determiner before a proper noun (i.e. The Nobel Prize)
//11> NP -> det[first], noun[proper:+].

//------------------------------------------NPs Without Determiners ---------------------------------------------


// Rule XXXX
// CH le 24 juillet
// NP rule without determiner and specific for nouns which have the tempexpr feature eg. yesterday
10> NP[tempexpr:+] -> noun[tempexpr:+].
//-------------------------------------------------------
//ID_Rule:117 in chunker.xip



// Rule XXXXX
// CH
// NP rule without determiner specific for nouns which have the period:+, time:+ features
// e.g. Friday, March
10> NP[tempexpr:+] -> noun[time:+,period:+].
//-------------------------------------------------------
//ID_Rule:118 in chunker.xip


// CH 3|three oclock
// CB : I move these3 rules in localdates.xip 
//9> NP[hour:+] -> num[card:+], adv[form:foclock].
//9> NP[hour:+] -> dig[card:+], adv[form:foclock].

// CH half past three
//9> NP[hour:+] -> quant[predet], ap[preperiod], num[card:+].

// CH - Addition of a quantif feature for quantified NP. 
11> NP[quantif:+] ->   quant+, conj[form:fthan,first:~], (AP+), (dig+), (num+), (NUMP),
			    (nadj+), noun[time:~,pron:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:119 in chunker.xip


// CH
11> NP[quantif:+] ->  adv[quantadv:+], (AP+), (dig+), (num+), (NUMP),
			   (nadj+), 
	    		noun[time:~,pron:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:120 in chunker.xip


9> NP[quantif:+,period:+] ->  adv[quantadv:+], (AP+), (dig+), (num+), (NUMP), (det),
			   (nadj+), 
	    		noun[period].
//-------------------------------------------------------
//ID_Rule:121 in chunker.xip


//Rule 45
//Rule for NPs without determiners that end in a noun
//NP{much more AP{drastic economic reforms}
//{three AP{large} pleasure yachts}
//[pron:~] required to avoid: {SC{PP{in NP{the course}} PP{of NP{advance one} FV{may}} 

11> NP ->   (AP+), (dig+), (num+), (NUMP), (quant+), (nadj+), (noun+[last:~]), noun[time:~,pron:~,last:+,proper:~].
//-------------------------------------------------------
//ID_Rule:122 in chunker.xip


// Rule XXXX
// CH 9 aout ESSAI
11> NP[proper:+] -> (AP+), (num), noun[proper:+].
//-------------------------------------------------------
//ID_Rule:123 in chunker.xip





//Rule 47
//Rule chunks nouns with the feature [time:+] which are excluded from above NP rules
//NP{a Sunday}

13> NP ->  (det[first:+]),(AP), (dig), (NUMP), (quant), 
	   noun[time:+,last:+].
//-------------------------------------------------------
//ID_Rule:124 in chunker.xip





//TEST!!!
//Rule 48
//Rule identifies NPs without determiners which end in a NADJ
//[meas:~] feature required to avoid chunking NP{75 feet long}
//PP{of NP{high-living+NADJ}} 
//!!GV{acting} chief+NADJ - NOT CAPTURED WHEN NADJ MUST BE PRECEDED BY ONE OF THE FOLL

11> NP ->   (dig), (num+), (NUMP), (AP), (quant), (quant[compar:+]), (noun+), (nadj+[last:~]), 
	     nadj[meas:~,last:+].
//-------------------------------------------------------
//ID_Rule:125 in chunker.xip



//CHECK!!
//Rule 49
//Identifies NPs which contain "more than" and end in a nadj
//NP{more than one-quarter}
11> NP ->   quant+, conj[form:fthan,first:~], (AP+), (dig+), (num+),  (NUMP), nadj[meas:~,last:+].
//-------------------------------------------------------
//ID_Rule:126 in chunker.xip






// Rule XXXXX
// CH. Special feature for NP made by a digit (possible dates)
11> NP[dig:+] -> dig.
//-------------------------------------------------------
//ID_Rule:127 in chunker.xip


11> NP[dig:+] -> NUMP.
//-------------------------------------------------------
//ID_Rule:128 in chunker.xip



//Rule 50
//Identifies NPs without determiners which end in a digit
//NP{Pope John Paul II}
//!!NP{beneficiaries ages 65} PP{through NP{69}}
//!!SC{NP{he} FV{sought}} NP{sanctuary Dec. 24}} WHY [time:~] required in rule CHECK THIS AGAIN!!!!
//11> TEST ->   (dig), (num+), (AP), (title), (quant[compar:+]), (noun+), (nadj+[last:~]), dig[last:+].

11> NP ->   (dig), (num+), (NUMP), (AP), (quant), (noun+[time:~]), (nadj+[last:~]), dig[last:+].
//-------------------------------------------------------
//ID_Rule:129 in chunker.xip




//Rule 51
//Rule for diverse date forms
//DATES + time?
//NP{Dec. 24, 1973}
//Tues. the 24th Oct., 1994
//Thu, 06 Oct 1994 11:47:55 EDT
//10:06 p.m.
//2000 GMT
//two-thirty
//10/01/99
//10.02.96

11> NP -> noun[time:+], (punct[comma:+,last:~]), dig+.
//-------------------------------------------------------
//ID_Rule:130 in chunker.xip




//Rule 52
//Identifies NPs without a determiner which end in a number
//1>GROUP{SC{NP{He} FV{received}} NP{2.5 million}}

11> NP ->    (dig), (num+), (NUMP), (AP), (quant), (noun+), (nadj+[last:~]), num[last:+].
//-------------------------------------------------------
//ID_Rule:131 in chunker.xip



//***Rule 53
//**12> TEST ->    (dig), (num+), (AP), (title), (quant), (noun+), (nadj+[last:~]), quant[last:+].



//Maybe free all "rel" features and then do an SC rule ?[rel:+] etc


//Quants which are followed by the prep "of" are NPs
//NP{Some} of NP{the people} ...
11> NP -> adv*, quant |prep[form:fof]|.
//-------------------------------------------------------
//ID_Rule:132 in chunker.xip




//Rule 54
//check again!
//Quants which begin a sentence and are followed by a verb are NPs
//NP{Some} arrived earlier
//NP{Many} PP{in NP{the theater}} FV{had}}
//!NP{All} NP{the people} FV{arrived}}
11> NP -> quant[startbis, predet:~] |?*[verb:~], ?[verb:+]|.
//-------------------------------------------------------
//ID_Rule:133 in chunker.xip



//Rule 55
//Rule chunks all/both/half as NPs when immediately foll by a det
//!!much the same
//all the people/ half the time / both the plaintiffs
//11> NP[predet:+] -> quant[predet:+] |det|.



//Rule 56
//!Thousands+noun more arrived
//11> TEST -> |?[num:~ ; dig :~ ; pron:~ ; verb:~]|  quant |?[verb:+]|.	


//Rule 57
//Identifies NPs without a determiner which end in a measurement
//NP{2 lb}

11> NP[quantif:+] ->   (dig), (num+), (NUMP), (AP),(quant), (noun+), (nadj+), meas[last:+].
//-------------------------------------------------------
//ID_Rule:134 in chunker.xip



// Rule XXXX
// NP without determiner that are only made of AP's
// e.g. (human)AP (overhead)AP (capital)AP
11> NP -> | ?[noun:~] | (quant), (AP+), AP[last:+] | ?[noun:~] |.
//-------------------------------------------------------
//ID_Rule:135 in chunker.xip



// CH an adverb with the quantadv:+ feature immediately followed by an NP with feature quantif:+ builds an NP eg At least three people...
//13> NP -> ADV[quantadv:+], NP[quantif:+] .

// CH. More than a year
//13> NP[period:+] -> adv[quantadv], NP[period] .


// CH. NP build by a standalone accusative/dative feminine personal pronoun
14> NP -> pron[personal,gen,pron].
//-------------------------------------------------------
//ID_Rule:136 in chunker.xip
 

//11> NP -> adv[form:fthere] |verb|.



// ------------------------------------------------- NP which head are of category Title -----------------------------
// CH 12nd October (When they are capitalized, nouns like president, king, etc. are considered as Title and not as noun.

// CH
// A title that is preceeded or not by a determiner and followed by something that is not adjectival or nominal builds a NP

//TITLE 11> NP -> pron[gen:+], title | ?[noun:~,adj:~] | .
//TITLE 11> NP -> quant, title | ?[noun:~,adj:~] |.
//TITLE 11> NP -> (det), (num[ord:+]), title | ?[noun:~,adj:~] | .



//------------------------------------------ COORDINATION ---------------------------------------------


//Rule
//Coord is too ambiguous
//NP{four or five days}
//NP{two or five kids}  [NP _four or five kids NP]/N 
//NP{more than one-quarter} PP{of NP{the AP{projected} world population}} 
//!!!FV{are}} SC{NP{AP{still unmet} and all help} FV{is}} NFV{needed} 
//!!FV{are} AP{well-known} SC{and NP{police} FV{said}}
//!!{NP{Romanians} PP{on NP{the street}} FV{greeted}} NP{each AP{other} and foreigners}
 //!!GV{imploring} NP{AP{calm} and discipline}
//!!FV{has} NFV{become} SC{NP{AP{irrelevant} and Dubcek} FV{must}} NFV{know} 
//!!by NP{one third+ORD and sentences}
//11> NP ->  (AP+), (dig), (num+), (quant), (title), (conj[coord:+,first:~]), noun[time:~,pron:~,last:+].


//Rule 
//???????WITH THIS RULE: NP{AP{other} AP{common+NADJ} crimes} WITHOUT THIS RULE: NP{AP{other common+NADJ} crimes}
//!!NP{he}} FV{hit} NP{AP{bottom} and AP{asked} Foster}
//1>GROUP{SC{NP{They} FV{wanted}} NP{AP{proper} and AP{swift} plans}}
//in TEST{English and AP{Spanish} warning} PP{against NP{the practice}}
//NP{AP{corporate} and AP{individual} donations}
//NP{AP{European} and AP{Soviet} affairs}
//NP{AP{Communist} and AP{Moslem} insurgencies}
//!!FV{are} TEST{AP{well-known} and police} FV{said}
//!!NP{each} TEST{AP{other} and foreigners} WHY TWO APS REQUIRED!
//{Romanian and Moldavian} WHY NADJs ARE NOT IN RULE
//from AP{intermediate} and NP{AP{junior high} schools}
//11> NP ->   AP[first:+], conj[coord:+], AP[first:~], noun[time:~,pron:~,last:+].
//DOESN'T WORK9> NP ->   nadj[first:+], conj[coord:+,first:~], AP, noun[time:~,pron:~,last:+].

//----------------------------------------------------PRONOUN NPs----------------------------------------


//Rule 58
//Identifies NPs which are nominative pronouns but not relative, "wh",
//genitive, or personal 
//NP{He} FV{was} AP{able} IV{to keep} NP{his} .
//SC{BG{unless} NP{something} FV{is}} NFV{done} soon 
//*11> NP -> 	pron[det:~,rel:~,gen:~].  - changed rule to allow[nom:+,wh:+]to be picked up in NP
//*11> NP -> 	pron[det:~,rel:~,gen:~,wh:~].
//excluded personal pronouns from this rule in order to recuperate their features in NPs to capture SCs! (TWO RULES DOWN)
//may not be a good idea as it also excludes obl personal pronouns such as "him" so may switch back to above rule!
//NP{these}[pron:+,nom:+,obl:+,p3:+,pl:+] FV{have}}
//NP{a crony} PP{of NP{his}}[pron:+,nom:+,obl:+,poss:+,p3:+,sg:+,pl:+]
//*11> NP -> 	pron[rel:~,wh:~,last:+]. May not need to exclude det, gen, or personal prons

11> NP -> 	pron[det:~,gen:~,personal:~,rel:~,wh:~,last:+].
//-------------------------------------------------------
//ID_Rule:137 in chunker.xip





//Rule 59
//Identifies NPs which are oblique personal pronouns
//remove this rule if above rule reverted to!
//to NP{him} / NP{me} etc

11> NP -> 	pron[personal:+,obl:+,last:+].
//-------------------------------------------------------
//ID_Rule:138 in chunker.xip




//Rule 60
//Identifies NPs which are reflexive personal pronouns
//remove this rule if above rule reverted to!
//Iran was able to feed NP{itself} 

11> NP -> 	pron[personal:+,refl:+,last:+].
//-------------------------------------------------------
//ID_Rule:139 in chunker.xip




//Rule 61
//Identifies NPs which are nominative personal pronouns
//personal pronouns features required later to chunk "NP FV" SCs!
//he[pron:+,nom:+,personal:+,p3:+,sg:+,maj:+]

11> NP[nom:+,personal:+] -> 	pron[nom:+,personal:+,last:+].
//-------------------------------------------------------
//ID_Rule:140 in chunker.xip




//Rule 62
//Identifies NPs which are nominative pronouns with the feature "wh"
//SC{PP{In NP{what+nom+wh}} FV{appeared}} IV{to be}  
//1>GROUP{SC{NP{I} FV{don't know}} SC{BG{NP{who}} NP{they} FV{are basing}} NP{that} on .}
//NP{some} PP{of whom} left soon after


// CH 16th august. NP with determiner and proper nouns.
// The Nobel Prize
11> NP[proper:+] -> det, np[proper:+].
//-------------------------------------------------------
//ID_Rule:141 in chunker.xip




//===================================================NP+ago ==============================================

// NP+ago is chunked as ADV[tempexpr:+] e.g. Three years ago, a week ago ...


13> NP[tempexpr:+] -> np, adv[form:fago] .
//-------------------------------------------------------
//ID_Rule:142 in chunker.xip



//===================================================PPs==============================================






// Rule XXXXX
// CH. A special feature date is added for PP made by in + digit
13> PP[date:+] -> prep[first:+, form:fin], np[dig:+].
//-------------------------------------------------------
//ID_Rule:143 in chunker.xip





//Rule 63
//Identifies PPs formed with relative pronouns previously chunked as NPs
//The feature [rel:+] is passed up to mother node for use in chunking SCs
//NP{The embassy} SC{PP{in NP{whose building}} NP{Noriega} FV{sought}} NP{refuge}
 13> PP[rel:+] -> prep[first:+], np[rel:+,last:+].
//-------------------------------------------------------
//ID_Rule:144 in chunker.xip




//Rule 64
//Identifies PPs formed with relative pronouns 
//The feature [rel:+] is passed up to mother node for use in chunking SCs
//!!{but who} Tagger Error "but" is a conjunction here not a prep IFSP but  [SC [NP who NP]
//the issue PP{of who} would drive   [SC [PP of who PP]
//PP{in which} - "which" is a prepositional complement
//NP{some} PP{of whom[pron:+,nom:+,obl:+,rel:+,p3:+,sg:+,pl:+]}

13> PP[rel:+] -> prep[first:+], pron[rel:+,last:+].
//-------------------------------------------------------
//ID_Rule:145 in chunker.xip



// Rule XXXXX
// about 20 years ago
14> PP[tempexpr:+] -> prep[first:+], NP[tempexpr:+].
//-------------------------------------------------------
//ID_Rule:146 in chunker.xip


//Rule 65
//Identifies PPs formed with NPs without pronoun features
//This rule must be in layer 14 as lone NP rules are in layer 13
//[form:~fas] required to avoid: PP{as NP{they}} left

14> PP -> prep[first:+,form:~fas], np[last:+].
//-------------------------------------------------------
//ID_Rule:147 in chunker.xip



// CHECK (only as sense considering the disambiguation rules around AS (adjust.xip)
14> PP -> prep[first:+,form:fas], np[last:+] | ?+[verb:~] | .
//-------------------------------------------------------
//ID_Rule:148 in chunker.xip


// CH, joining in a PP a preposition followed by an AP which is no followed by a NP
15> PP -> prep[first:+,form:~fas], ap[last:+] | ?+[noun:~] | .
//-------------------------------------------------------
//ID_Rule:149 in chunker.xip


//============================================SC RULES============================================

/ BG Clause boundaries \

//Tokens that typically introduce a subordinate clause are chunked as BGs
//BGs are then used as the first element in certain sentence chunks


//Rule 66
//Identifies relative pronouns as BGs
//who/whom/ which/that

16> BG ->  pron[rel:+].
//-------------------------------------------------------
//ID_Rule:150 in chunker.xip
 



//Rule 67
//Identifies PPs with the relative pronoun feature [rel:+] as BGs
//{SC{NP{The Vatican} PP{in NP{whose AP{Roman} embassy}} NP{Noriega} FV{sought}} NP{refuge} .}

16> BG[rel:!]-> pp[rel:+].
//-------------------------------------------------------
//ID_Rule:151 in chunker.xip




//Rule 68
//Identifies NPs with the relative pronoun feature [rel:+] as BGs
//NP{The AP{Dalai} Lama}, BG{NP{whose AP{Tibetan} homeland} FV{is ruled}} PP{by NP{China}}, said 

16> BG[rel:!] -> np[rel:+].
//-------------------------------------------------------
//ID_Rule:152 in chunker.xip




//Rule 69
//Identifies nominative NPs with the feature [wh:+] as BGs
//{SC{NP{I} FV{don't know}} SC{BG{NP{what}} NP{they} FV{are basing}} NP{that} on .}
//{SC{NP{I} FV{don't know}} SC{BG{NP{who}} NP{they} FV{are basing}} NP{that} on .}

//15> BG ->  np[wh:+,nom:+].

// CH 2nd August. The previous rule is enlarged in order to construct BG with all the NP[wh:+] (i.e. nominative and obliques

//15> BG[wh=+] ->  np[wh:+].
//The enlarged rule is commented 


// CH, 2nd August
// Making a BG[wh:+] from a PRON[wh:+]
16> BG[wh:+] -> pron[wh:+].
//-------------------------------------------------------
//ID_Rule:153 in chunker.xip



// Making a BG[wh:+] from a CONJ[wh:+]
16> BG[wh:+] -> conj[wh:+].
//-------------------------------------------------------
//ID_Rule:154 in chunker.xip


//Rule 70
//Identifies adverbs with the feature [wh:+] as BGs  
//"He did not know WHY it happened"
//BG{how} IV{to end} NP{the fighting}

16> BG ->  |?+|	 adv[wh:+]  |?*, fv|.
//-------------------------------------------------------
//ID_Rule:155 in chunker.xip
 


// Rule XXXXX
// CH
// BG with an adverb and a subord. conjunction
// eg. just when the operation started
//16> BG -> adv[wh:~,degree:~], conj[sub].

//Rule 71
//Identifies subordinate conjunctions as beginnings of clauses
//All subordinate conjunctions are chunked regardless if they are followed  by a
//finite verb or not - however only those foll by an fv will combine to form an SC
//that/because/if/where/when/while/WHETHER/before/unless/although/BUT/as/so/SINCE/AFTER/
16> BG -> conj[sub:+].
//-------------------------------------------------------
//ID_Rule:156 in chunker.xip






//and/or/nor/than/either/neither/both/plus/as well as/
//need context here to allow these to be present in SCs starting with a conj sub.
//and NP{a third} FV{was} FV{freed}
//?16> BG -> conj[coord:+] |?*[comma:~,], fv|. 
//15> BG -> conj[coord:+,form:fand]. |?*, fv|. 


//INS Clause boundaries
//=====================


//Rule 72
//This category corresponds to insertions in clauses that have no finite verbs
//Rule identifies INS chunks 
// CH, (regles du NP) A VOIR SI CETTE REGLE PEUT S APPLIQUER
17> INS -> punct[form:fopar,first:+],(bg+),
           (np+), (pp+), (adv+), (verb+[partpas:+]),(conj+[coord:+]), (ap+),
           (iv+),(gv+), (prep+),(punct+[form:~fcpar]),
           punct[form:fcpar,last:+].
//-------------------------------------------------------
//ID_Rule:157 in chunker.xip




//==============================================END ID-rules==========================================

LPrules:

//(det[wh:~]), part+[first:~], (AP+), (title),(quant), (num), (dig), 
//	   	(noun+[last:~]),  (nadj+[first:~]), (adv[first:~,form:~fas]), (conj[form:fthan]),
//	   	noun[time:~,last:+].        

//10> [det:+] < [part:+]
//10> [det:+] < [adj:+]
//10> [adj:+] < [title:+]
//10> [det:+] < [quant:+]
//10> [det:+] < [num:+]
//10> [det:+] < [dig:+]
//10> [adj:+] < [noun:+]
//10> [adj:+] < [nadj:+]
//10> [adj:+] < [adv:+]
//10> [adj:+] < [conj:+]
//[punct:+,form:fcm] < [coord:+] 




// Rule XXXXX
// Adverb how before the adjective or nadj
1> [form:fhow] < [adj:+]

1> [form:fhow] < [adv:+]

// for NUMP
1> [adv:+] < [dig:+]
1> [adv:+] < [card:+]

// Rule XXXXXX
// Coordinated AP's
//5> [adj:+,last:~] < [conj:+,coord:+]
//5> [conj:+,coord:+] < [adj:+,last:+]


10> [quant:+] < [noun:+]
//Rule 1
//Prevents quants from following nouns in the same NP except when preceded by a genitive
//NP{the solitude+NOUN some+QUANT presidents} experience  - this is an elliptic issue ("that" is missing)
//!!BUT NP{The century} 's most+QUANT AP{praised} artists - This type of rule is in a different layer!
//!!The past+NADJ few+QUANT months -  these nadjs are disambiguated in disambiguation.fic
11> [quant:+] < [noun:+]



//Rule 2
//Prevents digits from following superlative quantifiers in the same NP :
//NP{the most 2 people} could handle 
//Other quantifiers may be followed by digits in NPs: NP{Some 200,000 partygoers}
11> [dig:+] < [quant:+,sup:+]




// CH
16> [adv:+] < [conj:+]


//This rule prevents "They gave NP{the Americans 72 hours} SUBCAT ISSUE?? TO GIVE SB STH
//BUT also !!NP{an August+PROPER 1988+DIG ceasefire}
//AND ! "the year 2000" 
//11> [dig:+] < [noun:+]


//A plural noun cannot be followed by a sing noun in the same NP?  Si!
//!!NP{the most AP{respected civil} rights+PL organization+SG}
//!!NP{The AP{American Civil} Liberties+PL Union+SG}
//!!NP{Juan Carlos+PLURAL Lightowler+SG Stahlberg}
//!!NP{a AP{new} sales+PL+NOUNonly tax+SG}
//!!NP{a media+PL campaign+SG}
//!!NP{the AP{official} Sudan News Agency}}
//!!NP{AP{civil} rights leader King} + NP{a AP{recent white} supremacists march}}
//!!NP{the AP{Japanese} Communications+PLURAL Satellite+SINGULAR Co. Skynet} 4 "Skynet 4"  (APPOSITION)
//NP{The 1000 AP{extra} men} Congress and NP{the city} agreed IV{to provide} -ELLIPTIC "that"!!
//NP{the decree} FV{gave}} NP{AP{former} exiles priority} -SUBCAT ISSUE??
//!!NP{The AP{Eritrean} People+PLURAL 's Liberation+SING Army+SING} SO PUT POSS NPs IN ANOTHER LAYER?
//!!1481>GROUP{SC{NP{The All-India Sikh Students} NP{Federation} TEST{claimed}  - should be STUDENT'S rather than students
//11>  [noun:+,sg:+,proper:~] < [noun:+,pl:+,proper:~]





//!!GV{honoring} NP{AP{civil} rights} NP{leader King} .
//!!NP{AP{civil} rights} NP{leader Martin Luther King Jr.}
//!!?NP{an AP{all-star} lineup AP{including} comics} NP{Jay Leno} and NP{George Carlin}
//PP{by NP{the reforms}} !!NP{AP{sweeping} Eastern Europe}//1934>GROUP{SC{NP{AP{Occasional} boos} NP{AP{also greeted} Glenn}
//PP{at NP{the Stockholm world championships}} !!AP{unleashed} NP{pent-up  !!Czechoslovak AP{political} feelings}
//NP{The Kremlin} FV{slowly achieved}} SC{NP{the results} !!NP{Brezhnev} FV{sought}}
//{NP{The 1000 AP{extra} officers} !!NP{Congress} and NP{the city} FV{have}} NFV{agreed} IV{to provide}}
//11>  [noun:+,maj:+] < [noun:+,pl:+,maj:~]


//Any need for an LP rule which states that a Quant always precedes an AP??
//!!The past+nadj few+quant weeks
//The most+quant beautiful present
//11>  [quant:+] < [adj:+]



//Do nadjs always precede adjs or VICE VERA - NO!
//the TEST{big downtown+NADJ} fireworks display
//{The TEST{new female+NADJ} doctorates
//is a nadj followed by an adj always an adj??? - NO! IT CAN BE A NOUN MODIFYING ANOTHER NOUN IN THE SAME NP
//The TEST{average+NADJ retired+ADJ} NP{worker
//{annual+NADJ presidential+ADJ} NP{salary}
//the TEST{main+NADJ stumbling+ADJ} NP{block} A NOUN MODIFYING AN ADJ?
//a TEST{three-hour riding} NP{lesson} .}  - NB "three-hour" IS NOT AN ADJ IT IS A NOUN MODIFYING THE NOUN "lesson"!
//!! 75+dig feet+noun long+nadj ifsp![NP 75 feet wide NP]
//THIS RULE HAS BEEN REPLACED BY ASSIGNING FEATURE [meas:+] TO "wide" etc
//8> [adj:+] < [noun:+]
//8> [adj:+] < [nadj:+]


//its politically NP{AP{powerful} Tamil minority}
// [adv:+] < [adj:+]     


//============================= RECONSTRUCTOR RULES ===========================

reshuffling:
//-------------------------------------------------------
//Reshuffling Rule:0 in chunker.xip





//Rule 1
//This rule enables us to include a quantifier that precedes a determiner
//which is the 1st element in an existing NP in that NP
//all NP{the people} ->  NP{all the people}//
//when a quant is an NP and is preceded by a prep then it forms a PP!!
//12> NP{quant#1[predet:+,last:+]}, NP#2{det#3,?*#4,#5[last:+]} = #2{#1,#3,#4,#5}.

12> quant#1[predet:+], NP#2{#3[det:+],?*#4,#5[last:+]} = #2{#1,#3,#4,#5}.
//-------------------------------------------------------
//Reshuffling Rule:1 in chunker.xip





// CH July 2002
// Reshuffling in order to catch in a single NP things like "twice a week"
12> adv#1[form:ftwice], NP#2{#3[det:+,indef:+], #4[noun,period]} = #2[tempexpr=+]{#1, #3, #4}.
//-------------------------------------------------------
//Reshuffling Rule:2 in chunker.xip



// CH August 2002
// Reshuffling of {more than}adv {one year}np
12> adv#1[quantadv]{quant[compar], conj[form:fthan]}, NP{num#2, ?*#3, noun#4[period,last]}
	= NP[tempexpr=+]{#1,  #2, #3, #4}.
//-------------------------------------------------------
//Reshuffling Rule:3 in chunker.xip




// TEST pour incise avec mauvais tagging
// e.g. Clones encoding homologs of bacterial FPG, designated Atfpg-1, have been isolated
18> NP#1{?[startbis]}, ?*#2[fin:~,comma:~], #3[comma], FV{#4[verb,partpas]}, ?*#5[verb:~,comma:~], #6[comma] 
	= #1, #2, #3, #4[fin=~], #5, #6 .
//-------------------------------------------------------
//Reshuffling Rule:4 in chunker.xip




//============================= SEQUENCE RULES ===========================



Sequence:
//-------------------------------------------------------
//Sequence Rule:229 in chunker.xip





//-- SENTENCE CHUNKS ---



// Rule XXXX
// CH 7th August
// Marking the SC that contains a verb introducing indirect speech eg. said when this chunk is made by a lonely NP and the verb\\
// ex. She's sick, John said.

20> SC[indspeech=+] = | punct[comma:+] |  np, fv[indspeech] | ?*[noun:~, prep:~] |.
//-------------------------------------------------------
//Sequence Rule:230 in chunker.xip


// Rule XXXXX
// CH 7th August
// Constructing an SC containing a verb introducion indirect speech with the Subject-Verb inversion
// eg. She's sick, said John.

20> SC[indspeech=+] = | punct[comma:+] | fv[indspeech], np | ?[verb:~] | .
//-------------------------------------------------------
//Sequence Rule:231 in chunker.xip


// Rule XXXX
// CH 2nd August
20> SC[wh=+] = ?[wh:+,startbis], ?*[fin:~,scbegin:~], fv.
//-------------------------------------------------------
//Sequence Rule:232 in chunker.xip



//Rule XXXXX
// CH. Essai pour mettre dans des clauses The man (I met yesterday)SC is crazy
// in order to have a parallelism with the embedded subordinate clauses introduced by a relative.
21> SC = | np | np[tempexpr:~], ?*[fin:~], fv | ?*, ?[fin:+] |.
//-------------------------------------------------------
//Sequence Rule:233 in chunker.xip
 


//Rule 1
//This rule isolates subordinate clauses introduced by relative clauses
// or 30>GROUP{SC{SC{BG{When} NP{a 1986 census} FV{showed}} 

21> SC = bg, ?*[fin:~, scbegin:~], fv.
//-------------------------------------------------------
//Sequence Rule:234 in chunker.xip



//Rule 2
//This rule also isolates subordinate clauses introduced by relative clauses but which contains an embedded clause
//previously chunked by the above identical rule
//111 said BG{that} SC{BG{if} NP{our hearts} FV{are}} AP{empty} , NP{no law} or NP{AP{political} reform} FV{can fill}
//This rule is identical to the above one but is necessary to account for recursivity 
//i.e. an SC which contains another SC.
//??NP{The woman} SC{NP{whose husband} FV{won}} NP{the lottery} FV{is} AP{happy} 
//[SC [NP The woman NP]/SUBJ  [SC [NP whose husband NP]/SUBJ :v won SC] [NP the lottery NP]/OBJ :v is SC]

22> SC = bg, ?*[fin:~, scbegin:~], fv.
//-------------------------------------------------------
//Sequence Rule:235 in chunker.xip




//Rule 3
//This rule chunks the beginning of the sentence with anything that follows
//that does NOT contain a finite verb or a BG and is followed by a finite verb.
//Instead of as "SC{The man SC{whose dog barked} is} angry."
//2136>GROUP{SC{NP{Pocatello} , NP{Idaho} , FV{had}} NP{its AP{driest} December}
// CH, 6 Aug. This rule is limited in order to avoid the construction of an SC in the case *{SC FOR WAHTEVER REASON, DON'T} BE LATE AGAIN.
// CH 7th August restriction on indspeech in order to avoid the following SC{"As a result, said John, I'm} angry
// CH 17th August added the restriction verb:~ on the first element in order to avoid
// {SC {SC They say} They meet}
23> SC = ?[wh:~,startbis:+, prep:~,verb:~], ?*[fin:~,scbegin:~,indspeech:~],  fv.
//-------------------------------------------------------
//Sequence Rule:236 in chunker.xip



// Rule XXXXXX 
// The previous rule do not construct an SC with the sequence :
// "At present, the lack of knwoledge about the factors is ...." because on the prep:~ constraint
// This rule will allow this (at present will not be within the SC...
23> SC =  pp[startbis:+], (punct[comma:+]),  np, ?*[noun]; ?*[prep], fv .
//-------------------------------------------------------
//Sequence Rule:237 in chunker.xip


//Rule 4
//imperative or subject inversion
//{SC{FV{Would}} NP{AP{nuclear} war} FV{occur}
23> SC = fv[start:+] .
//-------------------------------------------------------
//Sequence Rule:238 in chunker.xip






//Rule 5     
//CLAUSE (FCQUOTES)   COMMA	NP	FV
//MUST BE PLACED IN SAME LAYER OR AFTER START SC RULE
//23>GROUP{GV{Using} NP{AP{economic} incentives} , SC{NP{the government} FV{should encourage}}
//NP{they} FV{gave}} up , '' TEST{NP{Cruz} FV{said}}
//OK 19> SC = |?[comma:+]| np, fv.
//SC{NP{I} FV{think}} , '' NP{she} FV{said} 
// Avoid to take within a SC the last NP of a coordination without coordinator
23> SC = | ?[noun:~], ?[comma:+] | np, fv.
//-------------------------------------------------------
//Sequence Rule:239 in chunker.xip




//Rule 6 
//AND FV
//and/or/nor/than/either/neither/both/plus/as well as/
//SC{nor FV{did}} SC{NP{she} FV{say}}
//!!FV{would rejuvenate}} rather SC{than FV{weaken}} NP{communism} MAYBE ONLY ALLOW "and" AND  "or"
//ok 19> TEST = ?[form:fand], fv.
23> SC =  ?[coord:+,form:~fthan], fv.
//-------------------------------------------------------
//Sequence Rule:240 in chunker.xip




//Rule 7
//AND NP FV
//Need to prevent the "start" feature from percolating up from the coord
//as this leads to two SCs at the start of a sentence!!
//!!!!SC{and NP{launch services} FV{providedVPAP}} PP{by NP{Martin Marietta}}
// CH Added the left context on Jan 2002 in order to avoid the construction of erroneous SC
// e.g. Whether you come late *SC(or not remains) uncertain
// Problem "As the competition heats up, the implications for borrowers *(SC and investors are) enormous. See reshuffling
// But is good for "I really like the borrowers and the sky is blue." in order to avoid to coordinate borrowers and sky
23> SC = |  ?[verb:~] | ?[coord:+], ?[verb:~], fv .
//-------------------------------------------------------
//Sequence Rule:241 in chunker.xip





// Rule XXXX


// Rule XXXXX
// CH. Treating embedded subclauses that are not introduced by any BG. Eg. He told mary he was sick
24> SC = | SC[wh:~], np | np, fv .
//-------------------------------------------------------
//Sequence Rule:242 in chunker.xip
 

// Rule XXXXX
// Building an SC on the right of another SC.
// e.g. She said she is sick
// Can contain the adverb too between commas is between the subject and the fv
24> SC = | SC[wh:~,sc_s] |  np, (punct[comma], adv[form:ftoo], punct[comma]), fv .
//-------------------------------------------------------
//Sequence Rule:243 in chunker.xip


// Repeating the same rule in order to apply it more than once
// e.g. They indicated they knew they were receiving stolen property.
// NOTE: we suppose that we will not have more than three SC following each other....may be wrong
25> SC = | SC[wh:~,sc_s] |  np, (punct[comma], adv[form:ftoo], punct[comma]), fv.
//-------------------------------------------------------
//Sequence Rule:244 in chunker.xip
 


// CH
24> SC = np[startbis], pp*, sc, fv .
//-------------------------------------------------------
//Sequence Rule:245 in chunker.xip


// Rule XXXXXX
//CH. Test pour extraire des sous-clauses
/ au moins un verbe a gauche puis prend le SC \
// EN COURS \\

//25> TEST = |?*[verb:~], SC, ?*[verb:~]| SC, ?*[verb:~, comma:~] |punct[sent]| .

//25> TEST = |?*[verb:~], SC, ?*[verb:~]| SC, ?*[verb:~, comma:~] || .

//25> TEST = |?*[verb:~], ?[verb], ?*[verb:~]| SC, ?*[verb:~, comma:~] | SC | .

//25> TEST = |SC, ?*[verb:~,comma:~]| punct[comma:+], ?*, punct[comma:+] | SC | .

//25> TEST = |SC, ?*[verb:~,comma:~]| punct[comma:+], ?*, punct[comma:+] |punct[sent]| .

//25> TEST = |SC, ?*[verb:~,comma:~]| punct[comma:+], ?*, punct[comma:+] || .


//CHECK 782 IN IFSP 979 1059
//!!959>GROUP{SC{`` NP{I} FV{'m}} AP{optimistic} TEST{NP{we} FV{can make}} NP{that world}
// PP{of NP{harmony}} NP{we} TEST{NP{all} FV{want}} .}  [SC  
//!![NP _I NP]/SUBJ :v don't know SC]  [SC [NP what NP]/SUBJ [NP they NP]/N :v are basing SC]  that on .
//19> TEST = np, fv.
// They FV{agreed}} TEST{NP{the AP{Indian} troops} FV{would leave}} 210>GROUP
//!!{SC{NP{It} FV{might make}} TEST{NP{people} FV{think}} PP{about NP{it}} SUBCAT ISSUE?
//!!SC{NP{Caller} NP{ID} simply FV{lets}} TEST{NP{them} FV{see}}SUBCAT ISSUE?
//[SC  [NP _Caller ID NP]/SUBJ simply :v lets SC] [NP them NP]/N ![NP see NP]/OBJ
//CHECK AGAIN!! - SHOULD THIS BE IN A LATER LAYER? OR SAME LAYER AS SC START SO FV CAN BE USED? 
//19> TEST = |fv| np, fv.
//IS IT NECESSARY TO CAPTURE PERSONAL PRON NPS FROM OTHER NP FVS???
//!!SC{FV{can}} TEST{NP{we} FV{have}}  ALLOW AUX FEATURE TO PERCOLATE TO FVs?? 
//OK 19> TEST =  np[personal:+,nom:+], fv.
//!!TEST{NP{a AP{40-room} mansion} FV{crammed}} PP{with NP{AP{valuable} paintings}} 
//*20> SC = np, fv.



//19> TEST = (?[form:fcquotes]), ?[comma:+], (?[form:fcquotes]), (?*[fin:~, scbegin:~, punct:~]), ?[comma:+], (?*[fin:~, scbegin:~, punct:~]), ?[comma:+],  fv.
//MUST BE PLACED AFTER THE SC RULE WITH COORD??
//check against above rule maybe the above rule should be placed after this one or merged??
//20> TEST = (?[form:fcquotes]), ?[comma:+], (?[form:fcquotes]), (?*[fin:~, scbegin:~]), fv.



//COMMA FV
//PUT IN A LATER LAYER!
//, said NP{Coast Guard AP{Petty} Officer}
//!!the ousted president , Nicolae Ceasescu , told the military tribunal .
//21> TEST = |?[comma:+]| fv.

//FV
//123>GROUP{SC{NP{The challenges} NP{we} FV{face}} today !FV{are} no NP{less}


//30> TEST = np .

//-------------------------- SEQUENCE MARKING RULES ---------------------------------------


//These rules are used to add or remove features from specific nodes using context

//This rule would assign the feature time to any category bearing the feature period
//when it is preceded by a category containing the feature preperiod but not if there's a det
//!!PP{of NP{the AP{next}}} NP{century} .
//6> ?[period:+] =  |?[det:~], ?[preperiod:+]| noun[time=+].





//------------------------ RESHUFFLING of the final chunked tree -----------------------------------

// CH, Juillet le reshuffling ne marche plus !!!!!! Voir avec Claude.

reshuffling:
//-------------------------------------------------------
//Reshuffling Rule:4 in chunker.xip



// CH - Nov 2002
// An NP + PP[of][tempexpr]{?*, ?[last, form:fago] (e.g. A quarter of century ago) va etre reforme en
// NP { a quarter of century ago}
40> NP{#1,#2}, PP[tempexpr]{#3[form:fof], NP#6{NP{#4[first,last]},adv#5[form:fago,last]} } =
	NP#6{#1,#2, #3, #4, #5} .
//-------------------------------------------------------
//Reshuffling Rule:5 in chunker.xip




// CH - October 2002
// When a word has been guessed as NADJ, is at the end of the chunk tree and is preceeded by a NP
// Then we include this NADJ in the NP with the noun tag
// e.g. He was known {PP as {NP a master}} {AP bombmaker(guessed NADJ)}
// VOIR AVEC CLAUDE (detruit tout ce qui est #2)
//40> PP{#1[prep], NP{?+#2}}, AP{#3[guess,noun,adj]}, #4[end] = 
//	PP{#1, NP{#2, #3[adj=~]}}, #4 .

// Solution alternative qui marche
40> PP{#1[prep], NP{#5, ?*#6, #7}}, AP{#3[guess,noun,adj]}, #4[end] = 
	PP{#1, NP{#5,#6,#7, #3[adj=~]}}, #4 .
//-------------------------------------------------------
//Reshuffling Rule:6 in chunker.xip


// MISTAGGING




// CH August 2002
// Simple clause with two verbs...One of them is mistagged
// If the first verb is non-ambiguously a finite verb and if the second one can be a adjectival ppart,
// Then the error is corrected
40> SC#1{?*[scbegin:~,wh:~], FV[indspeech:~]}, ?*#2[verb], NP#3, PP*#4, FV{#5[first,last,partpas,hmm_adj]} = 
	#1, #2, #3, #4, AP{adj#5[adj=+]} .
//-------------------------------------------------------
//Reshuffling Rule:7 in chunker.xip




// CH July 2002
// Bad disambiguation of ING form in interrogative clauses.
// e.g. When is John leaving(*noun) ?
40> SC#1[wh], NP{#3, #4[noun,vprog]}, #5[punct,form:fquest] =
	#1, NP{#3[last=+]}, GV{verb#4[noun=~,verb=+]}, #5 .
//-------------------------------------------------------
//Reshuffling Rule:8 in chunker.xip


// CH
// Duplication when there is a determiner before the #3 noun
40> SC#1[wh], NP{#6, #3, #4[noun,vprog]}, #5[punct,form:fquest] =
	#1, NP{#6, #3[last=+]}, GV{verb#4[noun=~,verb=+]}, #5 .
//-------------------------------------------------------
//Reshuffling Rule:9 in chunker.xip



// CH March 2002
// Reshuffling in case of bad disambiguation of BUT
// If an NP which head is a pronoun with feature form:pronthing is on the left of a "but" that is tagged as conjunction and if after this "but" we have no verbs or a verb that is introduced by a conjunction
// Then we rebuild the tree in order to make a PP with the "but" and the following NP
// e.g. Echo "I want nothing but a sailor" 
//40> NP#1{pron[form:pronthing]}, BG{CONJ#2[form:fbut]}, NP#3, #4*[verb:~] =
//	#1, PP{prep#2[conj=~,hmm_prep=~,hmm_cosub=+,prep=+], #3}, #4 .


// CH 
// When "but" is tagged as a subord. conjunction but is in fact a coordinator just between two PP's that are introuduced by the same preposition and not followed by a verb
// John is not the creator of the sculpture but of the painting
//40> PP#1{prep#6, NP}, BG{CONJ#2[form:fbut]}, PP#3{prep#7,NP}  = 
40> PP#1{prep#6, NP}, BG{CONJ#2[form:fbut]}, PP#3{prep#7,NP}, ?*#4[verb:~], ?#5[end]  = 
	#1, conj#2[prep=~,coord=+], #3, #4, #5, 
	where ( #6[form]::#7[form] ) .
//-------------------------------------------------------
//Reshuffling Rule:10 in chunker.xip



// CH
// Reshuffling in case of a bad disamb of "but" when "but" is tagged as a preposition and does not follow any "pronthing.
// e.g. The creator is not John but a sailor."
//40> NP#1{?*,?[last,form:~pronthing]}, PP{prep#2[form:fbut], NP#3}, #4[verb:~] =
//	#1, conj#2[prep=~,coord=+], #3, #4 .


// EN COURS BUT comme conjonction de coord
40> NP#1{?*,?[last,form:~pronthing]}, PP{prep#2[form:fbut], NP#3}, #4[verb] =
	#1, SC{ BG{conj#2[prep=~,subord=+]}, #3, #4} .
//-------------------------------------------------------
//Reshuffling Rule:11 in chunker.xip




// Bad tagging noun/verb
// If we have a NP in which the determiner is an indefinite singular article and the head is a plural noun which can be a verb, then this plural noun is mistagged and is in fact a finite present verb
// e.g. A large current flows in the river
40> PP{ prep#6, NP{det#1[sg:+,indef:+], AP*#2, noun*#3, noun#5, #4[noun,last,pl:+,hmm_verb:+]}} = 
	PP{ #6, NP{#1,#2,#3,#5[last=+]}}, FV{verb#4[noun=~,verb=+,sg=+,pres=+,trans=+]} .
//-------------------------------------------------------
//Reshuffling Rule:12 in chunker.xip


// Same as above with NP
40> NP{det#1[sg:+,indef:+], AP*#2, noun*#3, noun#5, #4[noun,last,pl:+,hmm_verb:+]} = 
	NP{#1,#2,#3,#5[last=+]}, FV{verb#4[noun=~,verb=+,sg=+,pres=+,trans=+]} .
//-------------------------------------------------------
//Reshuffling Rule:13 in chunker.xip



// If a NP starts with a determiner (sing, indefinite) or definite, then followed by a singular noun, then followed by a plural noun (ambiguous verb) then followed by a singular noun, then the plural noun inbetween is a verb
// e.g. The/A cat drinks milk
40> NP{det#1[sg:+], AP*#2, noun#3[sg:+,pl:~], noun#4[sg:~,pl:+], noun#5[sg:+,pl:~,last]} =
	NP{#1,#2,#3[last=+]}, FV{verb#4[last=+]}, NP{#5} .
//-------------------------------------------------------
//Reshuffling Rule:14 in chunker.xip











// CH 31th August
// COORDINATION



// Adjustment of the chunks in order to be able to catch some coordination cases.
// e.g. When did Spain and Korea restart ambassadorial relations
// One SC {When did} and another SC {Korea restart} are constructed and so it will be impossible to treat this coordination.
40> SC#1{?[wh,startbis],FV}, NP#2{?[proper]}, SC{#3[form:fand], NP#4{?[proper]}, FV#5} = 
		  #1, #2, #3, #4, IV#5.
//-------------------------------------------------------
//Reshuffling Rule:15 in chunker.xip



// CH Jan. 2003
// Coordination. The default that is make in chunking is to consider a coordination on the higher level in case of 
// coord ?*[verb:~], fv in the middle of a sentence. (e.g. An SC is constructed in these cases)
// Example: He likes her mother and her mother likes him. where this analysis is correct in order to avoid COORD(mother,mother)
// But sometimes the analysis is not correct as in "As the competition heats up, the implications for investors *(SC and borrowers are enormous).
40> SC#1, ?*#2[verb:~], PP#3{?*,NP{?*[det:~],noun[pl]}}, SC{#5[conj,coord], NP#6{noun[pl]}, FV#7} = 
	#1, #2, #3, #5, #6, #7 .
//-------------------------------------------------------
//Reshuffling Rule:16 in chunker.xip


// CH
// Same as above with coordinated NP (and not PP, NP)
// 40> SC#1, ?*#2[verb:~], NP#3{?*[det:~],noun[pl]}, SC{#5[conj,coord], NP#6{noun[pl]} FV#7} = 
// 	#1, #2, #3, #5, #6, #7 .


// Coordination of simple finite verbs
// {SC the woman ate} {SC and smiled} --> 2 SC are constructed and we want only one. {SC The woman {FV ate and smiled}}
//40> SC#1{?*#6, FV#2{verb#3}}, SC{#4[form:fand], FV{verb#5} } =
//	 #1{#6, #2{#3,#4,#5} }
// PB. Claude regarde 31 aout.




// Adjustement AP/NP because of Nadjs in order to avoid to duplicate all rules (AP with a nadj head can work as NP)
// If we have a SC in which we have a AP which last element is a nadj and which have no NP, Then we change the chunk AP to chunk NP
// e.g. "As {AP russians(nadj)} are nice..." we want "Russians" to be within a NP 
40> SC{?*#1[adj:~,noun:~], AP{?*#2,nadj#5[last]}, ?*#3[noun:~], FV#4[last] } =
	SC{ #1, NP{#2,#5}, #3, #4}.
//-------------------------------------------------------
//Reshuffling Rule:17 in chunker.xip
 



// reshuffling rules for disambiguation. When it is easier to disambiguate when structures are already constructed.

// CH Feb. 4
// Adjustements in case of a bad disambiguation N(sg)/V(pres,pl)
// When we have alone in a NP chunk a Plural noun followed by a singular noun with feature hmm_verb, AND if this NP chunk is preceeded by a conjunction of subordination 
// then the second noun is in fact a verb
// e.g. I will not wait, WHILE DANGERS GATHER
40> BG#1{conj[sub,last]}, NP{ #2[noun,pl], #3[noun,sg,hmm_verb,last]} =
	SC[verb=+]{ #1, NP{#2[last=+]}, FV{ verb#3[noun=~,sg=~,first=+,verb=+,pres=+]} }.
//-------------------------------------------------------
//Reshuffling Rule:18 in chunker.xip




//40> NP{ #1[noun,pl,first], #2[hmm_verb,noun,sg], #3, ?*#4 } =
//	SC[verb=+]{ NP{#1[last=+]}, FV{ verb#2[noun=~,sg=~,first=+,verb=+,pres=+, last=+]} }, NP {#3, #4} .



// Same as above when the bad disambiguated NP contains only 2 elements 
// e.g. Dogs bark
40> NP{ #1[noun,pl,first], #2[hmm_verb,noun,sg,last]} =
	SC[verb=+]{ NP{#1[last=+]}, FV{ verb#2[noun=~,sg=~,first=+,verb=+,pres=+, last=+]} }.
//-------------------------------------------------------
//Reshuffling Rule:19 in chunker.xip




// CH Same as above when the NP contains 3 or more elements
//Cats drink milk
// Women use support features 
40> NP{ #1[noun,pl,first,toutmaj:~], #2[hmm_verb,noun,sg], #3, ?-#4 } =
	SC[verb=+]{ NP{#1[last=+]}, FV{ verb#2[noun=~,sg=~,first=+,verb=+,pres=+, last=+]} }, NP {#3, #4} .
//-------------------------------------------------------
//Reshuffling Rule:20 in chunker.xip



// CH, 11th December
// Adjustments in case of a bad disambiguation N/V(pres)
// If we have a NP in which the last element is ambiguous N/V[pres] followed by an adverb followed by something which is not a verb then the last element is a verb and not a noun
// e.g. The dog barks loudly
40> NP{?*#3[noun:~], #4[noun];AP#4{nadj[first,last]}, #5[noun,hmm_verb]}, #6[adv], #7[verb:~] =
	SC[verb=+]{ NP{#3, #4[last=+]}, FV{ verb#5[noun=~,verb=+,pres=+,first=+]}}, #6, #7 .
//-------------------------------------------------------
//Reshuffling Rule:21 in chunker.xip




// CH, 11th December
// Duplication of the previous rule when the adverb is the last element of the sentence (not ending with a dot
40> NP{?*#3[noun:~], #4[noun];AP#4{nadj[first,last]}, #5[noun,hmm_verb]}, #6[adv,end] =
	SC[verb=+]{ NP{#3, #4[last=+]}, FV{ verb#5[noun=~,verb=+,pres=+,first=+]}, #6} .
//-------------------------------------------------------
//Reshuffling Rule:22 in chunker.xip



// CH, 11th December
// Adjustments in case of a bad disambiguation Noun/Verb
// If we have a sentence (ending with a end-of-sentence marker) which is made only by a NP in which the last N has feature hmm_verb, then the last element of the NP is a verb
// e.g. The dog barks.
40> NP[startbis]{ ?*#1[noun:~], #2[noun:+,sg];AP#2{nadj[first,last,sg]}, #3[noun,hmm_verb,last,pl]}, punct#4[sent,end] = 
	SC[verb=+]{ NP{#1, #2[last=+]}, FV{ verb#3[noun=~,verb=+,pres=+,first=+]} }, #4 .
//-------------------------------------------------------
//Reshuffling Rule:23 in chunker.xip



// CUCAR - PROBLEME : John loves Mary; he really loves her. Disparait un bout
// CH, 17th May
// Bad disambiguation Noun/Verb
// If we have an ambiguous Npl/Verb tagged as NPl that is between two proper nouns, then we consider that the Npl, is in fact a verb in present, singular form.
// checked in Brown corpus...
// e.g. Peter orders Mary ....
//40> NP{ #1[noun,proper], #2[noun,pl,hmm_verb,last]}, NP#3{ ?[proper,noun]} =
//	SC[verb=+]{ NP{#1[last=+]}, FV{ verb#2[noun=~,verb=+,pres=+,sg=+,first=+,last=+]} }, #3 .


// CH 5th Feb.
// Disambiguation Noun/Verb
// If we have a sentence (ending with a end-of-sentence marker) which is made by 
// A proper noun + a noun without capital letter that is ambiguous verb and has a plural form + A proper noun
// Then we consider that the second lexical element is a finite verb in present
40> NP[startbis]{#1[noun:+,proper:+], #2[noun:+,pl:+,proper:~,hmm_verb]}, NP#3{noun[first,last,proper]}, punct#4[sent,end] =
	SC[verb=+]{NP{#1[last=+]}, FV[last=+]{verb#2[noun=~,verb=+,pres=+,first=+,trans=+]} }, #3, #4.
//-------------------------------------------------------
//Reshuffling Rule:24 in chunker.xip




// EN COURS .... REGLE NE S'APPLIQUE PAS

// CH, March 2002
// "Mutation affected by multiplication is rare."
// affected is taken as a FV and so an SC is constructed above "Mutation affected"
// reshuffling in this case in order to have an SC above "Mutation affected by multiplication is"
// We check that the past participle does not have the feature sc_pby (subcategorization of a by-complement)
// Check if we have to put a constraint start on the first SC
40>  SC{?*#5[verb:~], NP#1, PP*#6, FV{verb#2[partpas,sc_pby:~]}}, PP#3{prep[form:fby]}, FV#4 =
	SC[verb=+]{#5, NP#1, #6, verb#2[adj=+], PP#3, FV#4} .
//-------------------------------------------------------
//Reshuffling Rule:25 in chunker.xip




// CH, Feb. 2003
// Bad disambiguation Finite-Verb Past-Participlr
40> #6[verb], ?*#5[verb:~],IV#1{prep[form:finfto], verb[last]}, NP#2{?[noun,proper:~]}, FV{verb#3[first,last,partpas]}, NP#4 = 
	#6, #5, #1, #2, verb#3[adj=+], #4 .
//-------------------------------------------------------
//Reshuffling Rule:26 in chunker.xip

	
40> #6[verb], ?*#5[verb:~],IV#1{prep[form:finfto], verb[last]}, NP#2{?*,?}, FV{verb#3[first,last,partpas]}, NP#4 = 
	#6, #5, #1, #2, verb#3[adj=+], #4 .
//-------------------------------------------------------
//Reshuffling Rule:27 in chunker.xip



// Finite preterite verb vs. past participle
40> SC#1[startbis]{?{?[first:+,wh:~]}}, #2[noun], FV{(adv#5),verb#3[last,partpas]}, #4?-  = 
	#1,#2, #5, verb#3[adj=+], #4.
//-------------------------------------------------------
//Reshuffling Rule:28 in chunker.xip

ÿ
//-------------------------------------------------------
//Deduction Rule:0 in toy_dependencies.xip

 | NOUN#2[org]| 
        ORGANISATION(#2)

 |
//-------------------------------------------------------
//Deduction Rule:1 in toy_dependencies.xip
 NOUN#2[bus,ambig:~]| 
        ORGANISATION(#2)

 

 |
//-------------------------------------------------------
//Deduction Rule:2 in toy_dependencies.xip
 NOUN#2[person]| 
        PERSON(#2)

 |
//-------------------------------------------------------
//Deduction Rule:3 in toy_dependencies.xip
 NOUN#2[proper,celeb,toutmaj:~]| 
        PERSON(#2)

// |DIG#2[year,percent:~]|
     //   YEAR(#2)

 |
//-------------------------------------------------------
//Deduction Rule:4 in toy_dependencies.xip
NOUN#1[quoted]| 
        QUOTED_ELEMENT(#1)

 |
//-------------------------------------------------------
//Deduction Rule:5 in toy_dependencies.xip
NOUN#2[city,ambig:~]|    
        LOCATION[city=+](#2)

 |
//-------------------------------------------------------
//Deduction Rule:6 in toy_dependencies.xip
NOUN#2[country,ambig:~]|
        LOCATION[country=+](#2)
  
 |
//-------------------------------------------------------
//Deduction Rule:7 in toy_dependencies.xip
NOUN#2[address,mwe]|
        LOCATION[address=+](#2)

  |
//-------------------------------------------------------
//Deduction Rule:8 in toy_dependencies.xip
NOUN#2[place,country:~,city:~,address:~,ambig:~,abr:~]|
        LOCATION(#2)

 |
//-------------------------------------------------------
//Deduction Rule:9 in toy_dependencies.xip
NOUN#1{?*,NOUN#2}|
        if(^LOCATION(#2) & LOCATION(#1))
        ~
 ||
//-------------------------------------------------------
//Deduction Rule:10 in toy_dependencies.xip
DIG#2[date,mwe]|
          TEMPEXPR[date=+](#2)

 |
//-------------------------------------------------------
//Deduction Rule:11 in toy_dependencies.xip
NOUN#2[date,proper:~]|
        TEMPEXPR[date=+](#2)

 |
//-------------------------------------------------------
//Deduction Rule:12 in toy_dependencies.xip
NOUN#1[phone]|
        PHONE(#1)

 |
//-------------------------------------------------------
//Deduction Rule:13 in toy_dependencies.xip
NOUN#1[url]|
        URL(#1)

 |
//-------------------------------------------------------
//Deduction Rule:14 in toy_dependencies.xip
NOUN#1[email]|
        EMAIL(#1)

|
//-------------------------------------------------------
//Deduction Rule:15 in toy_dependencies.xip
NOUN#1[hour]|
        HOUR(#1)

// |NP#1[tempexpr,date:~]{?[first,tempexpr:~]} |
    //    TEMPEXPR(#1)

|
//-------------------------------------------------------
//Deduction Rule:16 in toy_dependencies.xip
NOUN#1[event]|
        EVENT(#1)

|
//-------------------------------------------------------
//Deduction Rule:17 in toy_dependencies.xip
NOUN#1[law]|
        LAW(#1)


|
//-------------------------------------------------------
//Deduction Rule:18 in toy_dependencies.xip
NOUN#1[hour]|
        HOUR(#1)

//|NP#1[tempexpr]|
  //      TEMPEXPR(#1)

 |
//-------------------------------------------------------
//Deduction Rule:19 in toy_dependencies.xip
PP#1[tempexpr]|
        TEMPEXPR(#1)


 |
//-------------------------------------------------------
//Deduction Rule:20 in toy_dependencies.xip
NUM#1[mwe,card,money:~]|
        COMPLEXNUM(#1)

// just a money dig
// pb with multiple extraction

 |
//-------------------------------------------------------
//Deduction Rule:21 in toy_dependencies.xip
DIG#2[money];NOUN#2[money];NUM#2[money]|
        MONEY(#2)

// percentages 

  |
//-------------------------------------------------------
//Deduction Rule:22 in toy_dependencies.xip
NUM#1{DIG,NOUN[percent:+]}|
        PERCENT(#1)

//2% to 3%
  |
//-------------------------------------------------------
//Deduction Rule:23 in toy_dependencies.xip
DIG#1{DIG[percent:+]}|
        PERCENT(#1)

  |
//-------------------------------------------------------
//Deduction Rule:24 in toy_dependencies.xip
DIG#1[percent:+]|
        PERCENT(#1)

  |
//-------------------------------------------------------
//Deduction Rule:25 in toy_dependencies.xip
DIG#1{?*,DIG#2[percent:+]}|
        if (^PERCENT(#2) & PERCENT(#1))
        ~
// units like 346 km/h

 ||
//-------------------------------------------------------
//Deduction Rule:26 in toy_dependencies.xip
NOUN#1[mwe,unit]|
        UNIT(#1)


 |
//-------------------------------------------------------
//Deduction Rule:27 in toy_dependencies.xip
NOUN#1[firstname,hmm_verb:~,hmm_vbi:~,hmm_vbpap:~,hmm_vbpast:~,hmm_vbprog:~,
         hmm_vpap:~,hmm_vpast:~,hmm_noun:~,hmm_aux:~,hmm_adj:~,hmm_nadj:~,fam:~,misc:~,place:~]|
        PERSON(#1)
	



// DELETIONS

|
//-------------------------------------------------------
//Deduction Rule:28 in toy_dependencies.xip
NOUN#1{?+,NOUN#2},?*|
        if (^PERSON(#2) & PERSON(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:29 in toy_dependencies.xip
NOUN#1{?*,NOUN#2,?+}|
        if (^PERSON(#2) & PERSON(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:30 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^ORGANISATION(#2) & ORGANISATION(#1))
        ~
||
//-------------------------------------------------------
//Deduction Rule:31 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^ORGANISATION(#2) & ORGANISATION(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:32 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & ORGANISATION(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:33 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^LOCATION(#2) & ORGANISATION(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:34 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^PERSON(#2) & ORGANISATION(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:35 in toy_dependencies.xip
PP#1{?*,NP#2{?*,NOUN#3[tempexpr]}}|
        if (^TEMPEXPR(#3) & TEMPEXPR(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:36 in toy_dependencies.xip
PP#1{?*,NP#2[tempexpr]}|
        if (^TEMPEXPR(#2) & TEMPEXPR(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:37 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & PERSON(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:38 in toy_dependencies.xip
NOUN#1{?*,NOUN#2[unit]}|
        if(^UNIT(#2) & UNIT(#1))
        ~

  ||
//-------------------------------------------------------
//Deduction Rule:39 in toy_dependencies.xip
NOUN#1{NOUN#3[unit],NOUN#2[unit]}|
        if (^UNIT(#2) & ^UNIT(#1))
        ~

  ||
//-------------------------------------------------------
//Deduction Rule:40 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if(^LOCATION(#2) & QUOTED_ELEMENT(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:41 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^PERSON(#2) & PERSON(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:42 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & PERSON(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:43 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^LOCATION(#2) & PERSON(#1))
        ~

 ||
//-------------------------------------------------------
//Deduction Rule:44 in toy_dependencies.xip
NOUN#1{?+,NOUN#2,?+}|
        if (^QUOTED_ELEMENT(#2) & PERSON(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:45 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^LOCATION(#2) & EVENT(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:46 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^LOCATION(#2) & LAW(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:47 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & EVENT(#1))
        ~


 ||
//-------------------------------------------------------
//Deduction Rule:48 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & LAW(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:49 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^LOCATION(#2) & ORGANISATION(#1))
        ~

||
//-------------------------------------------------------
//Deduction Rule:50 in toy_dependencies.xip
NOUN#1{?+,NOUN#2}|
        if (^PERSON(#2) & ORGANISATION(#1))
        ~
||
//-------------------------------------------------------
//Deduction Rule:51 in toy_dependencies.xip
NOUN#1{NOUN#2,?+}|
        if (^PERSON(#2) & LOCATION(#1))
        ~
// a complex noun
// |NOUN#2[money]|
 //       MONEY(#2)


//| NP#2{?*,#1[last]} |
//	HEAD(#1,#2)
//
//| NP#2{?*,AP#1,#3[last]}|
//        MOD_PRE(#3,#1)
//
//
//| SC[start]{?*,NP#3, FV{?*,#2[last]}} |
//	if ( HEAD(#1,#3) )
//	SUBJ(#2,#1)
//
//| SC{?*, FV{?*,#1[last]}}, NP#3 |
//	if ( HEAD(#2,#3) )
//	OBJ(#1,#2)
//
//| SC{?*, FV#2{?*,#1[last]}} |
//        MAIN_VERB(#1)
//
//if ( SUBJ(#1,#2) & OBJ(#1,#3) )
//	SUBJOBJ(#2,#3)
//
//if ( SUBJ(#1,#2) | OBJ(#1,#3) )
//	HAS_ARG(#1)
//
//
//// Lexical disambiguation test 
//
////| #2[lemme:happy],  #1[lemme:person] |
// // if (MOD_PRE(#1,#2)) 
// //       CONTEXT_TR_FR(#2,#2)


// TEST for location 


//| NOUN#1[location:+]  |
//        LOCATION(#1)

//| ?#1[mwe:+] |
//        MWE(#1)



ÿ: