
RCS file: /opt/ParSem/cvs_repo/parSem/xip/dev/src/traitement.cxx,v
Working file: traitement.cxx
head: 1.114
branch:
locks: strict
access list:
symbolic names:
	XIP-10-00-B10-tmp: 1.114
	XIP-9-67-B27-tmp: 1.113
	XIP-9-67-B26-tmp: 1.113
	XIP-9-67-B22-tmp: 1.113
	XIP-9-67-B21-tmp: 1.113
	XIP-9-67-B20-tmp: 1.113
	XIP-9-67-B19-tmp: 1.113
	XIP-9-67-B18-tmp: 1.113
	XIP-9-67-B16-tmp: 1.113
	XIP-9-67-B14-tmp: 1.113
	XIP-9-67-B13-tmp: 1.113
	XIP-9-67-B11-tmp: 1.112
	XIP-9-67-B10-tmp: 1.112
	XIP-9-67-B7-IDS-correctionBug: 1.111
	XIP-9-67-B7-Shourya-Roy-xerox: 1.111
	XIP-9-67-B7-tmp: 1.111
	XIP-9-67-B6-tmp: 1.111
	XIP-9-67-B5-tmp: 1.110
	XIP-9-67-B4-tmp: 1.110
	XIP-9-67-B3-tmp: 1.110
	XIP-9-66-B25-IDS: 1.110
	XIP-9-66-B25-tmp: 1.110
	XIP-9-66-B24-SemanticTransformation-AnniRowlandCampbell: 1.110
	XIP-9-66-B24-NunoMamede-dec2009: 1.110
	XIP-9-66-B24-universiteStendhal-decenbre2009: 1.110
	XIP-9-66-B24-LIMSI-decembre-2009: 1.110
	XIP-9-66-B24-Ubidocs-ChrisHolmes: 1.110
	XIP-9-66-B24-tmp: 1.110
	XIP-9-66-B22-tmp: 1.110
	XIP-9-66-B18-IIT-Bombay: 1.108
	XIP-9-66-B18-tmp-IIT-Bombay: 1.108
	XIP-9-66-B18-tmp: 1.108
	XIP-9-66-B17-tmp: 1.108
	XIP-9-66-B14-IDS: 1.108
	XIP-9-66-B14-univer-Reims: 1.108
	XIP-9-66-B14-tmp: 1.108
	XIP-9-66-B12-tmp: 1.107
	XIP-9-66-B8-tmp: 1.104
	XIP-9-66-B6-tmp: 1.104
	XIP-9-65-B45-UniversityMunster: 1.99
	XIP-9-65-B45-tmp: 1.99
	XIP-9-65-B42-Cental: 1.99
	XIP-9-65-B42-tmp: 1.99
	XIP-9-65-B41-astonUniversity: 1.98
	XIP-9-65-B41-tmp: 1.98
	XIP-9-65-B39-tmp: 1.98
	XIP-9-65-B34-tmp: 1.98
	XIP-9-65-B31-tmp: 1.97
	XIP-9-65-B30-tmp: 1.97
	XIP-9-65-B19-tmp: 1.95
	XIP-9-65-B18-tmp: 1.95
	XIP-9-65-B16-tmp: 1.94
	XIP-9-65-B14-tmp: 1.94
	XIP-9-65-B13-tmp: 1.94
	XIP-01230-01230-B01230-tmp: 1.94
	XIP-9-65-B11-tmp: 1.94
	XIP-9-65-B9-tmp: 1.93
	XIP-9-64-B15-tmp: 1.92
	XIP-9-64-B14-tmp: 1.91
	XIP-9-64-B11-tmp: 1.91
	XIP-9-64-B9-tmp: 1.91
	XIP-9-64-B8-tmp: 1.91
	XIP-9-64-B7-tmp: 1.91
	XIP-9-64-B4-tmp: 1.91
	XIP-9-64-B1-tmp: 1.90
	XIP-9-63-B107-tmp: 1.88
	XIP-9-63-B106-tmp: 1.88
	XIP-9-63-B104-tmp: 1.88
	XIP-9-63-B103-tmp: 1.88
	XIP-9-63-B95-tmp: 1.85
	XIP-9-63-B94-tmp: 1.84
	XIP-9-63-B92-tmp: 1.84
	XIP-9-63-B91-tmp: 1.84
	XIP-9-63-B90-universiteMadrid: 1.83
	XIP-9-63-B90-Celi: 1.83
	XIP-9-63-B90-ISQ: 1.83
	XIP-9-63-B90-tmp: 1.83
	XIP-9-63-B89-tmp: 1.83
	XIP-9-63-B88-GETALP: 1.83
	XIP-9-63-B88-tmp: 1.83
	XIP-9-63-B87-tmp: 1.83
	XIP-9-63-B86-tmp: 1.83
	XIP-9-63-B85-tmp: 1.83
	XIP-9-63-B83-tmp: 1.83
	XIP-9-63-B82-tmp: 1.83
	XIP-9-63-B81-tmp: 1.83
	XIP-9-63-B80-tmp: 1.83
	XIP-9-63-B79-tmp: 1.83
	XIP-9-63-B76-tmp: 1.82
	XIP-9-63-B75-tmp: 1.82
	XIP-9-63-B74-tmp: 1.82
	XIP-9-63-B72-tmp: 1.82
	XIP-9-63-B68-Celi: 1.78
	XIP-9-63-B68-tmp: 1.78
	XIP-9-63-B67-tmp: 1.77
	XIP-9-63-B66-tmp: 1.77
	XIP-9-63-B65-tmp: 1.77
	XIP-9-63-B63-tmp: 1.77
	XIP-9-63-B62-tmp: 1.77
	XIP-9-63-B60-tmp: 1.77
	XIP-9-63-B59-tmp: 1.76
	XIP-9-63-B58-tmp: 1.74
	XIP-9-63-B56-tmp: 1.74
	XIP-9-63-B55-tmp: 1.74
	XIP-9-63-B54-tmp: 1.74
	XIP-9-63-B53-tmp: 1.74
	XIP-9-63-B52-tmp: 1.74
	XIP-9-63-B51-tmp: 1.74
	XIP-9-63-B50-tmp: 1.73
	XIP-9-63-B47-tmp: 1.73
	XIP-9-63-B46-tmp: 1.73
	XIP-9-63-B44-tmp: 1.73
	XIP-9-63-B43-tmp: 1.73
	XIP-9-63-B41-tmp: 1.73
	XIP-9-63-B40-Nuno: 1.73
	XIP-9-63-B40-tmp: 1.73
	XIP-9-63-B37-tmp: 1.73
	XIP-9-63-B36-Sigrid-Nuno: 1.72
	XIP-9-63-B36-tmp: 1.72
	XIP-9-63-B35-tmp: 1.72
	XIP-9-63-B33-Thales-Codex-NunoMamede: 1.72
	XIP-9-63-B33-tmp: 1.72
	XIP-9-63-B32-Thales: 1.72
	XIP-9-63-B32-tmp: 1.72
	XIP-9-63-B30-tmp: 1.72
	XIP-9-63-B27-NUNO: 1.72
	XIP-9-63-B27-tmp: 1.72
	XIP-9-63-B26-CODEX: 1.72
	XIP-9-63-B26-tmp: 1.72
	XIP-9-63-B25-tmp: 1.72
	XIP-9-63-B23-tmp: 1.72
	XIP-9-63-B22-tmp: 1.72
	XIP-9-63-B21-tmp: 1.72
	XIP-9-63-B20-tmp: 1.72
	XIP-9-63-B19-tmp: 1.72
	XIP-9-63-B17-tmp: 1.72
	XIP-9-63-B16-tmp: 1.72
	XIP-9-63-B15-Codex: 1.72
	XIP-9-63-B15-tmp: 1.72
	XIP-9-63-B11-tmp: 1.69
	XIP-9-63-B9-tmp: 1.69
	XIP-9-63-B8-tmp: 1.69
	XIP-9-63-B7-tmp: 1.69
	XIP-9-63-B3-tmp: 1.66
	XIP-9-62-B39-tmp: 1.65
	XIP-9-62-B38-CODEX: 1.65
	XIP-9-62-B38-tmp: 1.65
	XIP-9-62-B37-tmp: 1.65
	XIP-9-62-B36-tmp: 1.65
	XIP-9-62-B35-codex: 1.65
	XIP-9-62-B35-tmp: 1.65
	XIP-9-62-B34-tmp: 1.65
	XIP-9-62-B33-tmp: 1.65
	XIP-9-62-B32-tmp: 1.65
	XIP-9-62-B20-tmp: 1.65
	XIP-9-62-B16-tmp: 1.65
	XIP-9-62-B09-tmp: 1.65
	XIP-9-62-B07-tmp: 1.65
	XIP-9-62-B05-tmp: 1.65
	XIP-9-62-B03-tmp: 1.65
	XIP-9-62-B01-tmp: 1.65
	XIP-9-61-B23-tmp: 1.65
	XIP-9-61-B22-tmp: 1.65
	XIP-9-61-B21-codex: 1.65
	XIP-9-61-B21-tmp: 1.65
	XIP-9-61-B20-tmp: 1.65
	XIP-9-61-B19-tmp: 1.65
	XIP-9-61-B18-tmp: 1.64
	XIP-9-61-B18-nunoMamede: 1.64
	XIP-9-61-B16-tmp: 1.64
	XIP-9-61-B15-tmp: 1.64
	XIP-9-61-B13-tmp: 1.64
	XIP-9-61-B12-tmp: 1.64
	XIP-9-61-B9-tmp: 1.64
	XIP-9-61-B1-tmp: 1.64
	XIP-9-60-B44-NunoMamede: 1.64
	XIP-9-60-B44: 1.64
	XIP-9-60-B44-tmp: 1.64
	XIP-9-60-B43-tmp: 1.64
	XIP-9-60-B42-tmp: 1.64
	XIP-9-60-B41-tmp: 1.64
	XIP-9-60-B40-tmp: 1.63
	XIP-9-60-B39-tmp: 1.63
	XIP-9-60-B38-tmp: 1.63
	XIP-9-60-B25-tmp: 1.59
	XIP-9-60-B24-tmp: 1.59
	XIP-9-60-B23-tmp: 1.59
	XIP-9-60-B22-tmp: 1.58
	XIP-9-60-B20-tmp: 1.57
	XIP-9-60-B19-tmp: 1.57
	XIP-9-60-B18-tmp: 1.57
	XIP-9-60-B16-tmp: 1.55
	XIP-9-60-B15-tmp: 1.54
	XIP-9-60-B12-tmp: 1.51
	XIP-9-60-B11-tmp: 1.51
	XIP-9-60-B10-for-NunoMamede: 1.51
	XIP-9-60-B10-tmp: 1.51
	XIP-9-60-B08-tmp: 1.51
	XIP-9-60-B05-tmp: 1.51
	XIP-9-59-B63-tmp: 1.50
	XIP-9-59-B62-tmp: 1.50
	XIP-9-59-B61-tmp: 1.49
	XIP-9-59-B60-tmp: 1.48
	XIP-9-59-B59-tmp: 1.48
	XIP-9-59-B58-tmp: 1.48
	XIP-9-59-B57-tmp: 1.48
	XIP-9-59-B56-tmp: 1.48
	XIP-9-59-B55-tmp: 1.48
	XIP-9-59-B54-tmp: 1.47
	XIP-9-59-B50-tmp: 1.46
	XIP-9-59-B48-tmp: 1.45
	XIP-9-59-B47-tmp: 1.45
	XIP-9-59-B46-tmp: 1.44
	XIP-9-59-B43-tmp: 1.44
	XIP-9-59-B40-tmp: 1.44
	XIP-9-59-B39-tmp: 1.44
	XIP-9-59-B38-tmp: 1.44
	XIP-9-59-B36-tmp: 1.44
	XIP-9-59-B34-tmp: 1.44
	XIP-9-59-B33-tmp: 1.44
	XIP-9-59-B32-tmp: 1.44
	XIP-9-59-B31-tmp: 1.44
	XIP-9-59-B30-tmp: 1.43
	XIP-9-59-B28-tmp: 1.43
	XIP-9-59-B25-tmp: 1.43
	XIP-9-59-B24: 1.43
	XIP-9-59-B24-for-ketady: 1.43
	XIP-9-59-B24-tmp: 1.43
	XIP-9-59-B23-tmp: 1.43
	XIP-9-59-B14-tmp: 1.43
	XIP-9-59-B13-for-MitchellGarnaat-GE: 1.43
	XIP-9-59-B13-tmp: 1.43
	XIP-9-59-B12-tmp: 1.42
	XIP-9-59-B12-For-KETADY: 1.42
	XIP-9-59-B12: 1.42
	XIP-9-59-B10: 1.42
	XIP-9-59-B8: 1.42
	XIP-9-59-B7: 1.42
	XIP-9-59-B6: 1.42
	XIP-9-59-B5-for-universityOttawa: 1.42
	XIP-9-59-B5: 1.42
	XIP-9-59-B4: 1.42
	XIP-9-59-B3: 1.41
	XIP-9-58-B83: 1.40
	XIP-9-58-B81: 1.39
	XIP-9-58-B80: 1.38
	XIP-9-58-B75: 1.38
	XIP-9-58-B74: 1.38
	XIP-9-58-B73: 1.38
	XIP-9-58-B72: 1.38
	XIP-9-58-B70: 1.38
	XIP-9-58-B69: 1.38
	XIP-9-58-B68: 1.37
	XIP-9-58-B67: 1.37
	XIP-9-58-B66: 1.36
	XIP-9-58-B65: 1.36
	XIP-9-58-B64: 1.36
	XIP-9-58-B63: 1.36
	XIP-9-58-B62: 1.35
	XIP-9-58-B61: 1.35
	XIP-9-58-B60: 1.35
	XIP-9-58-B58: 1.35
	XIP-9-58-B57: 1.34
	XIP-9-58-B56: 1.34
	XIP-9-58-B54: 1.34
	XIP-9-58-B51: 1.34
	XIP-9-58-B50: 1.34
	XIP-9-58-B49: 1.34
	XIP-9-58-B47: 1.34
	XIP-9-58-B46: 1.34
	XIP-9-58-B45: 1.34
	XIP-9-58-B42: 1.33
	XIP-9-58-B41: 1.33
	XIP-9-58-B40: 1.33
	XIP-9-58-B39: 1.33
	XIP-9-58-B38: 1.32
	XIP-9-58-B34: 1.32
	XIP-9-58-B33: 1.32
	XIP-9-58-B32: 1.32
	XIP-9-58-B30: 1.30
	XIP-9-58-B29: 1.30
	XIP-9-58-B28: 1.29
	XIP-9-58-B27: 1.29
	XIP-9-58-B25: 1.28
	XIP-9-58-B24: 1.28
	XIP-9-58-B23: 1.27
	XIP-9-58-B22: 1.27
	XIP-9-58-B21: 1.27
	XIP-9-58-B20: 1.26
	XIP-9-58-xx: 1.17
	XIP-9-58-B9: 1.17
	xip-9-58-B9: 1.17
	xx: 1.16
	Xip9-57ForILSP: 1.16
keyword substitution: kv
total revisions: 114;	selected revisions: 114
description:
----------------------------
revision 1.114
date: 2010/05/21 14:54:13;  author: roux;  state: Exp;  lines: +2 -0


Version 10.10

Avec le compilateur KIF
----------------------------
revision 1.113
date: 2010/03/10 14:00:36;  author: mchartie;  state: Exp;  lines: +6 -6
Bit shifting for consts declaration
----------------------------
revision 1.112
date: 2010/03/05 12:49:09;  author: mchartie;  state: Exp;  lines: +65 -39
Added support for passage XML format output
----------------------------
revision 1.111
date: 2010/02/05 12:42:29;  author: roux;  state: Exp;  lines: +4 -0

Build 6

Rajout des instructions: xmlattributes et tokenizeattribute.
Nous avons aussi modifie l'affectation du champ xmlnoeud dans ListVoc. Desormais, l'affectation de ce champ a lieu dans desamb.cxx et dans les fichiers de type tokenization.
----------------------------
revision 1.110
date: 2009/11/24 16:15:13;  author: roux;  state: Exp;  lines: +10 -5

Build 22
On renvoie aussi la chaine produite par la generation
----------------------------
revision 1.109
date: 2009/11/24 13:00:13;  author: roux;  state: Exp;  lines: +2 -5

Build 21

Rajout d'une methode pour le traitement de la generation avec un xipresult. De plus, dans le cas d'une analyse
d'un fichier contenant des lectures ambigues (avec les tabs), on renvoie une exception en cas d'erreur, pas un exit
----------------------------
revision 1.108
date: 2009/10/13 08:04:07;  author: roux;  state: Exp;  lines: +1 -1


On rajoute l'affichage controle des chaines de generation
----------------------------
revision 1.107
date: 2009/10/09 09:15:58;  author: roux;  state: Exp;  lines: +1 -1


Mauvais placement du cout<<Endl
----------------------------
revision 1.106
date: 2009/10/06 10:05:28;  author: roux;  state: Exp;  lines: +49 -31


Rajout des variables de type string dep$;
----------------------------
revision 1.105
date: 2009/10/06 07:43:00;  author: roux;  state: Exp;  lines: +25 -13

Build 12

Rajout des variables string ## et string #
----------------------------
revision 1.104
date: 2009/09/14 14:02:49;  author: roux;  state: Exp;  lines: +1 -1

Valeur par defaut dans baseregle fausse
----------------------------
revision 1.103
date: 2009/09/14 13:19:40;  author: roux;  state: Exp;  lines: +1 -1

Build 4

Correction d'un bug. On a rajoute un flag premier a recherche de facon a eviter que aR a NULL ne signifie plus premiere analyse. Dans certains cas cela pouvait conduire a des boucles infinies.
----------------------------
revision 1.102
date: 2009/09/14 09:21:38;  author: roux;  state: Exp;  lines: +5 -5

Build 3

Nous modifions le calcul des poids en le deplacant en amont de l'application de la grammaire.
----------------------------
revision 1.101
date: 2009/09/11 09:32:47;  author: roux;  state: Exp;  lines: +1 -0


Rajout de compteur au niveau de baseregle et sauvegarde dans le fichier des probas.
----------------------------
revision 1.100
date: 2009/09/11 09:19:29;  author: roux;  state: Exp;  lines: +110 -21

9.66 build 1

Rajout des mecanismes d'apprentissage automatique dans XIP
----------------------------
revision 1.99
date: 2009/06/10 15:26:58;  author: roux;  state: Exp;  lines: +2 -1


Build 42

Nous exportons aussi les variables STRING dans les traits de TOP
----------------------------
revision 1.98
date: 2009/04/17 09:54:02;  author: roux;  state: Exp;  lines: +4 -1

On rajoute l'option -tl nb pour les arbres de generation
----------------------------
revision 1.97
date: 2009/04/07 10:43:16;  author: roux;  state: Exp;  lines: +21 -2


On peut desormais afficher l'arbre de generation
----------------------------
revision 1.96
date: 2009/04/06 17:25:29;  author: roux;  state: Exp;  lines: +126 -123

Build 20

Correction dans la lecture d'un fichier de dependance. Les num_noeud etaient mal calcules
----------------------------
revision 1.95
date: 2009/04/03 14:32:22;  author: roux;  state: Exp;  lines: +5 -2


Build 18

Rajout de la possibilite d'utiliser les regles d'ordre pour controler la position du rajout d'un NODE dans l'arbre de generation.
Correction d'un bug dans les XIPTRANS sur les separateurs seuls non declares
----------------------------
revision 1.94
date: 2009/03/19 16:41:45;  author: roux;  state: Exp;  lines: +1 -1

Build 10

Modification du comportement des regles de generation. Il est desormais possible de placer ailleurs un noeud grace au variable $x
----------------------------
revision 1.93
date: 2009/03/18 16:35:07;  author: roux;  state: Exp;  lines: +75 -20


9.65 build 7

Fichiers modifies pour l'integration de la generation.
----------------------------
revision 1.92
date: 2009/03/04 14:22:22;  author: roux;  state: Exp;  lines: +27 -10


Build 15
Desormais un contexte gauche peut etre ajoute aux regles de vocabulaire
----------------------------
revision 1.91
date: 2009/02/19 10:44:50;  author: roux;  state: Exp;  lines: +5 -0


Build 3

Rajout de RegularBoundaries, ou la chaine de fin de phrase est sous la forme d'une expression reguliere
----------------------------
revision 1.90
date: 2009/02/16 16:16:38;  author: roux;  state: Exp;  lines: +0 -1


On retire le break pour que les regles de FeatureDefinition s'appliquent toutes
----------------------------
revision 1.89
date: 2009/02/16 15:09:59;  author: roux;  state: Exp;  lines: +10 -1


Build 9.64.1

Rajout de la notion de FeatureDefinition dans un fichier de traduction pour permettre de rajouter des traits a la volee pour une lecture donnee
----------------------------
revision 1.88
date: 2008/12/12 14:15:27;  author: roux;  state: Exp;  lines: +3 -2


Modification de SetLowerCase pour integrer un test sur le traitement du lemme et de la surface
----------------------------
revision 1.87
date: 2008/12/12 14:02:36;  author: roux;  state: Exp;  lines: +15 -8


Build 98

On a rajoute des methodes supplementaires pour cacher les variables de GlobalParseur par des accesseurs dont le nom
est en anglais.
----------------------------
revision 1.86
date: 2008/12/12 10:05:06;  author: roux;  state: Exp;  lines: +33 -16


Build 97

Rajout des methodes CategorySplitProcessing et HMMInsertionProcessing qui permettent de gerer les traits de decoupage. La fonction ListeTagsRAZ permet aussi d'initialiser une ancienne variable locale devenu variable d'objet: readingposition qui est utilise par ces deux methodes.
----------------------------
revision 1.85
date: 2008/12/08 09:09:51;  author: roux;  state: Exp;  lines: +3 -1


Build 95

Mauvaise initialisation de num_mot pour les tokens exploses
----------------------------
revision 1.84
date: 2008/12/01 10:21:19;  author: roux;  state: Exp;  lines: +0 -2

Build 91
Retrait de XIPLIGHT
Rajout de la cible: XIPFSTAT64 pour compiler les fstats
----------------------------
revision 1.83
date: 2008/10/01 15:21:31;  author: roux;  state: Exp;  lines: +1 -0


Build 78

Rajout d'une numerotation correcte des noeuds dans le cas d'une explosion d'une chaine.
----------------------------
revision 1.82
date: 2008/08/27 12:15:07;  author: roux;  state: Exp;  lines: +1 -4


Build 72

On rajoute le champ initialfeatures dans XipLeaf
----------------------------
revision 1.81
date: 2008/08/21 15:58:42;  author: roux;  state: Exp;  lines: +8 -0


Dans le cas d'un decoupage en TOK, le trait HMMSELECTION n'etait pas correctement initialisee sur le premier element du TOK...
----------------------------
revision 1.80
date: 2008/08/21 13:04:34;  author: roux;  state: Exp;  lines: +3 -37


Build 70

Rajout des regles: TokenSelection
----------------------------
revision 1.79
date: 2008/08/20 15:13:33;  author: roux;  state: Exp;  lines: +56 -10


Build 69

Correction d'un bug. Dans certain cas dans la fonction AppliqueDI, la position du dernier element pouvait varier. Un element entre temps pouvait avoir ete rajoute ou retire. On recalcule donc cette position.

De plus on ordonne maintenant les lectures pour que celle-ci ne soit plus tributaire des FSTs
----------------------------
revision 1.78
date: 2008/07/30 13:35:15;  author: roux;  state: Exp;  lines: +12 -3


Build 68

Le tableau pileDeMots n'etait pas reinitialisee entre deux traitements.
----------------------------
revision 1.77
date: 2008/07/08 09:03:57;  author: roux;  state: Exp;  lines: +0 -1


Build 60

Correction de l'extraction des regles d'un fichier qui plantait pour les regles PL
----------------------------
revision 1.76
date: 2008/07/07 16:13:32;  author: roux;  state: Exp;  lines: +1 -1


Correction d'un bug de compilation. On ne peut envoyer un os.str() comme valeur a une fonction qui attend un string&
----------------------------
revision 1.75
date: 2008/07/07 16:09:34;  author: roux;  state: Exp;  lines: +116 -0


Build 59

Rajout du -diff
----------------------------
revision 1.74
date: 2008/06/09 16:36:41;  author: roux;  state: Exp;  lines: +5 -1

Build 51

Nous avons corrige un bug dans le traitement du choix de la langue au vol.
Dans un cas precis, l'index de la grammaire courante n'etait pas initialisee... En effet, a la fin du chargement de la deuxieme grammaire, le index courant etait initialisee sur celle-ci, alors que le pointeur courant etait pointe sur la premiere instance.
----------------------------
revision 1.73
date: 2008/03/04 10:17:12;  author: roux;  state: Exp;  lines: +1 -1


Build 37

L'instruction de liberation de la memoire pour un "doc" xml est xmlFreeDoc, et non xmlFree, ce qui
empechait toute liberation de la memoire
----------------------------
revision 1.72
date: 2007/12/05 16:00:04;  author: roux;  state: Exp;  lines: +0 -1
Un affichage de trop...
----------------------------
revision 1.71
date: 2007/11/29 13:58:56;  author: roux;  state: Exp;  lines: +4 -3
Build 14

Petite modification pour pouvoir compiler sans les FSTs.
----------------------------
revision 1.70
date: 2007/11/28 16:52:42;  author: roux;  state: Exp;  lines: +188 -109

Build 12


Modification du language guesser qui repose maintenant sur une multiple analyse morphologique.
Desormais, la langue pour laquelle le pourcentage de mots inconnus est la plus faible
est choisie...
----------------------------
revision 1.69
date: 2007/11/21 17:26:40;  author: roux;  state: Exp;  lines: +10 -1

Build 6

Build 6

Dans le cas d'un HMM le parse final impose de devoir vider la pile d'appel. Nous avons
donc ajoute la methode ParseFinale. Cette methode par defaut ne fait qu'analyser le contenu
de phrase. En mode HMM, elle vide aussi les buffers.
----------------------------
revision 1.68
date: 2007/11/21 17:04:04;  author: roux;  state: Exp;  lines: +3 -1
Build 5

Rajout d'une variable num_token pour permettre la correction d'un bug dans le rajout
d'une balise en mode token. Le probleme est que la creation des ListeVoc n'est pas
synchrone avec l'appel de AddToken en mode HMM...
Nous utilisons donc une nouvelle variable pour anticiper cette numerotation.
----------------------------
revision 1.67
date: 2007/11/21 15:17:11;  author: roux;  state: Exp;  lines: +44 -1
Modification  de la sauvegarde en mode XML (option -xml). Desormais, on passe par libxml...
----------------------------
revision 1.66
date: 2007/11/16 09:32:56;  author: roux;  state: Exp;  lines: +18 -19
Version 9.63 build 1

Modification assez profonde du code:
	Remplacement de la majorite des tableaux de char par des objets string
	Disparition de la majorite des static, au sein des methodes et fonctions
----------------------------
revision 1.65
date: 2007/04/20 09:55:03;  author: roux;  state: Exp;  lines: +4 -2

Build 19

Rajout des variables pour controler les boucles des methodes d'application des automates de regle
----------------------------
revision 1.64
date: 2007/03/21 17:04:01;  author: roux;  state: Exp;  lines: +2 -0
num_phrase est raz pour chaque nouvelle analyse.
----------------------------
revision 1.63
date: 2007/03/01 15:33:42;  author: roux;  state: Exp;  lines: +1 -0
Par defaut la fonction testEspaceRegle doit renvoyer OUI...
----------------------------
revision 1.62
date: 2007/03/01 15:14:03;  author: roux;  state: Exp;  lines: +10 -9
Desormais on active aussi les noeuds inferieurs dans les espaces de regle. De plus, on rajoute la notion de full pour reactiver les noeuds superieurs dans un free...
----------------------------
revision 1.61
date: 2007/03/01 15:03:26;  author: roux;  state: Exp;  lines: +2 -1
Il faut aussi activer les fils, lors d'une reactivation...
----------------------------
revision 1.60
date: 2007/03/01 14:24:17;  author: roux;  state: Exp;  lines: +29 -25
Correction du fonctionnement des rulespace. La classe rulespace est desormais associe a un Booleen qui definit si elle est active ou non.
Cela remplace le vecteur de rulespace: regleinactives...
----------------------------
revision 1.59
date: 2007/02/19 13:23:26;  author: roux;  state: Exp;  lines: +6 -4
Petite erreur dans le positionnement de TasDeListeVoc. En effet, dans phrase les elements n'ont pas forcement une valeur de position dans l'ordre. Il faut donc pointer sur l'element le plus petit pour initialiser TasDeListeVoc correctement...
----------------------------
revision 1.58
date: 2007/02/16 17:42:16;  author: roux;  state: Exp;  lines: +2 -1
Lors de l'utilisation d'une tokenization (presencetoken==OUI), le num_mot n'est plus modifie
----------------------------
revision 1.57
date: 2007/02/13 15:04:34;  author: roux;  state: Exp;  lines: +16 -3
a) Les traits majuscule et toutmaj ne deviennent permanent que s'ils sont declares comme tel par l'utilisateur
b) On fusionne desormais les traits permanents dans tousTraits (voir traitement.cxx: ConsListePhraseAvecDesamb)
----------------------------
revision 1.56
date: 2007/02/13 12:51:42;  author: roux;  state: Exp;  lines: +600 -604
Tous ces fichiers ont vu leur entete modifie pour rajouter le copyright 2007
De, plus cette nouvelle version de XIP introduit la notion de trait permanent.
----------------------------
revision 1.55
date: 2007/02/12 10:44:25;  author: roux;  state: Exp;  lines: +1 -3
Nous avons modifie le fonctionnement des attributions de ListeVoc. Desormais, on teste pendant la recherche des ListeVoc ceux qui n'ont pas le valeur OUI pour reutiliser. De plus, nous avons rajoute un champ position pour garder la trace de la position d'un element au sein de TadDeListeVoc, ce qui permet de se positionner sur le premier element disponible.
TasDeListeVoc.dernier est donc initialise avec la valeur de position.
----------------------------
revision 1.54
date: 2007/02/09 15:10:15;  author: roux;  state: Exp;  lines: +3 -3
Petite erreur idiote...
En fait reutiliser ne doit pas etre remis a jour avec les mots que l'on a consomme dans la phrase mais avec ceux qu'ils restent a consommer.
Par consequent, on modifie la valeur des elements dans phrase, une fois les autres elements retrouves.
----------------------------
revision 1.53
date: 2007/02/09 13:52:31;  author: roux;  state: Exp;  lines: +6 -1
Correction d'un bug. Lorsque dans un lexique XIP, une entree etait decrite comme un remplacement total (un ecrasement), les traits de balises etaient perdus dans le processus. On les reinjecte maintenant pour les conserver (modification dans GlobalParseur::TestLexique)
----------------------------
revision 1.52
date: 2007/02/09 10:21:30;  author: roux;  state: Exp;  lines: +62 -58
Nous avons modifie le comportement des regles de decoupage en phrase (split rules). Desormais, lorsque ces regles sont utilisees, XIP accumule en memoire un nombre maximum de mots (borne par la valeur de maxword dans le fichier english.xip ou maxmot pour le francais). Une fois, le nombre maximum de mots accumule, XIP applique les regles de split. Puis il retire les mots deja utilises et recommence a accumuler des mots supplementaires.
----------------------------
revision 1.51
date: 2007/01/18 14:12:24;  author: roux;  state: Exp;  lines: +83 -0
Rajout des methodes suivantes pour gerer les rule space:

a) testEspaceRegle qui permet de verifier si une regle n'appartient pas a un espace de regle bloque
b) rulespace::chaine qui renvoie la chaine correspondant a un rule space donne
c) desactiveEspaceRegle range dans espaceregleinactif les espaces de regle bloques
d) reactiveEspaceRegle retire de espaceregleinactif les espaces de regle
c) regleEspaceRegle renvoie le pointeur sur un element de la hierarchie des espaces de regle en fonction d'une chaine de caracteres.
----------------------------
revision 1.50
date: 2007/01/12 12:33:32;  author: roux;  state: Exp;  lines: +9 -0
On tient compte dans AnalyseForme du fait que quatre valeurs d'offset ont pu etre transmises au lieu de deux precedemment.
----------------------------
revision 1.49
date: 2007/01/10 09:40:53;  author: roux;  state: Exp;  lines: +6 -1
Nous gerons de plus des  offsets de caracteres
----------------------------
revision 1.48
date: 2006/11/20 13:38:40;  author: roux;  state: Exp;  lines: +4 -0
Maj des pointeurs utilises pour les goto dans Detruit
----------------------------
revision 1.47
date: 2006/11/08 10:55:48;  author: roux;  state: Exp;  lines: +6 -0
On initialise le trait noambiguity des l'entree dans l'analyse...
----------------------------
revision 1.46
date: 2006/10/27 07:21:21;  author: roux;  state: Exp;  lines: +2 -0
Desormais le trait MAJ n'est pas donne lorsque la chaine comprend un chiffre...
----------------------------
revision 1.45
date: 2006/10/18 12:53:58;  author: roux;  state: Exp;  lines: +3 -0
Integration de la gestion de la variable inedx_parseur_courant qui est utilise dans la gestion memoire des ramassages
----------------------------
revision 1.44
date: 2006/09/25 08:55:48;  author: roux;  state: Exp;  lines: +1 -1
Le raz de gBaliseSansFin etait fait lors l'application de la section Initial de la grammaire, soit apres que l'analyse ait deja commence... Cela entrainait une raz du contenu de gBaliseSansFin apres l'analyse de la premiere phrase.
----------------------------
revision 1.43
date: 2006/08/08 14:30:42;  author: roux;  state: Exp;  lines: +3 -2
Correction d'un bug pour CategoryDefiniation. Le raz de vlex.initiaux se faisait sans tester si initiaux etait a NULL...
----------------------------
revision 1.42
date: 2006/05/29 09:04:59;  author: roux;  state: Exp;  lines: +10 -14
Il y avait deux erreurs:

Erreur 1: Dans EndOFSentence, le rangement des mots dans reste_phrase se faisait a l'envers
Erreur 2: Dans NettoiePhrase, on testait la possibilite d'une fin de phrase lors du passage des categories de reste_phrase a phrase. En fait, lorsque une fin de phrase etait detectee, cela conduisait a perdre des elements. Nous avons deplace le test dans Parse, avec comme contrainte que l'on soit en fin d'analyse et qu'il y ait des regles de decoupe.
----------------------------
revision 1.41
date: 2006/05/24 12:12:27;  author: roux;  state: Exp;  lines: +5 -3
Correction d'un bug. La renumerotation des mots etait mal faite lors de l'utilisation des regles de decoupage. Nous avons corrige ce probleme en renumerotant systematiquement dans ConsListePhraseAvecDesamb, dans la boucle iph...
----------------------------
revision 1.40
date: 2006/05/17 09:14:33;  author: roux;  state: Exp;  lines: +27 -25
Les regles de decoupe s'appliquent desormais depuis le debut de la phrase.
----------------------------
revision 1.39
date: 2006/05/16 15:25:27;  author: roux;  state: Exp;  lines: +8 -6
dans traitement.cxx, on retire nombre d'heuristique dans le decoupage en phrase
----------------------------
revision 1.38
date: 2006/04/05 14:07:08;  author: roux;  state: Exp;  lines: +4 -4
Les tests sur la conversion utf8 sont faits avec encodage_source et non encodage_courant
----------------------------
revision 1.37
date: 2006/03/31 08:55:45;  author: roux;  state: Exp;  lines: +3 -30
Suppression de l'appel a ExtraitVocabulaire.
----------------------------
revision 1.36
date: 2006/03/24 09:15:41;  author: roux;  state: Exp;  lines: +4 -4
Remplacement du test dans traitement.cxx sur l'encodage source par l'encodage courant. C'est l'encodage courant qui definit l'encodage des lemmes et des formes de surface, non l'encodage source..
----------------------------
revision 1.35
date: 2006/03/09 14:56:05;  author: roux;  state: Exp;  lines: +1 -2
Modification dans l'affichage avec l'option DESAMBIGUISATION + AFFICHAGECOMPLET
----------------------------
revision 1.34
date: 2006/02/23 14:54:14;  author: roux;  state: Exp;  lines: +20 -2
Dans LexiconEntryParsing, nous testons maintenant les valeurs de encodage_source et encodage_grammaire.

les cas suivants peuvent se poser:
	1) la source est en UTF8 et l'encodage de la grammaire est en UTF8: on ne fait rien
	2) la source est en ISO et l'encodage de la grammaire est en ISO: on ne fait rien
	3) la source est en UTF8 et l'encodage de la grammaire est en ISO: on convertit vers ISO
	4) la source est en ISO et l'encodage de la grammaire est en UTF8: on convertit vers UTF8
----------------------------
revision 1.33
date: 2006/02/17 12:31:07;  author: roux;  state: Exp;  lines: +5 -2
On compte le nombre de ponctuation.
----------------------------
revision 1.32
date: 2006/02/08 10:40:48;  author: roux;  state: Exp;  lines: +22 -1
Dans NettoiePhrase, on remet a jour la liste des TasDeListeVoc lorsqu'il y a des elements en suspend dans reste_phrase. Cette mise-a-jour est effectuee pour eviter que cette liste n'enfle demesurement. Dans un premier temps, on retire de cette liste les elements presents dans reste_phrase, puis on applique un nettoyage general et on reinjecte en tete les elements de reste_phrase dans TasDeListeVoc, de cette facon, on s'assure que la liste ne contienne que les elements necessaires et que la position de son curseur interne ne soit pas a vingt valeurs de la. Le risque, sinon, c'est que les phrases aient en permanence des elements en attente sans que jamais on ne passe par TasDeListeVoc, ce qui pourrait declencher un derapage incontrole de ce vecteur.
----------------------------
revision 1.31
date: 2006/02/08 09:33:23;  author: roux;  state: Exp;  lines: +10 -4
Nous rajoutons le test dans endOfSentence du where pour les regles de decoupe.
----------------------------
revision 1.30
date: 2006/02/06 16:45:36;  author: roux;  state: Exp;  lines: +7 -0
Rajout du mode outc qui utilise printf au lien de cout...
----------------------------
revision 1.29
date: 2006/02/03 10:29:09;  author: roux;  state: Exp;  lines: +3 -1
On effectue un flush sur os, apres l'affichage des resultats.
----------------------------
revision 1.28
date: 2006/01/27 12:36:49;  author: roux;  state: Exp;  lines: +37 -7
On tient compte d'une possible conversion vers utf8 grace a l'utilisation de ConversionChaine.
La methode ConversionChaine est desormais defini dans ce fichier. Elle tient compte de la valeur de AFFICHAGE_UTF8 pour ses conversions...
----------------------------
revision 1.27
date: 2006/01/19 15:28:44;  author: roux;  state: Exp;  lines: +19 -17
Les cerr sont remplaces par des flot_erreur...
----------------------------
revision 1.26
date: 2006/01/16 13:22:14;  author: roux;  state: Exp;  lines: +18 -20
Dans ConsListePhraseAvecDesamb, les traits n'etaient recopies que pour le premier element, ce qui evidemment est une erreur...
----------------------------
revision 1.25
date: 2006/01/16 09:02:53;  author: roux;  state: Exp;  lines: +2 -1
Il y avait une petite erreur dans LexiconEntryParse. Il faut n'initialiser poslecture qu'une fois...
----------------------------
revision 1.24
date: 2006/01/13 16:03:22;  author: roux;  state: Exp;  lines: +170 -101
Modification profonde du comportement du decoupage en categories...

Tout d'abord nous avons mise-a-jour ListeTagAjouter qui fonctionne de facon plus logique et plus simple qu'avant.
Deuxiemement, le fonctionnement du decoupage en categorie est beaucoup plus complexe maintenant. Nous considerons desormais une telle decomposition comme une chaine potentielle de ListeVoc. Autrement dit, lorsque un mot est ambigu entre plusieurs lectures dont certaines introduisent un decoupage en categories supplementaires, nous placons dans le vecteur suivants associe au premier element, la suite potentielle des categories qui peuvent suivre. Si en cours de desambiguisation, le systeme choisie une entree ambigue comprenant des elements chaines dans vecteur, ces elements sont rajoutes a la volee dans la phrase courante. Si en revanche, on choisit l'entree qui ne correspond qu'a une seule categorie, on retire les elements qui auraient pu avoir ete rajoutes par avant.
Ces modifications ont conduit a la creation de EclateVoc qui permet l'eclatement d'une entree en plusieurs categories et qui effectue la construction de la chaine potentielle de categorie. La modification de la liste de categories est faite dans analyse.cxx dans choixCategorie.
Il y aussi un impact sur ConsListePhraseAvecDesamb qui doit desormais tenir compte de la presence de ces categories. Les methodes de desambiguisation ont ete aussi modifiees en consequence de meme que ListeVoc qui comprend maintenant deux nouveaux champs: suivants (le tableau des elements suivants) et suivant pour les chainer.
----------------------------
revision 1.23
date: 2006/01/12 09:38:30;  author: roux;  state: Exp;  lines: +8 -0
Nous rajoutons trois nouveaux traits: tokenstart,tokenend et tokeninter qui sont utilises lors du decoupage des categories...
----------------------------
revision 1.22
date: 2006/01/11 15:30:58;  author: roux;  state: Exp;  lines: +67 -27
AnalyseForme, ConstruitForme ont ete modifiees pour tenir compte des tokens devant etre divises en plusieurs noeuds syntaxiques. Nous avons rajoute en particulier une methode ConstruitUneForme qui reprend le code ancien de ConstruitForme. ConstruitForme detecte en revanche la presence d'un decoupage grace a la valeur de nb_lectures et construit alors plus d'une categorie si necessaire.
----------------------------
revision 1.21
date: 2006/01/10 13:21:11;  author: roux;  state: Exp;  lines: +6 -9
Modification de la gestion des ListeVoc, avec introduction de la variable de classe GlobalParseur: TasDeListeVoc.
Les methodes suivantes ont ete rajoutes fournirListeVocVide,fournirListeVoc, nettoyerListeVoc dans GlobalParseur...
----------------------------
revision 1.20
date: 2006/01/04 08:59:21;  author: roux;  state: Exp;  lines: +2 -1
minuscule retourne maintenant la chaine modifiee...
----------------------------
revision 1.19
date: 2006/01/03 11:03:38;  author: roux;  state: Exp;  lines: +40 -25
Il est desormais possible de rajouter aux regles de traduction, des regles de definition de categories. Ces regles ne s'appliquent que si a l'issue d'une analyse (voir AnalyseForme), aucune categorie n'est trouvee. Le systeme utilise alors ces regles (mot clef: categorydefinition) dont le type est le suivant:

categorydefinition:

[traits] = cat[traits].
----------------------------
revision 1.18
date: 2006/01/02 09:37:41;  author: roux;  state: Exp;  lines: +28 -36
Les automates des expressions complexes ne sont plus geres sous la forme d'un vecteur d'automate mais sous la forme d'un seul automate.
----------------------------
revision 1.17
date: 2005/11/18 15:40:07;  author: roux;  state: Exp;  lines: +4 -0
Nettoyage de phrasefictifs qui garde la trace des noeuds fictifs crees
----------------------------
revision 1.16
date: 2005/10/25 08:40:57;  author: roux;  state: Exp;  lines: +13 -18
Desormais les numeros de noeuds et les offsets sont tous calcules en meme temps.
----------------------------
revision 1.15
date: 2005/10/04 13:41:16;  author: roux;  state: Exp;  lines: +2 -1
Pas de modif...
----------------------------
revision 1.14
date: 2005/09/29 08:39:12;  author: roux;  state: Exp;  lines: +1 -0
Un break etait manquant dans le traitement des balises commutateurs, d'ou erreur...
----------------------------
revision 1.13
date: 2005/09/27 08:31:18;  author: roux;  state: Exp;  lines: +1 -1
dans lireligne, le second parametre n'est plus un size_t mais un unsigned int pour garder la coherence avec variables.h... Cette modif permet aussi de compiler sous macintosh...
----------------------------
revision 1.12
date: 2005/09/21 09:37:16;  author: roux;  state: Exp;  lines: +14 -12
On protege l'acces aux NoeudsLexicaux. Le tableau peut etre vide...
----------------------------
revision 1.11
date: 2005/09/15 09:31:04;  author: roux;  state: Exp;  lines: +1 -1
NoeudsTemporaires n'est pas un pointeur.
----------------------------
revision 1.10
date: 2005/09/15 09:27:16;  author: roux;  state: Exp;  lines: +2 -1
Nous avons rajoute un tableau de NoeudsFictifs dans lequel sont stockes ces noeuds lors de la creation de la dependance associee... De cette facon, pour un noeud fictif nous pouvons quand meme le recuperer dans un appel python sur son simple index... Ce tableau est remis a zero dans ce fichier, en meme temps que TasDelistes son jumeau...
----------------------------
revision 1.9
date: 2005/09/15 08:54:47;  author: roux;  state: Exp;  lines: +1 -1
Semantiques est desormais un tableau a double entree. Nous positionnons aussi la valeur de couchesemantique a OUI, s'il s'agit de la zone des deductions (pas de + devant le nom du fichier), ou de NON s'il s'agit de regles en couche.

Nous avons aussi rajoute un parametre a AppliqueSemantique pour definir la zone dans laquelle ces regles s'appliquent. Dans ce fichier, les regles sont dans la zone deduction et donc le parametre transmis est OUI.
----------------------------
revision 1.8
date: 2005/07/27 13:54:27;  author: roux;  state: Exp;  lines: +86 -44
Rajout des balises sans fin. Cela consiste en:

a) une nouvelle liste de typeVoc (BALISE..SF)
b) une nouvelle variable gBaliseSansFin qui n'est initialisee qu'a la section INITIALE...
c) une mise-a-jour des traits avec cette balise partout ou on utilisait gBaliseTraits...
----------------------------
revision 1.7
date: 2005/07/27 08:31:43;  author: roux;  state: Exp;  lines: +3 -2
On a rajoute un nouveau flag: NON_NORMALISATION_TAG qui permet de garder intact le tag provenant des fsts... Par defaut, ces tags sont mis en minuscule.
----------------------------
revision 1.6
date: 2005/06/03 12:05:48;  author: grondeau;  state: Exp;  lines: +6 -3
*** empty log message ***
----------------------------
revision 1.5
date: 2005/04/18 09:04:07;  author: grondeau;  state: Exp;  lines: +7 -8
*** empty log message ***
----------------------------
revision 1.4
date: 2005/04/06 16:28:45;  author: grondeau;  state: Exp;  lines: +34 -1
*** empty log message ***
----------------------------
revision 1.3
date: 2005/03/30 09:31:41;  author: grondeau;  state: Exp;  lines: +1 -5
*** empty log message ***
----------------------------
revision 1.2
date: 2005/03/24 09:41:55;  author: grondeau;  state: Exp;  lines: +12 -9
*** empty log message ***
----------------------------
revision 1.1
date: 2005/03/02 10:07:58;  author: grondeau;  state: Exp;
*** empty log message ***
=============================================================================
